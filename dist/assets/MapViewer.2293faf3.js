import{i as FR,o as Le,c as Be,j as gD,k as NR,a as ci,r as Pn,_ as kn,l as D_,m as Ur,q as dn,d as z,b as L,F as Er,s as lg,f as vt,x as eh,y as zp,t as bi,e as Ci,T as To,z as lm,p as Rr,h as br,n as Li,A as GR,g as Ls,u as mD,B as Wt,C as I_,D as HR,E as E0,G as um,H as cm,I as vD,J as yD,w as L_,v as wn,K as _D}from"./index.a90f3805.js";import{d as sa,a as xu,c as us,_ as CD}from"./encryption.fb6bb8c3.js";var wD=Object.defineProperty,SD=Object.defineProperties,ED=Object.getOwnPropertyDescriptors,ef=Object.getOwnPropertySymbols,WR=Object.prototype.hasOwnProperty,VR=Object.prototype.propertyIsEnumerable,x0=(r,e,t)=>e in r?wD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xD=(r,e)=>{for(var t in e||(e={}))WR.call(e,t)&&x0(r,t,e[t]);if(ef)for(var t of ef(e))VR.call(e,t)&&x0(r,t,e[t]);return r},RD=(r,e)=>SD(r,ED(e)),bD=(r,e)=>{var t={};for(var i in r)WR.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&ef)for(var i of ef(r))e.indexOf(i)<0&&VR.call(r,i)&&(t[i]=r[i]);return t};const R0={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((r,e)=>(r[e.id]=e)&&r,{})}},methods:{updatePaneComponents(){this.panes.forEach(r=>{r.update&&r.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[r.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(r,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(r){this.touch.mouseDown&&(r.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(r)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(r=>({min:r.min,max:r.max,size:r.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(r,e){"ontouchstart"in window&&(r.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(r,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(r,e){let t=0;this.panes=this.panes.map((i,n)=>(i.size=n===e?i.max:i.min,n!==e&&(t+=i.min),i)),this.panes[e].size-=t,this.$emit("pane-maximize",this.panes[e])},onPaneClick(r,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(r){const e=this.container.getBoundingClientRect(),{clientX:t,clientY:i}="ontouchstart"in window&&r.touches?r.touches[0]:r;return{x:t-e.left,y:i-e.top}},getCurrentDragPercentage(r){r=r[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(r=e-r),r*100/e},calculatePanesSize(r){const e=this.touch.activeSplitter;let t={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const i=0+(this.pushOtherPanes?0:t.prevPanesSize),n=100-(this.pushOtherPanes?0:t.nextPanesSize),o=Math.max(Math.min(this.getCurrentDragPercentage(r),n),i);let s=[e,e+1],a=this.panes[s[0]]||null,l=this.panes[s[1]]||null;const u=a.max<100&&o>=a.max+t.prevPanesSize,c=l.max<100&&o<=100-(l.max+this.sumNextPanesSize(e+1));if(u||c){u?(a.size=a.max,l.size=Math.max(100-a.max-t.prevPanesSize-t.nextPanesSize,0)):(a.size=Math.max(100-l.max-t.prevPanesSize-this.sumNextPanesSize(e+1),0),l.size=l.max);return}if(this.pushOtherPanes){const h=this.doPushOtherPanes(t,o);if(!h)return;({sums:t,panesToResize:s}=h),a=this.panes[s[0]]||null,l=this.panes[s[1]]||null}a!==null&&(a.size=Math.min(Math.max(o-t.prevPanesSize-t.prevReachedMinPanes,a.min),a.max)),l!==null&&(l.size=Math.min(Math.max(100-o-t.nextPanesSize-t.nextReachedMinPanes,l.min),l.max))},doPushOtherPanes(r,e){const t=this.touch.activeSplitter,i=[t,t+1];return e<r.prevPanesSize+this.panes[i[0]].min&&(i[0]=this.findPrevExpandedPane(t).index,r.prevReachedMinPanes=0,i[0]<t&&this.panes.forEach((n,o)=>{o>i[0]&&o<=t&&(n.size=n.min,r.prevReachedMinPanes+=n.min)}),r.prevPanesSize=this.sumPrevPanesSize(i[0]),i[0]===void 0)?(r.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((n,o)=>{o>0&&o<=t&&(n.size=n.min,r.prevReachedMinPanes+=n.min)}),this.panes[i[1]].size=100-r.prevReachedMinPanes-this.panes[0].min-r.prevPanesSize-r.nextPanesSize,null):e>100-r.nextPanesSize-this.panes[i[1]].min&&(i[1]=this.findNextExpandedPane(t).index,r.nextReachedMinPanes=0,i[1]>t+1&&this.panes.forEach((n,o)=>{o>t&&o<i[1]&&(n.size=n.min,r.nextReachedMinPanes+=n.min)}),r.nextPanesSize=this.sumNextPanesSize(i[1]-1),i[1]===void 0)?(r.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((n,o)=>{o<this.panesCount-1&&o>=t+1&&(n.size=n.min,r.nextReachedMinPanes+=n.min)}),this.panes[i[0]].size=100-r.prevPanesSize-r.nextReachedMinPanes-this.panes[this.panesCount-1].min-r.nextPanesSize,null):{sums:r,panesToResize:i}},sumPrevPanesSize(r){return this.panes.reduce((e,t,i)=>e+(i<r?t.size:0),0)},sumNextPanesSize(r){return this.panes.reduce((e,t,i)=>e+(i>r+1?t.size:0),0)},findPrevExpandedPane(r){return[...this.panes].reverse().find(t=>t.index<r&&t.size>t.min)||{}},findNextExpandedPane(r){return this.panes.find(t=>t.index>r+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const t=e.classList.contains("splitpanes__pane"),i=e.classList.contains("splitpanes__splitter");if(!t&&!i){e.parentNode.removeChild(e),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.");return}})},addSplitter(r,e,t=!1){const i=r-1,n=document.createElement("div");n.classList.add("splitpanes__splitter"),t||(n.onmousedown=o=>this.onMouseDown(o,i),typeof window<"u"&&"ontouchstart"in window&&(n.ontouchstart=o=>this.onMouseDown(o,i)),n.onclick=o=>this.onSplitterClick(o,i+1)),this.dblClickSplitter&&(n.ondblclick=o=>this.onSplitterDblClick(o,i+1)),e.parentNode.insertBefore(n,e)},removeSplitter(r){r.onmousedown=void 0,r.onclick=void 0,r.ondblclick=void 0,r.parentNode.removeChild(r)},redoSplitters(){const r=Array.from(this.container.children);r.forEach(t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)});let e=0;r.forEach(t=>{t.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,t,!0):e&&this.addSplitter(e,t),e++)})},requestUpdate(r){var e=r,{target:t}=e,i=bD(e,["target"]);const n=this.indexedPanes[t._.uid];Object.entries(i).forEach(([o,s])=>n[o]=s)},onPaneAdd(r){let e=-1;Array.from(r.$el.parentNode.children).some(n=>(n.className.includes("splitpanes__pane")&&e++,n===r.$el));const t=parseFloat(r.minSize),i=parseFloat(r.maxSize);this.panes.splice(e,0,{id:r._.uid,index:e,min:isNaN(t)?0:t,max:isNaN(i)?100:i,size:r.size===null?null:parseFloat(r.size),givenSize:r.size,update:r.update}),this.panes.forEach((n,o)=>n.index=o),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},onPaneRemove(r){const e=this.panes.findIndex(i=>i.id===r._.uid),t=this.panes.splice(e,1)[0];this.panes.forEach((i,n)=>i.index=n),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:RD(xD({},t),{index:e})}),this.$emit("pane-remove",{removed:t,panes:this.panes.map(i=>({min:i.min,max:i.max,size:i.size}))})})},resetPaneSizes(r={}){!r.addedPane&&!r.removedPane?this.initialPanesSizing():this.panes.some(e=>e.givenSize!==null||e.min||e.max<100)?this.equalizeAfterAddOrRemove(r):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const r=100/this.panesCount;let e=0,t=[],i=[];this.panes.forEach(n=>{n.size=Math.max(Math.min(r,n.max),n.min),e-=n.size,n.size>=n.max&&t.push(n.id),n.size<=n.min&&i.push(n.id)}),e>.1&&this.readjustSizes(e,t,i)},initialPanesSizing(){100/this.panesCount;let r=100,e=[],t=[],i=0;this.panes.forEach(o=>{r-=o.size,o.size!==null&&i++,o.size>=o.max&&e.push(o.id),o.size<=o.min&&t.push(o.id)});let n=100;r>.1&&(this.panes.forEach(o=>{o.size===null&&(o.size=Math.max(Math.min(r/(this.panesCount-i),o.max),o.min)),n-=o.size}),n>.1&&this.readjustSizes(r,e,t))},equalizeAfterAddOrRemove({addedPane:r,removedPane:e}={}){let t=100/this.panesCount,i=0,n=[],o=[];r&&r.givenSize!==null&&(t=(100-r.givenSize)/(this.panesCount-1)),this.panes.forEach(s=>{i-=s.size,s.size>=s.max&&n.push(s.id),s.size<=s.min&&o.push(s.id)}),!(Math.abs(i)<.1)&&(this.panes.forEach(s=>{r&&r.givenSize!==null&&r.id===s.id||(s.size=Math.max(Math.min(t,s.max),s.min)),i-=s.size,s.size>=s.max&&n.push(s.id),s.size<=s.min&&o.push(s.id)}),i>.1&&this.readjustSizes(i,n,o))},readjustSizes(r,e,t){let i;r>0?i=r/(this.panesCount-e.length):i=r/(this.panesCount-t.length),this.panes.forEach((n,o)=>{if(r>0&&!e.includes(n.id)){const s=Math.max(Math.min(n.size+i,n.max),n.min),a=s-n.size;r-=a,n.size=s}else if(!t.includes(n.id)){const s=Math.max(Math.min(n.size+i,n.max),n.min),a=s-n.size;r-=a,n.size=s}n.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[n.id].size}%`})}),Math.abs(r)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(r){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,i)=>{t.ondblclick=r?n=>this.onSplitterDblClick(n,i):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return FR("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}};var MD=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t};const TD={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(r){this.style=r}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(r){this.requestUpdate({target:this,size:r})},minSizeNumber(r){this.requestUpdate({target:this,min:r})},maxSizeNumber(r){this.requestUpdate({target:this,max:r})}}};function PD(r,e,t,i,n,o){return Le(),Be("div",{class:"splitpanes__pane",onClick:e[0]||(e[0]=s=>o.onPaneClick(s,r._.uid)),style:NR(r.style)},[gD(r.$slots,"default")],4)}var _d=MD(TD,[["render",PD]]);class OD{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Zr=OD,Ru={PROPERTYCHANGE:"propertychange"};class AD{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const F_=AD;function DD(r,e,t){let i,n;t=t||Za;let o=0,s=r.length,a=!1;for(;o<s;)i=o+(s-o>>1),n=+t(r[i],e),n<0?o=i+1:(s=i,a=!n);return a?o:~o}function Za(r,e){return r>e?1:r<e?-1:0}function N_(r,e,t){const i=r.length;if(r[0]<=e)return 0;if(e<=r[i-1])return i-1;{let n;if(t>0){for(n=1;n<i;++n)if(r[n]<e)return n-1}else if(t<0){for(n=1;n<i;++n)if(r[n]<=e)return n}else for(n=1;n<i;++n){if(r[n]==e)return n;if(r[n]<e)return typeof t=="function"?t(e,r[n-1],r[n])>0?n-1:n:r[n-1]-e<e-r[n]?n-1:n}return i-1}}function ID(r,e,t){for(;e<t;){const i=r[e];r[e]=r[t],r[t]=i,++e,--t}}function zr(r,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let n=0;n<i;n++)r[r.length]=t[n]}function ul(r,e){const t=r.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(r[i]!==e[i])return!1;return!0}function LD(r,e,t){const i=e||Za;return r.every(function(n,o){if(o===0)return!0;const s=i(r[o-1],n);return!(s>0||t&&s===0)})}function Js(){return!0}function $u(){return!1}function Ja(){}function FD(r){let e=!1,t,i,n;return function(){const o=Array.prototype.slice.call(arguments);return(!e||this!==n||!ul(o,i))&&(e=!0,n=this,i=o,t=r.apply(this,arguments)),t}}function Yu(r){for(const e in r)delete r[e]}function Qa(r){let e;for(e in r)return!1;return!e}class ND extends F_{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),n=i[e]||(i[e]=[]);n.includes(t)||n.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const o=t?new Zr(e):e;o.target||(o.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let l;for(let u=0,c=n.length;u<c;++u)if("handleEvent"in n[u]?l=n[u].handleEvent(o):l=n[u].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[i]===0){let u=a[i];for(delete a[i];u--;)this.removeEventListener(i,Ja);delete s[i]}return l}disposeInternal(){this.listeners_&&Yu(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){const i=this.listeners_&&this.listeners_[e];if(i){const n=i.indexOf(t);n!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[n]=Ja,++this.pendingRemovals_[e]):(i.splice(n,1),i.length===0&&delete this.listeners_[e]))}}}const ug=ND,ut={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Ot(r,e,t,i,n){if(i&&i!==r&&(t=t.bind(i)),n){const s=t;t=function(){r.removeEventListener(e,t),s.apply(this,arguments)}}const o={target:r,type:e,listener:t};return r.addEventListener(e,t),o}function tf(r,e,t,i){return Ot(r,e,t,i,!0)}function ti(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Yu(r))}class cg extends ug{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(ut.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,n=new Array(i);for(let o=0;o<i;++o)n[o]=Ot(this,e[o],t);return n}else return Ot(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const n=e.length;i=new Array(n);for(let o=0;o<n;++o)i[o]=tf(this,e[o],t)}else i=tf(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)hg(i);else if(Array.isArray(e))for(let n=0,o=e.length;n<o;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}cg.prototype.on;cg.prototype.once;cg.prototype.un;function hg(r){if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)ti(r[e]);else ti(r)}const kR=cg;function tt(){throw new Error("Unimplemented abstract method.")}let GD=0;function Tt(r){return r.ol_uid||(r.ol_uid=String(++GD))}class b0 extends Zr{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class HD extends kR{constructor(e){super(),this.on,this.once,this.un,Tt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new b0(i,e,t)),i=Ru.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new b0(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const n=this.values_||(this.values_={});if(i)n[e]=t;else{const o=n[e];n[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){!e.values_||Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Qa(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const Jr=HD,WD={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection"};class VD extends Error{constructor(e){const t=WD[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}const BR=VD,Ui={ADD:"add",REMOVE:"remove"},M0={LENGTH:"length"};class Cd extends Zr{constructor(e,t,i){super(e),this.element=t,this.index=i}}class kD extends Jr{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,n=this.array_.length;i<n;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(M0.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Cd(Ui.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,n=t.length;i<n;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Cd(Ui.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Cd(Ui.REMOVE,n,e)),this.dispatchEvent(new Cd(Ui.ADD,t,e))}updateLength_(){this.set(M0.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==t)throw new BR(58)}}const kr=kD,Qs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",BD=Qs.includes("firefox"),UD=Qs.includes("safari")&&!Qs.includes("chrom");UD&&(Qs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Qs));const zD=Qs.includes("webkit")&&!Qs.includes("edge"),jD=Qs.includes("macintosh"),UR=typeof devicePixelRatio<"u"?devicePixelRatio:1,G_=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,$D=typeof Image<"u"&&Image.prototype.decode,zR=function(){let r=!1;try{const e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}();function Et(r,e){if(!r)throw new BR(e)}new Array(6);function vo(){return[1,0,0,1,0,0]}function YD(r,e,t,i,n,o,s){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=o,r[5]=s,r}function KD(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Bi(r,e){const t=e[0],i=e[1];return e[0]=r[0]*t+r[2]*i+r[4],e[1]=r[1]*t+r[3]*i+r[5],e}function XD(r,e,t){return YD(r,e,0,0,t,0,0)}function ea(r,e,t,i,n,o,s,a){const l=Math.sin(o),u=Math.cos(o);return r[0]=i*u,r[1]=n*l,r[2]=-i*l,r[3]=n*u,r[4]=s*i*u-a*i*l+e,r[5]=s*n*l+a*n*u+t,r}function H_(r,e){const t=qD(e);Et(t!==0,32);const i=e[0],n=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return r[0]=s/t,r[1]=-n/t,r[2]=-o/t,r[3]=i/t,r[4]=(o*l-s*a)/t,r[5]=-(i*l-n*a)/t,r}function qD(r){return r[0]*r[3]-r[1]*r[2]}let T0;function jR(r){const e="matrix("+r.join(", ")+")";if(G_)return e;const t=T0||(T0=document.createElement("div"));return t.style.transform=e,t.style.transform}const Vi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ly(r){const e=nr();for(let t=0,i=r.length;t<i;++t)th(e,r[t]);return e}function ZD(r,e,t){const i=Math.min.apply(null,r),n=Math.min.apply(null,e),o=Math.max.apply(null,r),s=Math.max.apply(null,e);return Xr(i,n,o,s,t)}function gh(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function $R(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function cl(r,e,t){let i,n;return e<r[0]?i=r[0]-e:r[2]<e?i=e-r[2]:i=0,t<r[1]?n=r[1]-t:r[3]<t?n=t-r[3]:n=0,i*i+n*n}function dg(r,e){return W_(r,e[0],e[1])}function Fs(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function W_(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function uy(r,e){const t=r[0],i=r[1],n=r[2],o=r[3],s=e[0],a=e[1];let l=Vi.UNKNOWN;return s<t?l=l|Vi.LEFT:s>n&&(l=l|Vi.RIGHT),a<i?l=l|Vi.BELOW:a>o&&(l=l|Vi.ABOVE),l===Vi.UNKNOWN&&(l=Vi.INTERSECTING),l}function nr(){return[1/0,1/0,-1/0,-1/0]}function Xr(r,e,t,i,n){return n?(n[0]=r,n[1]=e,n[2]=t,n[3]=i,n):[r,e,t,i]}function Bh(r){return Xr(1/0,1/0,-1/0,-1/0,r)}function JD(r,e){const t=r[0],i=r[1];return Xr(t,i,t,i,e)}function YR(r,e,t,i,n){const o=Bh(n);return XR(o,r,e,t,i)}function mh(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function KR(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function th(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function XR(r,e,t,i,n){for(;t<i;t+=n)QD(r,e[t],e[t+1]);return r}function QD(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function V_(r,e){let t;return t=e(pg(r)),t||(t=e(fg(r)),t)||(t=e(gg(r)),t)||(t=e(hl(r)),t)?t:!1}function cy(r){let e=0;return k_(r)||(e=si(r)*Eo(r)),e}function pg(r){return[r[0],r[1]]}function fg(r){return[r[2],r[1]]}function el(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function eI(r,e){let t;return e==="bottom-left"?t=pg(r):e==="bottom-right"?t=fg(r):e==="top-left"?t=hl(r):e==="top-right"?t=gg(r):Et(!1,13),t}function hy(r,e,t,i,n){const[o,s,a,l,u,c,h,d]=dy(r,e,t,i);return Xr(Math.min(o,a,u,h),Math.min(s,l,c,d),Math.max(o,a,u,h),Math.max(s,l,c,d),n)}function dy(r,e,t,i){const n=e*i[0]/2,o=e*i[1]/2,s=Math.cos(t),a=Math.sin(t),l=n*s,u=n*a,c=o*s,h=o*a,d=r[0],p=r[1];return[d-l+h,p-u-c,d-l-h,p-u+c,d+l-h,p+u+c,d+l+h,p+u-c,d-l+h,p-u-c]}function Eo(r){return r[3]-r[1]}function ih(r,e,t){const i=t||nr();return Sn(r,e)?(r[0]>e[0]?i[0]=r[0]:i[0]=e[0],r[1]>e[1]?i[1]=r[1]:i[1]=e[1],r[2]<e[2]?i[2]=r[2]:i[2]=e[2],r[3]<e[3]?i[3]=r[3]:i[3]=e[3]):Bh(i),i}function hl(r){return[r[0],r[3]]}function gg(r){return[r[2],r[3]]}function si(r){return r[2]-r[0]}function Sn(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function k_(r){return r[2]<r[0]||r[3]<r[1]}function tI(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function iI(r,e,t){let i=!1;const n=uy(r,e),o=uy(r,t);if(n===Vi.INTERSECTING||o===Vi.INTERSECTING)i=!0;else{const s=r[0],a=r[1],l=r[2],u=r[3],c=e[0],h=e[1],d=t[0],p=t[1],f=(p-h)/(d-c);let m,g;!!(o&Vi.ABOVE)&&!(n&Vi.ABOVE)&&(m=d-(p-u)/f,i=m>=s&&m<=l),!i&&!!(o&Vi.RIGHT)&&!(n&Vi.RIGHT)&&(g=p-(d-l)*f,i=g>=a&&g<=u),!i&&!!(o&Vi.BELOW)&&!(n&Vi.BELOW)&&(m=d-(p-a)/f,i=m>=s&&m<=l),!i&&!!(o&Vi.LEFT)&&!(n&Vi.LEFT)&&(g=p-(d-s)*f,i=g>=a&&g<=u)}return i}function nI(r,e,t,i){let n=[];if(i>1){const a=r[2]-r[0],l=r[3]-r[1];for(let u=0;u<i;++u)n.push(r[0]+a*u/i,r[1],r[2],r[1]+l*u/i,r[2]-a*u/i,r[3],r[0],r[3]-l*u/i)}else n=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];e(n,n,2);const o=[],s=[];for(let a=0,l=n.length;a<l;a+=2)o.push(n[a]),s.push(n[a+1]);return ZD(o,s,t)}function qR(r,e){const t=e.getExtent(),i=el(r);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const n=si(t),s=Math.floor((i[0]-t[0])/n)*n;r[0]-=s,r[2]-=s}return r}function rI(r,e){if(e.canWrapX()){const t=e.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[t[0],r[1],t[2],r[3]]];qR(r,e);const i=si(t);if(si(r)>i)return[[t[0],r[1],t[2],r[3]]];if(r[0]<t[0])return[[r[0]+i,r[1],t[2],r[3]],[t[0],r[1],r[2],r[3]]];if(r[2]>t[2])return[[r[0],r[1],t[2],r[3]],[t[0],r[1],r[2]-i,r[3]]]}return[r]}function Mi(r,e,t){return Math.min(Math.max(r,e),t)}function oI(r,e,t,i,n,o){const s=n-t,a=o-i;if(s!==0||a!==0){const l=((r-t)*s+(e-i)*a)/(s*s+a*a);l>1?(t=n,i=o):l>0&&(t+=s*l,i+=a*l)}return Jo(r,e,t,i)}function Jo(r,e,t,i){const n=t-r,o=i-e;return n*n+o*o}function sI(r){const e=r.length;for(let i=0;i<e;i++){let n=i,o=Math.abs(r[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(r[a][i]);l>o&&(o=l,n=a)}if(o===0)return null;const s=r[n];r[n]=r[i],r[i]=s;for(let a=i+1;a<e;a++){const l=-r[a][i]/r[i][i];for(let u=i;u<e+1;u++)i==u?r[a][u]=0:r[a][u]+=l*r[i][u]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=r[i][e]/r[i][i];for(let n=i-1;n>=0;n--)r[n][e]-=r[n][i]*t[i]}return t}function Ba(r){return r*Math.PI/180}function Ua(r,e){const t=r%e;return t*e<0?t+e:t}function $o(r,e,t){return r+t*(e-r)}function B_(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}function wd(r,e){return Math.floor(B_(r,e))}function Sd(r,e){return Math.ceil(B_(r,e))}const aI=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,lI=/^([a-z]*)$|^hsla?\(.*\)$/i;function ZR(r){return typeof r=="string"?r:JR(r)}function uI(r){const e=document.createElement("div");if(e.style.color=r,e.style.color!==""){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}const cI=function(){const e={};let t=0;return function(i){let n;if(e.hasOwnProperty(i))n=e[i];else{if(t>=1024){let o=0;for(const s in e)(o++&3)===0&&(delete e[s],--t)}n=hI(i),e[i]=n,++t}return n}}();function nf(r){return Array.isArray(r)?r:cI(r)}function hI(r){let e,t,i,n,o;if(lI.exec(r)&&(r=uI(r)),aI.exec(r)){const s=r.length-1;let a;s<=4?a=1:a=2;const l=s===4||s===8;e=parseInt(r.substr(1+0*a,a),16),t=parseInt(r.substr(1+1*a,a),16),i=parseInt(r.substr(1+2*a,a),16),l?n=parseInt(r.substr(1+3*a,a),16):n=255,a==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,l&&(n=(n<<4)+n)),o=[e,t,i,n/255]}else r.startsWith("rgba(")?(o=r.slice(5,-1).split(",").map(Number),P0(o)):r.startsWith("rgb(")?(o=r.slice(4,-1).split(",").map(Number),o.push(1),P0(o)):Et(!1,14);return o}function P0(r){return r[0]=Mi(r[0]+.5|0,0,255),r[1]=Mi(r[1]+.5|0,0,255),r[2]=Mi(r[2]+.5|0,0,255),r[3]=Mi(r[3],0,1),r}function JR(r){let e=r[0];e!=(e|0)&&(e=e+.5|0);let t=r[1];t!=(t|0)&&(t=t+.5|0);let i=r[2];i!=(i|0)&&(i=i+.5|0);const n=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+i+","+n+")"}class dI{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const n=O0(e,t,i);return n in this.cache_?this.cache_[n]:null}set(e,t,i,n){const o=O0(e,t,i);this.cache_[o]=n,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function O0(r,e,t){const i=t?ZR(t):"null";return e+":"+r+":"+i}const rf=new dI,zt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class pI extends Jr{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[zt.OPACITY]=e.opacity!==void 0?e.opacity:1,Et(typeof t[zt.OPACITY]=="number",64),t[zt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[zt.Z_INDEX]=e.zIndex,t[zt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[zt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[zt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[zt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=Mi(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return tt()}getLayerStatesArray(e){return tt()}getExtent(){return this.get(zt.EXTENT)}getMaxResolution(){return this.get(zt.MAX_RESOLUTION)}getMinResolution(){return this.get(zt.MIN_RESOLUTION)}getMinZoom(){return this.get(zt.MIN_ZOOM)}getMaxZoom(){return this.get(zt.MAX_ZOOM)}getOpacity(){return this.get(zt.OPACITY)}getSourceState(){return tt()}getVisible(){return this.get(zt.VISIBLE)}getZIndex(){return this.get(zt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(zt.EXTENT,e)}setMaxResolution(e){this.set(zt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(zt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(zt.MAX_ZOOM,e)}setMinZoom(e){this.set(zt.MIN_ZOOM,e)}setOpacity(e){Et(typeof e=="number",64),this.set(zt.OPACITY,e)}setVisible(e){this.set(zt.VISIBLE,e)}setZIndex(e){this.set(zt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const QR=pI,js={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class fI extends QR{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(zt.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(zt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&(ti(this.sourceChangeKey_),this.sourceChangeKey_=null);const e=this.getSource();e&&(this.sourceChangeKey_=Ot(e,ut.CHANGE,this.handleSourceChange_,this)),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(t=>t([]))}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}render(e,t){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(zt.MAP,e)}getMapInternal(){return this.get(zt.MAP)}setMap(e){this.mapPrecomposeKey_&&(ti(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ti(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ot(e,js.PRECOMPOSE,function(t){const n=t.frameState.layerStatesArray,o=this.getLayerState(!1);Et(!n.some(function(s){return s.layer===o.layer}),67),n.push(o)},this),this.mapRenderKey_=Ot(this,ut.CHANGE,e.render,e),this.changed())}setSource(e){this.set(zt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function U_(r,e){if(!r.visible)return!1;const t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;const i=e.zoom;return i>r.minZoom&&i<=r.maxZoom}const mg=fI;function gI(r,e){const t=(""+r).split("."),i=(""+e).split(".");for(let n=0;n<Math.max(t.length,i.length);n++){const o=parseInt(t[n]||"0",10),s=parseInt(i[n]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}function mI(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function of(r,e){let t=!0;for(let i=r.length-1;i>=0;--i)if(r[i]!=e[i]){t=!1;break}return t}function z_(r,e){const t=Math.cos(e),i=Math.sin(e),n=r[0]*t-r[1]*i,o=r[1]*t+r[0]*i;return r[0]=n,r[1]=o,r}function vI(r,e){return r[0]*=e,r[1]*=e,r}function eb(r,e){const t=r[0]-e[0],i=r[1]-e[1];return t*t+i*i}function tb(r,e){return Math.sqrt(eb(r,e))}function ib(r,e){if(e.canWrapX()){const t=si(e.getExtent()),i=yI(r,e,t);i&&(r[0]-=i*t)}return r}function yI(r,e,t){const i=e.getExtent();let n=0;return e.canWrapX()&&(r[0]<i[0]||r[0]>i[2])&&(t=t||si(i),n=Math.floor((r[0]-i[0])/t)),n}class _I extends F_{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){tt()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;ea(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),H_(n,i)}forEachFeatureAtCoordinate(e,t,i,n,o,s,a,l){let u;const c=t.viewState;function h(S,b,T,F){return o.call(s,b,S?T:null,F)}const d=c.projection,p=ib(e.slice(),d),f=[[0,0]];if(d.canWrapX()&&n){const S=d.getExtent(),b=si(S);f.push([-b,0],[b,0])}const m=t.layerStatesArray,g=m.length,y=[],C=[];for(let S=0;S<f.length;S++)for(let b=g-1;b>=0;--b){const T=m[b],F=T.layer;if(F.hasRenderer()&&U_(T,c)&&a.call(l,F)){const R=F.getRenderer(),P=F.getSource();if(R&&P){const G=P.getWrapX()?p:e,q=h.bind(null,T.managed);C[0]=G[0]+f[S][0],C[1]=G[1]+f[S][1],u=R.forEachFeatureAtCoordinate(C,t,i,q,y)}if(u)return u}}if(y.length===0)return;const w=1/y.length;return y.forEach((S,b)=>S.distanceSq+=b*w),y.sort((S,b)=>S.distanceSq-b.distanceSq),y.some(S=>u=S.callback(S.feature,S.layer,S.geometry)),u}hasFeatureAtCoordinate(e,t,i,n,o,s){return this.forEachFeatureAtCoordinate(e,t,i,n,Js,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){tt()}scheduleExpireIconCache(e){rf.canExpireCache()&&e.postRenderFunctions.push(CI)}}function CI(r,e){rf.expire()}const wI=_I;class SI extends Zr{constructor(e,t,i,n){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=n}}const nb=SI,Ed="ol-hidden",EI="ol-selectable",vg="ol-unselectable",j_="ol-control",A0="ol-collapsed",xI=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),D0=["style","variant","weight","size","lineHeight","family"],rb=function(r){const e=r.match(xI);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,n=D0.length;i<n;++i){const o=e[i+1];o!==void 0&&(t[D0[i]]=o)}return t.families=t.family.split(/,\s?/),t};function rr(r,e,t,i){let n;return t&&t.length?n=t.shift():G_?n=new OffscreenCanvas(r||300,e||300):n=document.createElement("canvas"),r&&(n.width=r),e&&(n.height=e),n.getContext("2d",i)}function ob(r){const e=r.canvas;e.width=1,e.height=1,r.clearRect(0,0,1,1)}function RI(r){let e=r.offsetWidth;const t=getComputedStyle(r);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function bI(r){let e=r.offsetHeight;const t=getComputedStyle(r);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function I0(r,e){const t=e.parentNode;t&&t.replaceChild(r,e)}function sf(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function sb(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function MI(r,e){const t=r.childNodes;for(let i=0;;++i){const n=t[i],o=e[i];if(!n&&!o)break;if(n!==o){if(!n){r.appendChild(o);continue}if(!o){r.removeChild(n),--i;continue}r.insertBefore(o,n)}}}const ab="10px sans-serif",Qo="#000",af="round",vh=[],yh=0,bu="round",_h=10,Ch="#000",wh="center",lf="middle",Ia=[0,0,0,0],Sh=1,ko=new Jr;let Xl=null,py;const fy={},TI=function(){const e="32px ",t=["monospace","serif"],i=t.length,n="wmytzilWMYTZIL@#/&?$%10\uF013";let o,s;function a(u,c,h){let d=!0;for(let p=0;p<i;++p){const f=t[p];if(s=uf(u+" "+c+" "+e+f,n),h!=f){const m=uf(u+" "+c+" "+e+h+","+f,n);d=d&&m!=s}}return!!d}function l(){let u=!0;const c=ko.getKeys();for(let h=0,d=c.length;h<d;++h){const p=c[h];ko.get(p)<100&&(a.apply(this,p.split(`
`))?(Yu(fy),Xl=null,py=void 0,ko.set(p,100)):(ko.set(p,ko.get(p)+1,!0),u=!1))}u&&(clearInterval(o),o=void 0)}return function(u){const c=rb(u);if(!c)return;const h=c.families;for(let d=0,p=h.length;d<p;++d){const f=h[d],m=c.style+`
`+c.weight+`
`+f;ko.get(m)===void 0&&(ko.set(m,100,!0),a(c.style,c.weight,f)||(ko.set(m,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),PI=function(){let r;return function(e){let t=fy[e];if(t==null){if(G_){const i=rb(e),n=lb(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);fy[e]=t}return t}}();function lb(r,e){return Xl||(Xl=rr(1,1)),r!=py&&(Xl.font=r,py=Xl.font),Xl.measureText(e)}function uf(r,e){return lb(r,e).width}function L0(r,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((n,o)=>Math.max(n,uf(r,o)),0);return t[e]=i,i}function OI(r,e){const t=[],i=[],n=[];let o=0,s=0,a=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if(h===`
`||u===c){o=Math.max(o,s),n.push(s),s=0,a+=l;continue}const d=e[u+1]||r.font,p=uf(d,h);t.push(p),s+=p;const f=PI(d);i.push(f),l=Math.max(l,f)}return{width:o,height:a,widths:t,heights:i,lineWidths:n}}function AI(r,e,t,i,n,o,s,a,l,u,c){r.save(),t!==1&&(r.globalAlpha*=t),e&&r.setTransform.apply(r,e),i.contextInstructions?(r.translate(l,u),r.scale(c[0],c[1]),DI(i,r)):c[0]<0||c[1]<0?(r.translate(l,u),r.scale(c[0],c[1]),r.drawImage(i,n,o,s,a,0,0,s,a)):r.drawImage(i,n,o,s,a,l,u,s*c[0],a*c[1]),r.restore()}function DI(r,e){const t=r.contextInstructions;for(let i=0,n=t.length;i<n;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class II extends wI{constructor(e){super(e),this.fontChangeListenerKey_=Ot(ko,Ru.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=vg+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const n=new nb(e,void 0,t);i.dispatchEvent(n)}}disposeInternal(){ti(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(js.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(s,a){return s.zIndex-a.zIndex}),i=e.viewState;this.children_.length=0;const n=[];let o=null;for(let s=0,a=t.length;s<a;++s){const l=t[s];e.layerIndex=s;const u=l.layer,c=u.getSourceState();if(!U_(l,i)||c!="ready"&&c!="undefined"){u.unrender();continue}const h=u.render(e,o);!h||(h!==o&&(this.children_.push(h),o=h),"getDeclutter"in u&&n.push(u))}for(let s=n.length-1;s>=0;--s)n[s].renderDeclutter(e);MI(this.element_,this.children_),this.dispatchRenderEvent(js.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}const LI=II;class Ps extends Zr{constructor(e,t){super(e),this.layer=t}}const hm={LAYERS:"layers"};class $_ extends QR{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(hm.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new kr(i.slice(),{unique:!0}):Et(typeof i.getArray=="function",43):i=new kr(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(ti),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ot(e,Ui.ADD,this.handleLayersAdd_,this),Ot(e,Ui.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(ti);Yu(this.listenerKeys_);const t=e.getArray();for(let i=0,n=t.length;i<n;i++){const o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new Ps("addlayer",o))}this.changed()}registerLayerListeners_(e){const t=[Ot(e,Ru.PROPERTYCHANGE,this.handleLayerChange_,this),Ot(e,ut.CHANGE,this.handleLayerChange_,this)];e instanceof $_&&t.push(Ot(e,"addlayer",this.handleLayerGroupAdd_,this),Ot(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Tt(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ps("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ps("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ps("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Tt(t);this.listenerKeys_[i].forEach(ti),delete this.listenerKeys_[i],this.dispatchEvent(new Ps("removelayer",t)),this.changed()}getLayers(){return this.get(hm.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let n=0,o=i.length;n<o;++n)this.dispatchEvent(new Ps("removelayer",i[n]))}this.set(hm.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(t)});const n=this.getLayerState();let o=n.zIndex;!e&&n.zIndex===void 0&&(o=0);for(let s=i,a=t.length;s<a;s++){const l=t[s];l.opacity*=n.opacity,l.visible=l.visible&&n.visible,l.maxResolution=Math.min(l.maxResolution,n.maxResolution),l.minResolution=Math.max(l.minResolution,n.minResolution),l.minZoom=Math.max(l.minZoom,n.minZoom),l.maxZoom=Math.min(l.maxZoom,n.maxZoom),n.extent!==void 0&&(l.extent!==void 0?l.extent=ih(l.extent,n.extent):l.extent=n.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}}const yg=$_;class FI extends Zr{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}const ql=FI;class NI extends ql{constructor(e,t,i,n,o,s){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=n!==void 0?n:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Bo=NI,Ht={SINGLECLICK:"singleclick",CLICK:ut.CLICK,DBLCLICK:ut.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},gy={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class GI extends ug{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Ot(i,gy.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ot(i,gy.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(ut.TOUCHMOVE,this.boundHandleTouchMove_,zR?{passive:!1}:!1)}emulateClick_(e){let t=new Bo(Ht.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Bo(Ht.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;const i=new Bo(Ht.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Ht.POINTERUP||t.type==Ht.POINTERCANCEL){delete this.trackedTouches_[i];for(const n in this.trackedTouches_)if(this.trackedTouches_[n].target!==t.target){delete this.trackedTouches_[n];break}}else(t.type==Ht.POINTERDOWN||t.type==Ht.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Bo(Ht.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(ti),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Bo(Ht.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.down_={};for(const i in e){const n=e[i];this.down_[i]=typeof n=="function"?Ja:n}if(this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ot(i,Ht.POINTERMOVE,this.handlePointerMove_,this),Ot(i,Ht.POINTERUP,this.handlePointerUp_,this),Ot(this.element_,Ht.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ot(this.element_.getRootNode(),Ht.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Bo(Ht.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Bo(Ht.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(ti(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ut.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ti(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ti),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const HI=GI,Uo={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},an={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},cf=1/0;class WI{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Yu(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(e){Et(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=cf?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,n=t.length,o=t[e],s=i[e],a=e;for(;e<n>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<n&&i[u]<i[l]?u:l;t[e]=t[c],i[e]=i[c],e=c}t[e]=o,i[e]=s,this.siftDown_(a,e)}siftDown_(e,t){const i=this.elements_,n=this.priorities_,o=i[t],s=n[t];for(;t>e;){const a=this.getParentIndex_(t);if(n[a]>s)i[t]=i[a],n[t]=n[a],t=a;else break}i[t]=o,n[t]=s}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let n=0;const o=t.length;let s,a,l;for(a=0;a<o;++a)s=t[a],l=e(s),l==cf?delete this.queuedElements_[this.keyFunction_(s)]:(i[n]=l,t[n++]=s);t.length=n,i.length=n,this.heapify_()}}const VI=WI,qe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class kI extends VI{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(ut.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===qe.LOADED||i===qe.ERROR||i===qe.EMPTY){i!==qe.ERROR&&t.removeEventListener(ut.CHANGE,this.boundHandleTileChange_);const n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0,n,o,s;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)o=this.dequeue()[0],s=o.getKey(),n=o.getState(),n===qe.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())}}const BI=kI;function UI(r,e,t,i,n){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return cf;const o=r.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(n)+Math.sqrt(s*s+a*a)/n}const un={ANIMATING:0,INTERACTING:1},Tr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},zI=42,Y_=256,Eh={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class jI{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Eh[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const ub=jI,Uh=6378137,tu=Math.PI*Uh,$I=[-tu,-tu,tu,tu],YI=[-180,-85,180,85],xd=Uh*Math.log(Math.tan(Math.PI/2));class El extends ub{constructor(e){super({code:e,units:"m",extent:$I,global:!0,worldExtent:YI,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Uh)}})}}const F0=[new El("EPSG:3857"),new El("EPSG:102100"),new El("EPSG:102113"),new El("EPSG:900913"),new El("http://www.opengis.net/def/crs/EPSG/0/3857"),new El("http://www.opengis.net/gml/srs/epsg.xml#3857")];function KI(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let n=0;n<i;n+=t){e[n]=tu*r[n]/180;let o=Uh*Math.log(Math.tan(Math.PI*(+r[n+1]+90)/360));o>xd?o=xd:o<-xd&&(o=-xd),e[n+1]=o}return e}function XI(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let n=0;n<i;n+=t)e[n]=180*r[n]/tu,e[n+1]=360*Math.atan(Math.exp(r[n+1]/Uh))/Math.PI-90;return e}const qI=6378137,N0=[-180,-90,180,90],ZI=Math.PI*qI/180;class fa extends ub{constructor(e,t){super({code:e,units:"degrees",extent:N0,axisOrientation:t,global:!0,metersPerUnit:ZI,worldExtent:N0})}}const G0=[new fa("CRS:84"),new fa("EPSG:4326","neu"),new fa("urn:ogc:def:crs:OGC:1.3:CRS84"),new fa("urn:ogc:def:crs:OGC:2:84"),new fa("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new fa("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new fa("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let my={};function JI(r){return my[r]||my[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function QI(r,e){my[r]=e}let mu={};function hf(r,e,t){const i=r.getCode(),n=e.getCode();i in mu||(mu[i]={}),mu[i][n]=t}function eL(r,e){let t;return r in mu&&e in mu[r]&&(t=mu[r][e]),t}const K_=63710088e-1;function vy(r,e,t){t=t||K_;const i=Ba(r[1]),n=Ba(e[1]),o=(n-i)/2,s=Ba(e[0]-r[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(n);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function dm(r,e){let t=0;for(let i=0,n=r.length;i<n-1;++i)t+=vy(r[i],r[i+1],e);return t}function cb(r,e){e=e||{};const t=e.radius||K_,i=e.projection||"EPSG:3857",n=r.getType();n!=="GeometryCollection"&&(r=r.clone().transform(i,"EPSG:4326"));let o=0,s,a,l,u,c,h;switch(n){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":{s=r.getCoordinates(),o=dm(s,t);break}case"MultiLineString":case"Polygon":{for(s=r.getCoordinates(),l=0,u=s.length;l<u;++l)o+=dm(s[l],t);break}case"MultiPolygon":{for(s=r.getCoordinates(),l=0,u=s.length;l<u;++l)for(a=s[l],c=0,h=a.length;c<h;++c)o+=dm(a[c],t);break}case"GeometryCollection":{const d=r.getGeometries();for(l=0,u=d.length;l<u;++l)o+=cb(d[l],e);break}default:throw new Error("Unsupported geometry type: "+n)}return o}function Rd(r,e){let t=0;const i=r.length;let n=r[i-1][0],o=r[i-1][1];for(let s=0;s<i;s++){const a=r[s][0],l=r[s][1];t+=Ba(a-n)*(2+Math.sin(Ba(o))+Math.sin(Ba(l))),n=a,o=l}return t*e*e/2}function hb(r,e){e=e||{};const t=e.radius||K_,i=e.projection||"EPSG:3857",n=r.getType();n!=="GeometryCollection"&&(r=r.clone().transform(i,"EPSG:4326"));let o=0,s,a,l,u,c,h;switch(n){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(s=r.getCoordinates(),o=Math.abs(Rd(s[0],t)),l=1,u=s.length;l<u;++l)o-=Math.abs(Rd(s[l],t));break}case"MultiPolygon":{for(s=r.getCoordinates(),l=0,u=s.length;l<u;++l)for(a=s[l],o+=Math.abs(Rd(a[0],t)),c=1,h=a.length;c<h;++c)o-=Math.abs(Rd(a[c],t));break}case"GeometryCollection":{const d=r.getGeometries();for(l=0,u=d.length;l<u;++l)o+=hb(d[l],e);break}default:throw new Error("Unsupported geometry type: "+n)}return o}let yy=!0;function db(r){yy=!(r===void 0?!0:r)}function X_(r,e,t){if(e!==void 0){for(let i=0,n=r.length;i<n;++i)e[i]=r[i];e=e}else e=r.slice();return e}function pb(r,e,t){if(e!==void 0&&r!==e){for(let i=0,n=r.length;i<n;++i)e[i]=r[i];r=e}return r}function tL(r){QI(r.getCode(),r),hf(r,r,X_)}function iL(r){r.forEach(tL)}function wi(r){return typeof r=="string"?JI(r):r||null}function H0(r,e,t,i){r=wi(r);let n;const o=r.getPointResolutionFunc();if(o){if(n=o(e,t),i&&i!==r.getUnits()){const s=r.getMetersPerUnit();s&&(n=n*s/Eh[i])}}else{const s=r.getUnits();if(s=="degrees"&&!i||i=="degrees")n=e;else{const a=Z_(r,wi("EPSG:4326"));if(a===pb&&s!=="degrees")n=e*r.getMetersPerUnit();else{let u=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];u=a(u,u,2);const c=vy(u.slice(0,2),u.slice(2,4)),h=vy(u.slice(4,6),u.slice(6,8));n=(c+h)/2}const l=i?Eh[i]:r.getMetersPerUnit();l!==void 0&&(n/=l)}}return n}function W0(r){iL(r),r.forEach(function(e){r.forEach(function(t){e!==t&&hf(e,t,X_)})})}function nL(r,e,t,i){r.forEach(function(n){e.forEach(function(o){hf(n,o,t),hf(o,n,i)})})}function q_(r,e){return r?typeof r=="string"?wi(r):r:wi(e)}function rL(r,e){return db(),zh(r,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function Oa(r,e){if(r===e)return!0;const t=r.getUnits()===e.getUnits();return(r.getCode()===e.getCode()||Z_(r,e)===X_)&&t}function Z_(r,e){const t=r.getCode(),i=e.getCode();let n=eL(t,i);return n||(n=pb),n}function xh(r,e){const t=wi(r),i=wi(e);return Z_(t,i)}function zh(r,e,t){return xh(e,t)(r,void 0,r.length)}function oL(r,e,t,i){const n=xh(e,t);return nI(r,n,void 0,i)}function _y(r,e){return r}function Nr(r,e){return yy&&!of(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(yy=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function fb(r,e){return r}function La(r,e){return r}function sL(){W0(F0),W0(G0),nL(G0,F0,KI,XI)}sL();function V0(r,e,t){return function(i,n,o,s,a){if(!i)return;if(!n&&!e)return i;const l=e?0:o[0]*n,u=e?0:o[1]*n,c=a?a[0]:0,h=a?a[1]:0;let d=r[0]+l/2+c,p=r[2]-l/2+c,f=r[1]+u/2+h,m=r[3]-u/2+h;d>p&&(d=(p+d)/2,p=d),f>m&&(f=(m+f)/2,m=f);let g=Mi(i[0],d,p),y=Mi(i[1],f,m);if(s&&t&&n){const C=30*n;g+=-C*Math.log(1+Math.max(0,d-i[0])/C)+C*Math.log(1+Math.max(0,i[0]-p)/C),y+=-C*Math.log(1+Math.max(0,f-i[1])/C)+C*Math.log(1+Math.max(0,i[1]-m)/C)}return[g,y]}}function aL(r){return r}function J_(r,e,t,i){const n=si(e)/t[0],o=Eo(e)/t[1];return i?Math.min(r,Math.max(n,o)):Math.min(r,Math.min(n,o))}function Q_(r,e,t){let i=Math.min(r,e);const n=50;return i*=Math.log(1+n*Math.max(0,r/e-1))/n+1,t&&(i=Math.max(i,t),i/=Math.log(1+n*Math.max(0,t/r-1))/n+1),Mi(i,t/2,e*2)}function lL(r,e,t,i){return e=e!==void 0?e:!0,function(n,o,s,a){if(n!==void 0){const l=r[0],u=r[r.length-1],c=t?J_(l,t,s,i):l;if(a)return e?Q_(n,c,u):Mi(n,u,c);const h=Math.min(c,n),d=Math.floor(N_(r,h,o));return r[d]>c&&d<r.length-1?r[d+1]:r[d]}else return}}function uL(r,e,t,i,n,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(s,a,l,u){if(s!==void 0){const c=n?J_(e,n,l,o):e;if(u)return i?Q_(s,c,t):Mi(s,t,c);const h=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(r)-h),p=-a*(.5-h)+.5,f=Math.min(c,s),m=Math.floor(Math.log(e/f)/Math.log(r)+p),g=Math.max(d,m),y=e/Math.pow(r,g);return Mi(y,t,c)}else return}}function k0(r,e,t,i,n){return t=t!==void 0?t:!0,function(o,s,a,l){if(o!==void 0){const u=i?J_(r,i,a,n):r;return!t||!l?Mi(o,e,u):Q_(o,u,e)}else return}}function eC(r){if(r!==void 0)return 0}function B0(r){if(r!==void 0)return r}function cL(r){const e=2*Math.PI/r;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function hL(r){return r=r||Ba(5),function(e,t){if(t)return e;if(e!==void 0)return Math.abs(e)<=r?0:e}}function gb(r){return Math.pow(r,3)}function Ku(r){return 1-gb(1-r)}function dL(r){return 3*r*r-2*r*r*r}function pL(r){return r}function za(r,e,t,i,n,o){o=o||[];let s=0;for(let a=e;a<t;a+=i){const l=r[a],u=r[a+1];o[s++]=n[0]*l+n[2]*u+n[4],o[s++]=n[1]*l+n[3]*u+n[5]}return o&&o.length!=s&&(o.length=s),o}function tC(r,e,t,i,n,o,s){s=s||[];const a=Math.cos(n),l=Math.sin(n),u=o[0],c=o[1];let h=0;for(let d=e;d<t;d+=i){const p=r[d]-u,f=r[d+1]-c;s[h++]=u+p*a-f*l,s[h++]=c+p*l+f*a;for(let m=d+2;m<d+i;++m)s[h++]=r[m]}return s&&s.length!=h&&(s.length=h),s}function fL(r,e,t,i,n,o,s,a){a=a||[];const l=s[0],u=s[1];let c=0;for(let h=e;h<t;h+=i){const d=r[h]-l,p=r[h+1]-u;a[c++]=l+n*d,a[c++]=u+o*p;for(let f=h+2;f<h+i;++f)a[c++]=r[f]}return a&&a.length!=c&&(a.length=c),a}function mb(r,e,t,i,n,o,s){s=s||[];let a=0;for(let l=e;l<t;l+=i){s[a++]=r[l]+n,s[a++]=r[l+1]+o;for(let u=l+2;u<l+i;++u)s[a++]=r[u]}return s&&s.length!=a&&(s.length=a),s}const U0=vo();class gL extends Jr{constructor(){super(),this.extent_=nr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=FD(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return tt()}closestPointXY(e,t,i,n){return tt()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return tt()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Bh(t),this.extentRevision_=this.getRevision()}return tI(this.extent_,e)}rotate(e,t){tt()}scale(e,t,i){tt()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return tt()}getType(){return tt()}applyTransform(e){tt()}intersectsExtent(e){return tt()}translate(e,t){tt()}transform(e,t){const i=wi(e),n=i.getUnits()=="tile-pixels"?function(o,s,a){const l=i.getExtent(),u=i.getWorldExtent(),c=Eo(u)/Eo(l);return ea(U0,u[0],u[3],c,-c,0,0,0),za(o,0,o.length,a,U0,s),xh(i,t)(o,s,a)}:xh(i,t);return this.applyTransform(n),this}}const vb=gL;class mL extends vb{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return YR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return tt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=df(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){tt()}setLayout(e,t,i){let n;if(e)n=df(e);else{for(let o=0;o<i;++o)if(t.length===0){this.layout="XY",this.stride=2;return}else t=t[0];n=t.length,e=vL(n)}this.layout=e,this.stride=n}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();tC(i,0,i.length,n,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=el(this.getExtent()));const n=this.getFlatCoordinates();if(n){const o=this.getStride();fL(n,0,n.length,o,e,t,i,n),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const n=this.getStride();mb(i,0,i.length,n,e,t,i),this.changed()}}}function vL(r){let e;return r==2?e="XY":r==3?e="XYZ":r==4&&(e="XYZM"),e}function df(r){let e;return r=="XY"?e=2:r=="XYZ"||r=="XYM"?e=3:r=="XYZM"&&(e=4),e}function yL(r,e,t){const i=r.getFlatCoordinates();if(i){const n=r.getStride();return za(i,0,i.length,n,e,t)}else return null}const aa=mL;function z0(r,e,t,i,n,o,s){const a=r[e],l=r[e+1],u=r[t]-a,c=r[t+1]-l;let h;if(u===0&&c===0)h=e;else{const d=((n-a)*u+(o-l)*c)/(u*u+c*c);if(d>1)h=t;else if(d>0){for(let p=0;p<i;++p)s[p]=$o(r[e+p],r[t+p],d);s.length=i;return}else h=e}for(let d=0;d<i;++d)s[d]=r[h+d];s.length=i}function iC(r,e,t,i,n){let o=r[e],s=r[e+1];for(e+=i;e<t;e+=i){const a=r[e],l=r[e+1],u=Jo(o,s,a,l);u>n&&(n=u),o=a,s=l}return n}function nC(r,e,t,i,n){for(let o=0,s=t.length;o<s;++o){const a=t[o];n=iC(r,e,a,i,n),e=a}return n}function _L(r,e,t,i,n){for(let o=0,s=t.length;o<s;++o){const a=t[o];n=nC(r,e,a,i,n),e=a[a.length-1]}return n}function rC(r,e,t,i,n,o,s,a,l,u,c){if(e==t)return u;let h,d;if(n===0)if(d=Jo(s,a,r[e],r[e+1]),d<u){for(h=0;h<i;++h)l[h]=r[e+h];return l.length=i,d}else return u;c=c||[NaN,NaN];let p=e+i;for(;p<t;)if(z0(r,p-i,p,i,s,a,c),d=Jo(s,a,c[0],c[1]),d<u){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/n|0,1);if(o&&(z0(r,t-i,e,i,s,a,c),d=Jo(s,a,c[0],c[1]),d<u)){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function oC(r,e,t,i,n,o,s,a,l,u,c){c=c||[NaN,NaN];for(let h=0,d=t.length;h<d;++h){const p=t[h];u=rC(r,e,p,i,n,o,s,a,l,u,c),e=p}return u}function CL(r,e,t,i,n,o,s,a,l,u,c){c=c||[NaN,NaN];for(let h=0,d=t.length;h<d;++h){const p=t[h];u=oC(r,e,p,i,n,o,s,a,l,u,c),e=p[p.length-1]}return u}function yb(r,e,t,i){for(let n=0,o=t.length;n<o;++n)r[e++]=t[n];return e}function jh(r,e,t,i){for(let n=0,o=t.length;n<o;++n){const s=t[n];for(let a=0;a<i;++a)r[e++]=s[a]}return e}function sC(r,e,t,i,n){n=n||[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=jh(r,e,t[s],i);n[o++]=l,e=l}return n.length=o,n}function wL(r,e,t,i,n){n=n||[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=sC(r,e,t[s],i,n[o]);l.length===0&&(l[0]=e),n[o++]=l,e=l[l.length-1]}return n.length=o,n}function aC(r,e,t,i,n,o,s){const a=(t-e)/i;if(a<3){for(;e<t;e+=i)o[s++]=r[e],o[s++]=r[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,t-i];let c=0;for(;u.length>0;){const h=u.pop(),d=u.pop();let p=0;const f=r[d],m=r[d+1],g=r[h],y=r[h+1];for(let C=d+i;C<h;C+=i){const w=r[C],S=r[C+1],b=oI(w,S,f,m,g,y);b>p&&(c=C,p=b)}p>n&&(l[(c-e)/i]=1,d+i<c&&u.push(d,c),c+i<h&&u.push(c,h))}for(let h=0;h<a;++h)l[h]&&(o[s++]=r[e+h*i],o[s++]=r[e+h*i+1]);return s}function SL(r,e,t,i,n,o,s,a){for(let l=0,u=t.length;l<u;++l){const c=t[l];s=aC(r,e,c,i,n,o,s),a.push(s),e=c}return s}function ba(r,e){return e*Math.round(r/e)}function EL(r,e,t,i,n,o,s){if(e==t)return s;let a=ba(r[e],n),l=ba(r[e+1],n);e+=i,o[s++]=a,o[s++]=l;let u,c;do if(u=ba(r[e],n),c=ba(r[e+1],n),e+=i,e==t)return o[s++]=u,o[s++]=c,s;while(u==a&&c==l);for(;e<t;){const h=ba(r[e],n),d=ba(r[e+1],n);if(e+=i,h==u&&d==c)continue;const p=u-a,f=c-l,m=h-a,g=d-l;if(p*g==f*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(f<0&&g<f||f==g||f>0&&g>f)){u=h,c=d;continue}o[s++]=u,o[s++]=c,a=u,l=c,u=h,c=d}return o[s++]=u,o[s++]=c,s}function _b(r,e,t,i,n,o,s,a){for(let l=0,u=t.length;l<u;++l){const c=t[l];s=EL(r,e,c,i,n,o,s),a.push(s),e=c}return s}function xL(r,e,t,i,n,o,s,a){for(let l=0,u=t.length;l<u;++l){const c=t[l],h=[];s=_b(r,e,c,i,n,o,s,h),a.push(h),e=c[c.length-1]}return s}function Ns(r,e,t,i,n){n=n!==void 0?n:[];let o=0;for(let s=e;s<t;s+=i)n[o++]=r.slice(s,s+i);return n.length=o,n}function Rh(r,e,t,i,n){n=n!==void 0?n:[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=t[s];n[o++]=Ns(r,e,l,i,n[o]),e=l}return n.length=o,n}function Cy(r,e,t,i,n){n=n!==void 0?n:[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=t[s];n[o++]=l.length===1&&l[0]===e?[]:Rh(r,e,l,i,n[o]),e=l[l.length-1]}return n.length=o,n}function Cb(r,e,t,i){let n=0,o=r[t-i],s=r[t-i+1];for(;e<t;e+=i){const a=r[e],l=r[e+1];n+=s*a-o*l,o=a,s=l}return n/2}function wb(r,e,t,i){let n=0;for(let o=0,s=t.length;o<s;++o){const a=t[o];n+=Cb(r,e,a,i),e=a}return n}function RL(r,e,t,i){let n=0;for(let o=0,s=t.length;o<s;++o){const a=t[o];n+=wb(r,e,a,i),e=a[a.length-1]}return n}class pf extends aa{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new pf(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,n){return n<cl(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,n))}getArea(){return Cb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Ns(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=aC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new pf(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jh(this.flatCoordinates,0,e,this.stride),this.changed()}}const ff=pf;class lC extends aa{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new lC(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const o=this.flatCoordinates,s=Jo(e,t,o[0],o[1]);if(s<n){const a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}else return n}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return JD(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return W_(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=yb(this.flatCoordinates,0,e,this.stride),this.changed()}}const xn=lC;function bL(r,e,t,i,n){return!V_(n,function(s){return!Fa(r,e,t,i,s[0],s[1])})}function Fa(r,e,t,i,n,o){let s=0,a=r[t-i],l=r[t-i+1];for(;e<t;e+=i){const u=r[e],c=r[e+1];l<=o?c>o&&(u-a)*(o-l)-(n-a)*(c-l)>0&&s++:c<=o&&(u-a)*(o-l)-(n-a)*(c-l)<0&&s--,a=u,l=c}return s!==0}function uC(r,e,t,i,n,o){if(t.length===0||!Fa(r,e,t[0],i,n,o))return!1;for(let s=1,a=t.length;s<a;++s)if(Fa(r,t[s-1],t[s],i,n,o))return!1;return!0}function ML(r,e,t,i,n,o){if(t.length===0)return!1;for(let s=0,a=t.length;s<a;++s){const l=t[s];if(uC(r,e,l,i,n,o))return!0;e=l[l.length-1]}return!1}function Sb(r,e,t,i,n,o,s){let a,l,u,c,h,d,p;const f=n[o+1],m=[];for(let C=0,w=t.length;C<w;++C){const S=t[C];for(c=r[S-i],d=r[S-i+1],a=e;a<S;a+=i)h=r[a],p=r[a+1],(f<=d&&p<=f||d<=f&&f<=p)&&(u=(f-d)/(p-d)*(h-c)+c,m.push(u)),c=h,d=p}let g=NaN,y=-1/0;for(m.sort(Za),c=m[0],a=1,l=m.length;a<l;++a){h=m[a];const C=Math.abs(h-c);C>y&&(u=(c+h)/2,uC(r,e,t,i,u,f)&&(g=u,y=C)),c=h}return isNaN(g)&&(g=n[o]),s?(s.push(g,f,y),s):[g,f,y]}function TL(r,e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;++s){const l=t[s];o=Sb(r,e,l,i,n,2*s,o),e=l[l.length-1]}return o}function Eb(r,e,t,i,n){let o;for(e+=i;e<t;e+=i)if(o=n(r.slice(e-i,e),r.slice(e,e+i)),o)return o;return!1}function _g(r,e,t,i,n){const o=XR(nr(),r,e,t,i);return Sn(n,o)?Fs(n,o)||o[0]>=n[0]&&o[2]<=n[2]||o[1]>=n[1]&&o[3]<=n[3]?!0:Eb(r,e,t,i,function(s,a){return iI(n,s,a)}):!1}function PL(r,e,t,i,n){for(let o=0,s=t.length;o<s;++o){if(_g(r,e,t[o],i,n))return!0;e=t[o]}return!1}function xb(r,e,t,i,n){return!!(_g(r,e,t,i,n)||Fa(r,e,t,i,n[0],n[1])||Fa(r,e,t,i,n[0],n[3])||Fa(r,e,t,i,n[2],n[1])||Fa(r,e,t,i,n[2],n[3]))}function Rb(r,e,t,i,n){if(!xb(r,e,t[0],i,n))return!1;if(t.length===1)return!0;for(let o=1,s=t.length;o<s;++o)if(bL(r,t[o-1],t[o],i,n)&&!_g(r,t[o-1],t[o],i,n))return!1;return!0}function OL(r,e,t,i,n){for(let o=0,s=t.length;o<s;++o){const a=t[o];if(Rb(r,e,a,i,n))return!0;e=a[a.length-1]}return!1}function AL(r,e,t,i){for(;e<t-i;){for(let n=0;n<i;++n){const o=r[e+n];r[e+n]=r[t-i+n],r[t-i+n]=o}e+=i,t-=i}}function cC(r,e,t,i){let n=0,o=r[t-i],s=r[t-i+1];for(;e<t;e+=i){const a=r[e],l=r[e+1];n+=(a-o)*(l+s),o=a,s=l}return n===0?void 0:n>0}function bb(r,e,t,i,n){n=n!==void 0?n:!1;for(let o=0,s=t.length;o<s;++o){const a=t[o],l=cC(r,e,a,i);if(o===0){if(n&&l||!n&&!l)return!1}else if(n&&!l||!n&&l)return!1;e=a}return!0}function DL(r,e,t,i,n){for(let o=0,s=t.length;o<s;++o){const a=t[o];if(!bb(r,e,a,i,n))return!1;a.length&&(e=a[a.length-1])}return!0}function wy(r,e,t,i,n){n=n!==void 0?n:!1;for(let o=0,s=t.length;o<s;++o){const a=t[o],l=cC(r,e,a,i);(o===0?n&&l||!n&&!l:n&&!l||!n&&l)&&AL(r,e,a,i),e=a}return e}function j0(r,e,t,i,n){for(let o=0,s=t.length;o<s;++o)e=wy(r,e,t[o],i,n);return e}class bh extends aa{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?zr(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new bh(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<cl(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nC(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),oC(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return uC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return wb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),wy(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Rh(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=el(this.getExtent());this.flatInteriorPoint_=Sb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new xn(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new ff(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,n=[];let o=0;for(let s=0,a=i.length;s<a;++s){const l=i[s],u=new ff(t.slice(o,l),e);n.push(u),o=l}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;bb(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=wy(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=_b(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new bh(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Rb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=sC(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const rs=bh;function $0(r){const e=r[0],t=r[1],i=r[2],n=r[3],o=[e,t,e,n,i,n,i,t,e,t];return new bh(o,"XY",[o.length])}const pm=0;class IL extends Jr{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=q_(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&db(),e.center&&(e.center=Nr(e.center,this.projection_)),e.extent&&(e.extent=La(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in Tr)delete t[a];this.setProperties(t,!0);const i=FL(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const n=LL(e),o=i.constraint,s=NL(e);this.constraints_={center:n,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenter();if(i){const n=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),s=o/2*(n[3]-t[3]+t[1]-n[1]),a=o/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let n=arguments[i];n.center&&(n=Object.assign({},n),n.center=Nr(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=Nr(n.anchor,this.getProjection())),t[i]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let n=0;for(;n<t&&!this.isDef();++n){const c=arguments[n];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(n===t){i&&bd(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;n<t;++n){const c=arguments[n],h={start:o,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||dL,callback:i};if(c.center&&(h.sourceCenter=s,h.targetCenter=c.center.slice(),s=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const d=Ua(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}GL(h)?h.complete=!0:o+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(un.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[un.ANIMATING]>0}getInteracting(){return this.hints_[un.INTERACTING]>0}cancelAnimations(){this.setHint(un.ANIMATING,-this.hints_[un.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const n=this.animations_[t];if(n[0].callback&&bd(n[0].callback,!1),!e)for(let o=0,s=n.length;o<s;++o){const a=n[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let o=!0;for(let s=0,a=n.length;s<a;++s){const l=n[s];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):o=!1;const h=l.easing(c);if(l.sourceCenter){const d=l.sourceCenter[0],p=l.sourceCenter[1],f=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;const g=d+h*(f-d),y=p+h*(m-p);this.targetCenter_=[g,y]}if(l.sourceResolution&&l.targetResolution){const d=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const p=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(d,0,p,!0);this.targetCenter_=this.calculateCenterZoom(f,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const d=h===1?Ua(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const p=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(p,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(un.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=n[0].callback;s&&bd(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const n=this.getCenterInternal();return n!==void 0&&(i=[n[0]-t[0],n[1]-t[1]],z_(i,e-this.getRotation()),mI(i,t)),i}calculateCenterZoom(e,t){let i;const n=this.getCenterInternal(),o=this.getResolution();if(n!==void 0&&o!==void 0){const s=t[0]-e*(t[0]-n[0])/o,a=t[1]-e*(t[1]-n[1])/o;i=[s,a]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],n=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(n*Math.cos(e))]}else return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&_y(e,this.getProjection())}getCenterInternal(){return this.get(Tr.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return fb(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Et(t,1);const i=this.getResolution();Et(i!==void 0,2);const n=this.getRotation();return Et(n!==void 0,3),hy(t,i,n,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Tr.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(La(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=si(e)/t[0],n=Eo(e)/t[1];return Math.max(i,n)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*n)}}getRotation(){return this.get(Tr.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/t;return function(s){return Math.log(i/s)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const o=this.padding_;if(o){const s=this.getViewportSizeMinusPadding_();n=fm(n,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,i)}return{center:n.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,n;if(this.resolutions_){const o=N_(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?n=2:n=i/this.resolutions_[o+1]}else i=this.maxResolution_,n=this.zoomFactor_;return t+Math.log(i/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=Mi(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,Mi(e-t,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Et(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){Et(!k_(e),25);const n=La(e,this.getProjection());i=$0(n)}else if(e.getType()==="Circle"){const n=La(e.getExtent(),this.getProjection());i=$0(n),i.rotate(this.getRotation(),el(n))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),n=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,d=o.length;h<d;h+=s){const p=o[h]*i-o[h+1]*n,f=o[h]*n+o[h+1]*i;a=Math.min(a,p),l=Math.min(l,f),u=Math.max(u,p),c=Math.max(c,f)}return[a,l,u,c]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const n=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1;let s;t.minResolution!==void 0?s=t.minResolution:t.maxZoom!==void 0?s=this.getResolutionForZoom(t.maxZoom):s=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),d=el(a);d[0]+=(n[1]-n[3])/2*l,d[1]+=(n[0]-n[2])/2*l;const p=d[0]*h-d[1]*c,f=d[1]*h+d[0]*c,m=this.getConstrainedCenter([p,f],l),g=t.callback?t.callback:Ja;t.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:t.duration,easing:t.easing},g):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),bd(g,!0))}centerOn(e,t,i){this.centerOnInternal(Nr(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(fm(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,n){let o;const s=this.padding_;if(s&&e){const a=this.getViewportSizeMinusPadding_(-i),l=fm(e,n,[a[0]/2+s[3],a[1]/2+s[0]],t,i);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=_y(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Nr(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,n,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Nr(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Nr(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(n),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,n,o));this.get(Tr.ROTATION)!==n&&this.set(Tr.ROTATION,n),this.get(Tr.RESOLUTION)!==s&&(this.set(Tr.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Tr.CENTER)||!of(this.get(Tr.CENTER),a))&&this.set(Tr.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const n=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,n,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!of(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:Ku,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(un.INTERACTING,1)}endInteraction(e,t,i){i=i&&Nr(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.setHint(un.INTERACTING,-1),this.resolveConstraints(e,t,i)}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function bd(r,e){setTimeout(function(){r(e)},0)}function LL(r){if(r.extent!==void 0){const t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return V0(r.extent,r.constrainOnlyCenter,t)}const e=q_(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,V0(t,!1,!1)}return aL}function FL(r){let e,t,i,s=r.minZoom!==void 0?r.minZoom:pm,a=r.maxZoom!==void 0?r.maxZoom:28;const l=r.zoomFactor!==void 0?r.zoomFactor:2,u=r.multiWorld!==void 0?r.multiWorld:!1,c=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,h=r.showFullExtent!==void 0?r.showFullExtent:!1,d=q_(r.projection,"EPSG:3857"),p=d.getExtent();let f=r.constrainOnlyCenter,m=r.extent;if(!u&&!m&&d.isGlobal()&&(f=!1,m=p),r.resolutions!==void 0){const g=r.resolutions;t=g[s],i=g[a]!==void 0?g[a]:g[g.length-1],r.constrainResolution?e=lL(g,c,!f&&m,h):e=k0(t,i,c,!f&&m,h)}else{const y=(p?Math.max(si(p),Eo(p)):360*Eh.degrees/d.getMetersPerUnit())/Y_/Math.pow(2,pm),C=y/Math.pow(2,28-pm);t=r.maxResolution,t!==void 0?s=0:t=y/Math.pow(l,s),i=r.minResolution,i===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?i=t/Math.pow(l,a):i=y/Math.pow(l,a):i=C),a=s+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,a-s),r.constrainResolution?e=uL(l,t,i,c,!f&&m,h):e=k0(t,i,c,!f&&m,h)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:l}}function NL(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const t=r.constrainRotation;return t===void 0||t===!0?hL():t===!1?B0:typeof t=="number"?cL(t):B0}else return eC}function GL(r){return!(r.sourceCenter&&r.targetCenter&&!of(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function fm(r,e,t,i,n){const o=Math.cos(-n);let s=Math.sin(-n),a=r[0]*o-r[1]*s,l=r[1]*o+r[0]*s;a+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,s=-s;const u=a*o-l*s,c=l*o+a*s;return[u,c]}const Ds=IL;class HL extends Jr{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){sf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&sf(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)ti(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ja&&this.listenerKeys.push(Ot(e,Uo.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}const hC=HL;class WL extends hC{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",n=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",s=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=n):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(ut.CLICK,this.handleClick_.bind(this),!1);const u=t+" "+vg+" "+j_+(this.collapsed_&&this.collapsible_?" "+A0:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t={},i=[];let n=!0;const o=e.layerStatesArray;for(let s=0,a=o.length;s<a;++s){const l=o[s];if(!U_(l,e.viewState))continue;const u=l.layer.getSource();if(!u)continue;const c=u.getAttributions();if(!c)continue;const h=c(e);if(!!h)if(n=n&&u.getAttributionsCollapsible()!==!1,Array.isArray(h))for(let d=0,p=h.length;d<p;++d)h[d]in t||(i.push(h[d]),t[h[d]]=!0);else h in t||(i.push(h),t[h]=!0)}return this.overrideCollapsible_||this.setCollapsible(n),i}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ul(t,this.renderedAttributions_)){sb(this.ulElement_);for(let n=0,o=t.length;n<o;++n){const s=document.createElement("li");s.innerHTML=t[n],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(A0),this.collapsed_?I0(this.collapseLabel_,this.label_):I0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const VL=WL;class kL extends hC{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",n=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(ut.CLICK,this.handleClick_.bind(this),!1);const a=t+" "+vg+" "+j_,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ed)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Ku}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const n="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ed);!o&&i===0?this.element.classList.add(Ed):o&&i!==0&&this.element.classList.remove(Ed)}this.label_.style.transform=n}this.rotation_=i}}const BL=kL;class UL extends hC{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,n=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=n,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof s=="string"?document.createTextNode(s):s),c.addEventListener(ut.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=o,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(ut.CLICK,this.handleClick_.bind(this,-i),!1);const d=t+" "+vg+" "+j_,p=this.element;p.className=d,p.appendChild(c),p.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const n=i.getZoom();if(n!==void 0){const o=i.getConstrainedZoom(n+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Ku})):i.setZoom(o)}}}const zL=UL;function Mb(r){r=r||{};const e=new kr;return(r.zoom!==void 0?r.zoom:!0)&&e.push(new zL(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&e.push(new BL(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&e.push(new VL(r.attributionOptions)),e}const Sy={ACTIVE:"active"};class jL extends Jr{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Sy.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Sy.ACTIVE,e)}setMap(e){this.map_=e}}function $L(r,e,t){const i=r.getCenterInternal();if(i){const n=[i[0]+e[0],i[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:pL,center:r.getConstrainedCenter(n)})}}function dC(r,e,t,i){const n=r.getZoom();if(n===void 0)return;const o=r.getConstrainedZoom(n+e),s=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:s,anchor:t,duration:i!==void 0?i:250,easing:Ku})}const Xu=jL;class YL extends Xu{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ht.DBLCLICK){const i=e.originalEvent,n=e.map,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=n.getView();dC(a,s,o,this.duration_),i.preventDefault(),t=!0}return!t}}const KL=YL;class XL extends Xu{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ht.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ht.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ht.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Ht.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function pC(r){const e=r.length;let t=0,i=0;for(let n=0;n<e;n++)t+=r[n].clientX,i+=r[n].clientY;return[t/e,i/e]}const qu=XL;function Ey(r){const e=arguments;return function(t){let i=!0;for(let n=0,o=e.length;n<o&&(i=i&&e[n](t),!!i);++n);return i}}const qL=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ZL=function(r){const e=r.map.getTargetElement(),t=r.map.getOwnerDocument().activeElement;return e.contains(t)},Tb=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?ZL(r):!0},xy=Js,JL=function(r){return r.type==Ht.CLICK},Pb=function(r){const e=r.originalEvent;return e.button==0&&!(zD&&jD&&e.ctrlKey)},Ry=$u,QL=function(r){return r.type==Ht.SINGLECLICK},fC=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},gC=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ob=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},gm=function(r){const e=r.originalEvent;return Et(e!==void 0,56),e.pointerType=="mouse"},e1=function(r){const e=r.originalEvent;return Et(e!==void 0,56),e.isPrimary&&e.button===0};class t1 extends qu{constructor(e){super({stopDown:$u}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Ey(fC,e1);this.condition_=e.onFocusOnly?Ey(Tb,t):t,this.noKinetic_=!1}handleDragEvent(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());const t=this.targetPointers,i=pC(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const n=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map.getView();vI(n,s.getResolution()),z_(n,s.getRotation()),s.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const n=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(s),l=t.getCoordinateFromPixelInternal([a[0]-n*Math.cos(o),a[1]-n*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Ku})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1}}const i1=t1;class n1 extends qu{constructor(e){e=e||{},super({stopDown:$u}),this.condition_=e.condition?e.condition:qL,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!gm(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===eC)return;const n=t.getSize(),o=e.pixel,s=Math.atan2(n[1]/2-o[1],o[0]-n[0]/2);if(this.lastAngle_!==void 0){const a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(e){return gm(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return gm(e)&&Pb(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const r1=n1;class o1 extends F_{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(e[0],t[0])+i,n.top=Math.min(e[1],t[1])+i,n.width=Math.abs(t[0]-e[0])+i,n.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new rs([n])}getGeometry(){return this.geometry_}}const s1=o1,Md={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class mm extends Zr{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class a1 extends qu{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new s1(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Pb,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const n=i[0]-t[0],o=i[1]-t[1];return n*n+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new mm(Md.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new mm(t?Md.BOXEND:Md.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new mm(Md.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}const l1=a1;class u1 extends l1{constructor(e){e=e||{};const t=e.condition?e.condition:gC;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let n=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(n),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;n=n.clone(),n.scale(a*a)}i.fitInternal(n,{duration:this.duration_,easing:Ku})}}const c1=u1,ga={LEFT:37,UP:38,RIGHT:39,DOWN:40};class h1 extends Xu{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return fC(t)&&Ob(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==ut.KEYDOWN){const i=e.originalEvent,n=i.keyCode;if(this.condition_(e)&&(n==ga.DOWN||n==ga.LEFT||n==ga.RIGHT||n==ga.UP)){const s=e.map.getView(),a=s.getResolution()*this.pixelDelta_;let l=0,u=0;n==ga.DOWN?u=-a:n==ga.LEFT?l=-a:n==ga.RIGHT?l=a:u=a;const c=[l,u];z_(c,s.getRotation()),$L(s,c,this.duration_),i.preventDefault(),t=!0}}return!t}}const d1=h1;class p1 extends Xu{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:Ob,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==ut.KEYDOWN||e.type==ut.KEYPRESS){const i=e.originalEvent,n=i.charCode;if(this.condition_(e)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){const o=e.map,s=n=="+".charCodeAt(0)?this.delta_:-this.delta_,a=o.getView();dC(a,s,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const f1=p1;class g1{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const n=this.points_[t+2]-this.points_[i+2];if(n<1e3/60)return!1;const o=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const m1=g1;class v1 extends Xu{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:xy;this.condition_=e.onFocusOnly?Ey(Tb,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==ut.WHEEL)return!0;const i=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let o;if(e.type==ut.WHEEL&&(o=n.deltaY,BD&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=UR),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-Mi(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),dC(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}const y1=v1;class _1 extends qu{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=$u),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],n=this.targetPointers[1],o=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(this.lastAngle_!==void 0){const c=o-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=c}this.lastAngle_=o;const s=e.map,a=s.getView();if(a.getConstraints().rotation===eC)return;const l=s.getViewport().getBoundingClientRect(),u=pC(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(u),this.rotating_&&(s.render(),a.adjustRotationInternal(t,this.anchor_))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}else return!1}}const C1=_1;class w1 extends qu{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=$u),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,s=i.clientY-n.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();t!=1&&(this.lastScaleDelta_=t);const c=l.getViewport().getBoundingClientRect(),h=pC(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),u.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,n),!1}else return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}else return!1}}const S1=w1;function E1(r){r=r||{};const e=new kr,t=new m1(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&e.push(new r1),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&e.push(new KL({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&e.push(new i1({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&e.push(new C1),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&e.push(new S1({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(e.push(new d1),e.push(new f1({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&e.push(new y1({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&e.push(new c1({duration:r.zoomDuration})),e}function Y0(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function K0(r){return r[0]>0&&r[1]>0}function Ab(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function En(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}function Db(r){if(r instanceof mg){r.setMapInternal(null);return}r instanceof yg&&r.getLayers().forEach(Db)}function Ib(r,e){if(r instanceof mg){r.setMapInternal(e);return}if(r instanceof yg){const t=r.getLayers().getArray();for(let i=0,n=t.length;i<n;++i)Ib(t[i],e)}}class x1 extends Jr{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=R1(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:UR,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=vo(),this.pixelToCoordinateTransform_=vo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.controls=t.controls||Mb(),this.interactions=t.interactions||E1({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new BI(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(an.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(an.VIEW,this.handleViewChanged_),this.addChangeListener(an.SIZE,this.handleSizeChanged_),this.addChangeListener(an.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Ds)&&e.view.then(function(n){i.setView(new Ds(n))}),this.controls.addEventListener(Ui.ADD,function(n){n.element.setMap(this)}.bind(this)),this.controls.addEventListener(Ui.REMOVE,function(n){n.element.setMap(null)}.bind(this)),this.interactions.addEventListener(Ui.ADD,function(n){n.element.setMap(this)}.bind(this)),this.interactions.addEventListener(Ui.REMOVE,function(n){n.element.setMap(null)}.bind(this)),this.overlays_.addEventListener(Ui.ADD,function(n){this.addOverlayInternal_(n.element)}.bind(this)),this.overlays_.addEventListener(Ui.REMOVE,function(n){const o=n.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],n.element.setMap(null)}.bind(this)),this.controls.forEach(function(n){n.setMap(this)}.bind(this)),this.interactions.forEach(function(n){n.setMap(this)}.bind(this)),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Ib(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Js,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,o,a,t,null,s,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(n){i.push(n)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(n){n instanceof yg?t(n.getLayers()):e.push(n)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const n=t.layerFilter!==void 0?t.layerFilter:Js,o=t.hitTolerance!==void 0?t.hitTolerance:0,s=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,n,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-t.left,i.clientY-t.top]}getTarget(){return this.get(an.TARGET)}getTargetElement(){const e=this.getTarget();return e!==void 0?typeof e=="string"?document.getElementById(e):e:null}getCoordinateFromPixel(e){return _y(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Bi(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(an.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof kr){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const n=e[t];if(!n.visible)continue;const o=n.layer.getRenderer();if(o&&!o.ready)return!0;const s=n.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Nr(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Bi(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(an.SIZE)}getView(){return this.get(an.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,n){return UI(this.frameState_,e,t,i,n)}handleBrowserEvent(e,t){t=t||e.type;const i=new Bo(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===gy.POINTERDOWN||i===ut.WHEEL||i===ut.KEYDOWN){const n=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():n,s=t.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===n?n.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const n=this.getInteractions().getArray().slice();for(let o=n.length-1;o>=0;o--){const s=n[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,o=n;if(e){const s=e.viewHints;if(s[un.ANIMATING]||s[un.INTERACTING]){const a=Date.now()-e.time>8;n=a?0:8,o=a?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(js.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(js.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ql(Uo.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ql(Uo.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let n=0,o=i.length;n<o;++n)i[n](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,i=this.targetChangeHandlerKeys_.length;t<i;++t)ti(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ut.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ut.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,sf(this.viewport_)}const e=this.getTargetElement();if(!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new LI(this)),this.mapBrowserEventHandler_=new HI(this,this.moveTolerance_);for(const n in Ht)this.mapBrowserEventHandler_.addEventListener(Ht[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ut.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ut.WHEEL,this.boundHandleBrowserEvent_,zR?{passive:!1}:!1);const t=this.getOwnerDocument().defaultView,i=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[Ot(i,ut.KEYDOWN,this.handleBrowserEvent,this),Ot(i,ut.KEYPRESS,this.handleBrowserEvent,this),Ot(t,ut.RESIZE,this.updateSize,this)]}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(ti(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ti(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Ot(e,Ru.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ot(e,ut.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ti),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ps("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ot(e,Ru.PROPERTYCHANGE,this.render,this),Ot(e,ut.CHANGE,this.render,this),Ot(e,"addlayer",this.handleLayerAdd_,this),Ot(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Db(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),n=this.frameState_;let o=null;if(t!==void 0&&K0(t)&&i&&i.isDef()){const s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:hy(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:Tt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=hy(a.nextCenter,a.nextResolution,l,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),n&&(!this.previousExtent_||!k_(this.previousExtent_)&&!mh(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ql(Uo.MOVESTART,this,n)),this.previousExtent_=Bh(this.previousExtent_)),this.previousExtent_&&!o.viewHints[un.ANIMATING]&&!o.viewHints[un.INTERACTING]&&!mh(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ql(Uo.MOVEEND,this,o)),$R(o.extent,this.previousExtent_))),this.dispatchEvent(new ql(Uo.POSTRENDER,this,o)),this.renderComplete_=this.hasListener(Uo.LOADSTART)||this.hasListener(Uo.LOADEND)||this.hasListener(js.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ps("removelayer",t)),this.set(an.LAYERGROUP,e)}setSize(e){this.set(an.SIZE,e)}setTarget(e){this.set(an.TARGET,e)}setView(e){if(!e||e instanceof Ds){this.set(an.VIEW,e);return}this.set(an.VIEW,new Ds);const t=this;e.then(function(i){t.setView(new Ds(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const i=getComputedStyle(e),n=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(n)&&!isNaN(o)&&(t=[n,o],!K0(t)&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(t),this.updateViewportSize_()}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}}function R1(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},i=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new yg({layers:r.layers});t[an.LAYERGROUP]=i,t[an.TARGET]=r.target,t[an.VIEW]=r.view instanceof Ds?r.view:new Ds;let n;r.controls!==void 0&&(Array.isArray(r.controls)?n=new kr(r.controls.slice()):(Et(typeof r.controls.getArray=="function",47),n=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new kr(r.interactions.slice()):(Et(typeof r.interactions.getArray=="function",48),o=r.interactions));let s;return r.overlays!==void 0?Array.isArray(r.overlays)?s=new kr(r.overlays.slice()):(Et(typeof r.overlays.getArray=="function",49),s=r.overlays):s=new kr,{controls:n,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}const b1=x1;class M1 extends ug{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(ut.CHANGE)}release(){this.state===qe.ERROR&&this.setState(qe.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==qe.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==qe.LOADED){e.interimTile=null;break}else e.getState()==qe.LOADING?t=e:e.getState()==qe.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==qe.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){tt()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const n=t-i+1e3/60;return n>=this.transition_?1:gb(n/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}const Lb=M1,Fi={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Fb(r,e,t){const i=r;let n=!0,o=!1,s=!1;const a=[tf(i,ut.LOAD,function(){s=!0,o||e()})];return i.src&&$D?(o=!0,i.decode().then(function(){n&&e()}).catch(function(l){n&&(s?e():t())})):a.push(tf(i,ut.ERROR,t)),function(){n=!1,a.forEach(ti)}}class T1 extends Lb{constructor(e,t,i,n,o,s){super(e,t,s),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,n!==null&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=qe.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=qe.ERROR,this.unlistenImage_(),this.image_=P1(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=qe.LOADED:this.state=qe.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==qe.ERROR&&(this.state=qe.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==qe.IDLE&&(this.state=qe.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Fb(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function P1(){const r=rr(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}const Nb=T1,O1=.5,A1=10,X0=.25;class D1{constructor(e,t,i,n,o,s){this.sourceProj_=e,this.targetProj_=t;let a={};const l=xh(this.targetProj_,this.sourceProj_);this.transformInv_=function(C){const w=C[0]+"/"+C[1];return a[w]||(a[w]=l(C)),a[w]},this.maxSourceExtent_=n,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&si(n)==si(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?si(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?si(this.targetProj_.getExtent()):null;const u=hl(i),c=gg(i),h=fg(i),d=pg(i),p=this.transformInv_(u),f=this.transformInv_(c),m=this.transformInv_(h),g=this.transformInv_(d),y=A1+(s?Math.max(0,Math.ceil(Math.log2(cy(i)/(s*s*256*256)))):0);if(this.addQuad_(u,c,h,d,p,f,m,g,y),this.wrapsXInSource_){let C=1/0;this.triangles_.forEach(function(w,S,b){C=Math.min(C,w.source[0][0],w.source[1][0],w.source[2][0])}),this.triangles_.forEach(function(w){if(Math.max(w.source[0][0],w.source[1][0],w.source[2][0])-C>this.sourceWorldWidth_/2){const S=[[w.source[0][0],w.source[0][1]],[w.source[1][0],w.source[1][1]],[w.source[2][0],w.source[2][1]]];S[0][0]-C>this.sourceWorldWidth_/2&&(S[0][0]-=this.sourceWorldWidth_),S[1][0]-C>this.sourceWorldWidth_/2&&(S[1][0]-=this.sourceWorldWidth_),S[2][0]-C>this.sourceWorldWidth_/2&&(S[2][0]-=this.sourceWorldWidth_);const b=Math.min(S[0][0],S[1][0],S[2][0]);Math.max(S[0][0],S[1][0],S[2][0])-b<this.sourceWorldWidth_/2&&(w.source=S)}}.bind(this))}a={}}addTriangle_(e,t,i,n,o,s){this.triangles_.push({source:[n,o,s],target:[e,t,i]})}addQuad_(e,t,i,n,o,s,a,l,u){const c=ly([o,s,a,l]),h=this.sourceWorldWidth_?si(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1;let f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const g=ly([e,t,i,n]);f=si(g)/this.targetWorldWidth_>X0||f}!p&&this.sourceProj_.isGlobal()&&h&&(f=h>X0||f)}if(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Sn(c,this.maxSourceExtent_))return;let m=0;if(!f&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)f=!0;else if(m=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(u>0){if(!f){const g=[(e[0]+i[0])/2,(e[1]+i[1])/2],y=this.transformInv_(g);let C;p?C=(Ua(o[0],d)+Ua(a[0],d))/2-Ua(y[0],d):C=(o[0]+a[0])/2-y[0];const w=(o[1]+a[1])/2-y[1];f=C*C+w*w>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const g=[(t[0]+i[0])/2,(t[1]+i[1])/2],y=this.transformInv_(g),C=[(n[0]+e[0])/2,(n[1]+e[1])/2],w=this.transformInv_(C);this.addQuad_(e,t,g,C,o,s,y,w,u-1),this.addQuad_(C,g,i,n,w,y,a,l,u-1)}else{const g=[(e[0]+t[0])/2,(e[1]+t[1])/2],y=this.transformInv_(g),C=[(i[0]+n[0])/2,(i[1]+n[1])/2],w=this.transformInv_(C);this.addQuad_(e,g,C,n,o,y,w,l,u-1),this.addQuad_(g,t,i,C,y,s,a,w,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(m&11)==0&&this.addTriangle_(e,i,n,o,a,l),(m&14)==0&&this.addTriangle_(e,i,t,o,a,s),m&&((m&13)==0&&this.addTriangle_(t,n,e,s,l,o),(m&7)==0&&this.addTriangle_(t,n,i,s,l,a))}calculateSourceExtent(){const e=nr();return this.triangles_.forEach(function(t,i,n){const o=t.source;th(e,o[0]),th(e,o[1]),th(e,o[2])}),e}getTriangles(){return this.triangles_}}const I1=D1;let vm;const Gb=[];function q0(r,e,t,i,n){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(i,n),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,i)+1,Math.max(t,n)),r.restore()}function ym(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function L1(){if(vm===void 0){const r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",q0(r,4,5,4,0),q0(r,4,5,0,5);const e=r.getImageData(0,0,3,3).data;vm=ym(e,0)||ym(e,4)||ym(e,8)}return vm}function by(r,e,t,i){const n=zh(t,e,r);let o=H0(e,i,t);const s=e.getMetersPerUnit();s!==void 0&&(o*=s);const a=r.getMetersPerUnit();a!==void 0&&(o/=a);const l=r.getExtent();if(!l||dg(l,n)){const u=H0(r,o,n)/o;isFinite(u)&&u>0&&(o/=u)}return o}function F1(r,e,t,i){const n=el(t);let o=by(r,e,n,i);return(!isFinite(o)||o<=0)&&V_(t,function(s){return o=by(r,e,s,i),isFinite(o)&&o>0}),o}function N1(r,e,t,i,n,o,s,a,l,u,c,h){const d=rr(Math.round(t*r),Math.round(t*e),Gb);if(h||(d.imageSmoothingEnabled=!1),l.length===0)return d.canvas;d.scale(t,t);function p(S){return Math.round(S*t)/t}d.globalCompositeOperation="lighter";const f=nr();l.forEach(function(S,b,T){KR(f,S.extent)});const m=si(f),g=Eo(f),y=rr(Math.round(t*m/i),Math.round(t*g/i));h||(y.imageSmoothingEnabled=!1);const C=t/i;l.forEach(function(S,b,T){const F=S.extent[0]-f[0],R=-(S.extent[3]-f[3]),P=si(S.extent),G=Eo(S.extent);S.image.width>0&&S.image.height>0&&y.drawImage(S.image,u,u,S.image.width-2*u,S.image.height-2*u,F*C,R*C,P*C,G*C)});const w=hl(s);return a.getTriangles().forEach(function(S,b,T){const F=S.source,R=S.target;let P=F[0][0],G=F[0][1],q=F[1][0],te=F[1][1],j=F[2][0],Y=F[2][1];const U=p((R[0][0]-w[0])/o),Z=p(-(R[0][1]-w[1])/o),J=p((R[1][0]-w[0])/o),ie=p(-(R[1][1]-w[1])/o),K=p((R[2][0]-w[0])/o),H=p(-(R[2][1]-w[1])/o),ge=P,V=G;P=0,G=0,q-=ge,te-=V,j-=ge,Y-=V;const ye=[[q,te,0,0,J-U],[j,Y,0,0,K-U],[0,0,q,te,ie-Z],[0,0,j,Y,H-Z]],Ce=sI(ye);if(!!Ce){if(d.save(),d.beginPath(),L1()||!h){d.moveTo(J,ie);const W=4,ce=U-J,it=Z-ie;for(let Ne=0;Ne<W;Ne++)d.lineTo(J+p((Ne+1)*ce/W),ie+p(Ne*it/(W-1))),Ne!=W-1&&d.lineTo(J+p((Ne+1)*ce/W),ie+p((Ne+1)*it/(W-1)));d.lineTo(K,H)}else d.moveTo(J,ie),d.lineTo(U,Z),d.lineTo(K,H);d.clip(),d.transform(Ce[0],Ce[2],Ce[1],Ce[3],U,Z),d.translate(f[0]-ge,f[3]-V),d.scale(i/t,-i/t),d.drawImage(y.canvas,0,0),d.restore()}}),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(S,b,T){const F=S.target,R=(F[0][0]-w[0])/o,P=-(F[0][1]-w[1])/o,G=(F[1][0]-w[0])/o,q=-(F[1][1]-w[1])/o,te=(F[2][0]-w[0])/o,j=-(F[2][1]-w[1])/o;d.beginPath(),d.moveTo(G,q),d.lineTo(R,P),d.lineTo(te,j),d.closePath(),d.stroke()}),d.restore()),d.canvas}class G1 extends Lb{constructor(e,t,i,n,o,s,a,l,u,c,h,d){super(o,qe.IDLE,{interpolate:!!d}),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const p=n.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const g=f?ih(p,f):p;if(cy(g)===0){this.state=qe.EMPTY;return}const y=e.getExtent();y&&(m?m=ih(m,y):m=y);const C=n.getResolution(this.wrappedTileCoord_[0]),w=F1(e,i,g,C);if(!isFinite(w)||w<=0){this.state=qe.EMPTY;return}const S=c!==void 0?c:O1;if(this.triangulation_=new I1(e,i,g,m,w*S,C),this.triangulation_.getTriangles().length===0){this.state=qe.EMPTY;return}this.sourceZ_=t.getZForResolution(w);let b=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(b[1]=Mi(b[1],m[1],m[3]),b[3]=Mi(b[3],m[1],m[3])):b=ih(b,m)),!cy(b))this.state=qe.EMPTY;else{const T=t.getTileRangeForExtentAndZ(b,this.sourceZ_);for(let F=T.minX;F<=T.maxX;F++)for(let R=T.minY;R<=T.maxY;R++){const P=u(this.sourceZ_,F,R,a);P&&this.sourceTiles_.push(P)}this.sourceTiles_.length===0&&(this.state=qe.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(function(t,i,n){t&&t.getState()==qe.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=qe.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),n=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=N1(n,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=qe.LOADED}this.changed()}load(){if(this.state==qe.IDLE){this.state=qe.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,i,n){const o=t.getState();if(o==qe.IDLE||o==qe.LOADING){e++;const s=Ot(t,ut.CHANGE,function(a){const l=t.getState();(l==qe.LOADED||l==qe.ERROR||l==qe.EMPTY)&&(ti(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,n){t.getState()==qe.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(ti),this.sourcesListenerKeys_=null}release(){this.canvas_&&(ob(this.canvas_.getContext("2d")),Gb.push(this.canvas_),this.canvas_=null),super.release()}}const My=G1;class H1{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Et(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Et(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(!!this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Et(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}const W1=H1;function Z0(r,e,t,i){return i!==void 0?(i[0]=r,i[1]=e,i[2]=t,i):[r,e,t]}function Cg(r,e,t){return r+"/"+e+"/"+t}function Hb(r){return Cg(r[0],r[1],r[2])}function V1(r){return r.split("/").map(Number)}function Wb(r){return(r[1]<<r[0])+r[2]}function k1(r,e){const t=r[0],i=r[1],n=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const o=e.getFullTileRange(t);return o?o.containsXY(i,n):!0}class B1 extends W1{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=V1(e)[0];this.forEach(function(n){n.tileCoord[0]!==i&&(this.remove(Hb(n.tileCoord)),n.release())}.bind(this))}}const Vb=B1,_m={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class U1 extends Jr{constructor(e){super(),this.projection=wi(e.projection),this.attributions_=J0(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,n){t.viewResolver=i,t.viewRejector=n})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return tt()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=J0(e),this.changed()}setState(e){this.state_=e,this.changed()}}function J0(r){return r?Array.isArray(r)?function(e){return r}:typeof r=="function"?r:function(e){return[r]}:null}const kb=U1;class Bb{constructor(e,t,i,n){this.minX=e,this.maxX=t,this.minY=i,this.maxY=n}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function xl(r,e,t,i,n){return n!==void 0?(n.minX=r,n.maxX=e,n.minY=t,n.maxY=i,n):new Bb(r,e,t,i)}const Ub=Bb,z1=[0,0,0],cs=5;class j1{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Et(LD(this.resolutions_,function(n,o){return o-n},!0),17);let t;if(!e.origins){for(let n=0,o=this.resolutions_.length-1;n<o;++n)if(!t)t=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Et(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=hl(i)),Et(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Et(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Y_,Et(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(n,o){const s=new Ub(Math.min(0,n[0]),Math.max(n[0]-1,-1),Math.min(0,n[1]),Math.max(n[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const n=this.getTileRangeForExtentAndZ(e,t);for(let o=n.minX,s=n.maxX;o<=s;++o)for(let a=n.minY,l=n.maxY;a<=l;++a)i([t,o,a])}forEachTileCoordParentTileRange(e,t,i,n){let o,s,a,l=null,u=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,n);u>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),a=Math.floor(a/2),o=xl(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,u,i),t(u,o))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,s=e[2]*2;return xl(o,o+1,s,s+1,t)}const n=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const n=e[0],o=e[1],s=e[2];if(t===n)return xl(o,s,o,s,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-n),u=Math.floor(o*l),c=Math.floor(s*l);if(t<n)return xl(u,u,c,c,i);const h=Math.floor(l*(o+1))-1,d=Math.floor(l*(s+1))-1;return xl(u,h,c,d,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeExtent(e,t,i){const n=this.getOrigin(e),o=this.getResolution(e),s=En(this.getTileSize(e),this.tmpSize_),a=n[0]+t.minX*s[0]*o,l=n[0]+(t.maxX+1)*s[0]*o,u=n[1]+t.minY*s[1]*o,c=n[1]+(t.maxY+1)*s[1]*o;return Xr(a,u,l,c,i)}getTileRangeForExtentAndZ(e,t,i){const n=z1;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);const o=n[1],s=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),xl(o,n[1],s,n[2],i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=En(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*i,t[1]-(e[2]+.5)*n[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),n=this.getResolution(e[0]),o=En(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*o[0]*n,a=i[1]-(e[2]+1)*o[1]*n,l=s+o[0]*n,u=a+o[1]*n;return Xr(s,a,l,u,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,n,o){const s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),u=En(this.getTileSize(s),this.tmpSize_);let c=a*(e-l[0])/i/u[0],h=a*(l[1]-t)/i/u[1];return n?(c=Sd(c,cs)-1,h=Sd(h,cs)-1):(c=wd(c,cs),h=wd(h,cs)),Z0(s,c,h,o)}getTileCoordForXYAndZ_(e,t,i,n,o){const s=this.getOrigin(i),a=this.getResolution(i),l=En(this.getTileSize(i),this.tmpSize_);let u=(e-s[0])/a/l[0],c=(s[1]-t)/a/l[1];return n?(u=Sd(u,cs)-1,c=Sd(c,cs)-1):(u=wd(u,cs),c=wd(c,cs)),Z0(i,u,c,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=N_(this.resolutions_,e,t||0);return Mi(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return xb(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let n=this.minZoom;n<t;++n)i[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=i}}const zb=j1;function jb(r){let e=r.getDefaultTileGrid();return e||(e=X1(r),r.setDefaultTileGrid(e)),e}function $1(r,e,t){const i=e[0],n=r.getTileCoordCenter(e),o=mC(t);if(dg(o,n))return e;{const s=si(o),a=Math.ceil((o[0]-n[0])/s);return n[0]+=s*a,r.getTileCoordForCoordAndZ(n,i)}}function Y1(r,e,t,i){i=i!==void 0?i:"top-left";const n=$b(r,e,t);return new zb({extent:r,origin:eI(r,i),resolutions:n,tileSize:t})}function K1(r){const e=r||{},t=e.extent||wi("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:$b(t,e.maxZoom,e.tileSize,e.maxResolution)};return new zb(i)}function $b(r,e,t,i){e=e!==void 0?e:zI,t=En(t!==void 0?t:Y_);const n=Eo(r),o=si(r);i=i>0?i:Math.max(o/t[0],n/t[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function X1(r,e,t,i){const n=mC(r);return Y1(n,e,t,i)}function mC(r){r=wi(r);let e=r.getExtent();if(!e){const t=180*Eh.degrees/r.getMetersPerUnit();e=Xr(-t,-t,t,t)}return e}class q1 extends kb{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&En(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Vb(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,n){const o=this.getTileCacheForProjection(e);if(!o)return!1;let s=!0,a,l,u;for(let c=i.minX;c<=i.maxX;++c)for(let h=i.minY;h<=i.maxY;++h)l=Cg(t,c,h),u=!1,o.containsKey(l)&&(a=o.get(l),u=a.getState()===qe.LOADED,u&&(u=n(a)!==!1)),u||(s=!1);return s}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(){return this.tileGrid?this.tileGrid.getResolutions():null}getTile(e,t,i,n,o){return tt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:jb(e)}getTileCacheForProjection(e){const t=this.getProjection();return Et(t===null||Oa(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const n=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),s=En(n.getTileSize(e),this.tmpSize);return o==1?s:Ab(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=$1(i,e,t)),k1(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,n){}}class Z1 extends Zr{constructor(e,t){super(e),this.tile=t}}const J1=q1;function Q1(r,e){const t=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return r.replace(t,s[0].toString()).replace(i,s[1].toString()).replace(n,s[2].toString()).replace(o,function(){const u=s[0],c=e.getFullTileRange(u);return Et(c,55),(c.getHeight()-s[2]-1).toString()})}}function eF(r,e){const t=r.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=Q1(r[n],e);return tF(i)}function tF(r){return r.length===1?r[0]:function(e,t,i){if(e){const n=Wb(e),o=Ua(n,r.length);return r[o](e,t,i)}else return}}function iF(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const i=t[1].charCodeAt(0),n=t[2].charCodeAt(0);let o;for(o=i;o<=n;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const i=parseInt(t[2],10);for(let n=parseInt(t[1],10);n<=i;n++)e.push(r.replace(t[0],n.toString()));return e}return e.push(r),e}class vC extends J1{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===vC.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Tt(t),n=t.getState();let o;n==qe.LOADING?(this.tileLoadingKeys_[i]=!0,o=_m.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=n==qe.ERROR?_m.TILELOADERROR:n==qe.LOADED?_m.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new Z1(o,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=iF(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(eF(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const n=Cg(e,t,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const nF=vC;class rF extends nF{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:oF,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Nb,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const n in this.tileCacheForProjection){const o=this.tileCacheForProjection[n];o.expireCache(o==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Oa(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Oa(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Oa(t,e)))return this.tileGrid;{const i=Tt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=jb(e)),this.tileGridForProjection[i]}}getTileCacheForProjection(e){const t=this.getProjection();if(!t||Oa(t,e))return this.tileCache;{const i=Tt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Vb(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}}createTile_(e,t,i,n,o,s){const a=[e,t,i],l=this.getTileCoordForTileUrlFunction(a,o),u=l?this.tileUrlFunction(l,n,o):void 0,c=new this.tileClass(a,u!==void 0?qe.IDLE:qe.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=s,c.addEventListener(ut.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,t,i,n,o){const s=this.getProjection();if(!s||!o||Oa(s,o))return this.getTileInternal(e,t,i,n,s||o);{const a=this.getTileCacheForProjection(o),l=[e,t,i];let u;const c=Hb(l);a.containsKey(c)&&(u=a.get(c));const h=this.getKey();if(u&&u.key==h)return u;{const d=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(l,o),m=new My(s,d,o,p,l,f,this.getTilePixelRatio(n),this.getGutter(),function(g,y,C,w){return this.getTileInternal(g,y,C,w,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=h,u?(m.interimTile=u,m.refreshInterimChain(),a.replace(c,m)):a.set(c,m),m}}}getTileInternal(e,t,i,n,o){let s=null;const a=Cg(e,t,i),l=this.getKey();if(!this.tileCache.containsKey(a))s=this.createTile_(e,t,i,n,o,l),this.tileCache.set(a,s);else if(s=this.tileCache.get(a),s.key!=l){const u=s;s=this.createTile_(e,t,i,n,o,l),u.getState()==qe.IDLE?s.interimTile=u.interimTile:s.interimTile=u,s.refreshInterimChain(),this.tileCache.replace(a,s)}return s}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=wi(e);if(i){const n=Tt(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function oF(r,e){r.getImage().src=e}const Yb=rF;class sF extends Yb{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:K1({extent:mC(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const ro=sF,on={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class aF extends Jr{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+EI,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(on.ELEMENT,this.handleElementChanged),this.addChangeListener(on.MAP,this.handleMapChanged),this.addChangeListener(on.OFFSET,this.handleOffsetChanged),this.addChangeListener(on.POSITION,this.handlePositionChanged),this.addChangeListener(on.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(on.ELEMENT)}getId(){return this.id}getMap(){return this.get(on.MAP)||null}getOffset(){return this.get(on.OFFSET)}getPosition(){return this.get(on.POSITION)}getPositioning(){return this.get(on.POSITIONING)}handleElementChanged(){sb(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(sf(this.element),ti(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Ot(e,Uo.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(on.ELEMENT,e)}setMap(e){this.set(on.MAP,e)}setOffset(e){this.set(on.OFFSET,e)}setPosition(e){this.set(on.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(on.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),o=this.getRect(n,[RI(n),bI(n)]);e=e||{};const s=e.margin===void 0?20:e.margin;if(!Fs(i,o)){const a=o[0]-i[0],l=i[2]-o[2],u=o[1]-i[1],c=i[3]-o[3],h=[0,0];if(a<0?h[0]=a-s:l<0&&(h[0]=Math.abs(l)+s),u<0?h[1]=u-s:c<0&&(h[1]=Math.abs(c)+s),h[0]!==0||h[1]!==0){const d=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(d);if(!p)return;const f=[p[0]+h[0],p[1]+h[1]],m=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(f),duration:m.duration,easing:m.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+t[0],o+t[1]]}setPositioning(e){this.set(on.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(e,t){const i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const s=Math.round(e[0]+n[0])+"px",a=Math.round(e[1]+n[1])+"px";let l="0%",u="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?u="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${s}, ${a})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}const Kb=aF,Td={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class lF extends mg{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Td.PRELOAD)}setPreload(e){this.set(Td.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Td.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Td.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const uF=lF;class cF extends kR{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return tt()}getData(e){return null}prepareFrame(e){return tt()}renderFrame(e,t){return tt()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return function(n,o){const s=this.loadedTileCallback.bind(this,i,n);return e.forEachLoadedTile(t,n,o,s)}.bind(this)}forEachFeatureAtCoordinate(e,t,i,n,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===Fi.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Fi.LOADED&&t!=Fi.ERROR&&e.addEventListener(ut.CHANGE,this.boundHandleImageChange_),t==Fi.IDLE&&(e.load(),t=e.getState()),t==Fi.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const hF=cF,Q0=[];let Zl=null;function dF(){const r=document.createElement("canvas");r.width=1,r.height=1,Zl=r.getContext("2d")}class pF extends hF{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=vo(),this.pixelTransform=vo(),this.inversePixelTransform=vo(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){Zl||dF(),Zl.clearRect(0,0,1,1);let n;try{Zl.drawImage(e,t,i,1,1,0,0,1,1),n=Zl.getImageData(0,0,1,1).data}catch{return Zl=null,null}return n}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const n=this.getLayer().getClassName();let o,s;if(e&&e.className===n&&(!i||e&&e.style.backgroundColor&&ul(nf(e.style.backgroundColor),nf(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&s.canvas.style.transform===t?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=n;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=rr();const l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const n=hl(i),o=gg(i),s=fg(i),a=pg(i);Bi(t.coordinateToPixelTransform,n),Bi(t.coordinateToPixelTransform,o),Bi(t.coordinateToPixelTransform,s),Bi(t.coordinateToPixelTransform,a);const l=this.inversePixelTransform;Bi(l,n),Bi(l,o),Bi(l,s),Bi(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,t,i){const n=this.getLayer();if(n.hasListener(e)){const o=new nb(e,this.inversePixelTransform,i,t);n.dispatchEvent(o)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(js.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(js.POSTRENDER,e,t)}getRenderTransform(e,t,i,n,o,s,a){const l=o/2,u=s/2,c=n/t,h=-c,d=-e[0]+a,p=-e[1];return ea(this.tempTransform,l,u,c,h,-i,d,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const Xb=pF;class fF extends Xb{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=nr(),this.tmpTileRange_=new Ub(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==qe.LOADED||i==qe.EMPTY||i==qe.ERROR&&!n}getTile(e,t,i,n){const o=n.pixelRatio,s=n.viewState.projection,a=this.getLayer();let u=a.getSource().getTile(e,t,i,o,s);return u.getState()==qe.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=Bi(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!dg(o,n))return null;const s=t.pixelRatio,a=t.viewState.projection,l=t.viewState,u=i.getRenderSource(),c=u.getTileGridForProjection(l.projection),h=u.getTilePixelRatio(t.pixelRatio);for(let d=c.getZForResolution(l.resolution);d>=c.getMinZoom();--d){const p=c.getTileCoordForCoordAndZ(n,d),f=u.getTile(d,p[1],p[2],s,a);if(!(f instanceof Nb||f instanceof My)||f instanceof My&&f.getState()===qe.EMPTY)return null;if(f.getState()!==qe.LOADED)continue;const m=c.getOrigin(d),g=En(c.getTileSize(d)),y=c.getResolution(d),C=Math.floor(h*((n[0]-m[0])/y-p[1]*g[0])),w=Math.floor(h*((m[1]-n[1])/y-p[2]*g[1])),S=Math.round(h*u.getGutterForProjection(l.projection));return this.getImageData(f.getImage(),C+S,w+S)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],n=e.viewState,o=n.projection,s=n.resolution,a=n.center,l=n.rotation,u=e.pixelRatio,c=this.getLayer(),h=c.getSource(),d=h.getRevision(),p=h.getTileGridForProjection(o),f=p.getZForResolution(s,h.zDirection),m=p.getResolution(f);let g=e.extent;const y=e.viewState.resolution,C=h.getTilePixelRatio(u),w=Math.round(si(g)/y*u),S=Math.round(Eo(g)/y*u),b=i.extent&&La(i.extent);b&&(g=ih(g,La(i.extent)));const T=m*w/2/C,F=m*S/2/C,R=[a[0]-T,a[1]-F,a[0]+T,a[1]+F],P=p.getTileRangeForExtentAndZ(g,f),G={};G[f]={};const q=this.createLoadedTileFinder(h,o,G),te=this.tmpExtent,j=this.tmpTileRange_;this.newTiles_=!1;const Y=l?dy(n.center,y,l,e.size):void 0;for(let ye=P.minX;ye<=P.maxX;++ye)for(let Ce=P.minY;Ce<=P.maxY;++Ce){if(l&&!p.tileCoordIntersectsViewport([f,ye,Ce],Y))continue;const W=this.getTile(f,ye,Ce,e);if(this.isDrawableTile(W)){const Ne=Tt(this);if(W.getState()==qe.LOADED){G[f][W.tileCoord.toString()]=W;let $e=W.inTransition(Ne);$e&&i.opacity!==1&&(W.endTransition(Ne),$e=!1),!this.newTiles_&&($e||!this.renderedTiles.includes(W))&&(this.newTiles_=!0)}if(W.getAlpha(Ne,e.time)===1)continue}const ce=p.getTileCoordChildTileRange(W.tileCoord,j,te);let it=!1;ce&&(it=q(f+1,ce)),it||p.forEachTileCoordParentTileRange(W.tileCoord,q,j,te)}const U=m/s*u/C;ea(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-w/2,-S/2);const Z=jR(this.pixelTransform);this.useContainer(t,Z,this.getBackground(e));const J=this.context,ie=J.canvas;H_(this.inversePixelTransform,this.pixelTransform),ea(this.tempTransform,w/2,S/2,U,U,0,-w/2,-S/2),ie.width!=w||ie.height!=S?(ie.width=w,ie.height=S):this.containerReused||J.clearRect(0,0,w,S),b&&this.clipUnrotated(J,e,b),h.getInterpolate()||(J.imageSmoothingEnabled=!1),this.preRender(J,e),this.renderedTiles.length=0;let K=Object.keys(G).map(Number);K.sort(Za);let H,ge,V;i.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?K=K.reverse():(H=[],ge=[]);for(let ye=K.length-1;ye>=0;--ye){const Ce=K[ye],W=h.getTilePixelSize(Ce,u,o),it=p.getResolution(Ce)/m,Ne=W[0]*it*U,$e=W[1]*it*U,xe=p.getTileCoordForCoordAndZ(hl(R),Ce),yt=p.getTileCoordExtent(xe),nt=Bi(this.tempTransform,[C*(yt[0]-R[0])/m,C*(R[3]-yt[3])/m]),Ke=C*h.getGutterForProjection(o),$t=G[Ce];for(const ii in $t){const Yt=$t[ii],Si=Yt.tileCoord,Zt=xe[1]-Si[1],Qe=Math.round(nt[0]-(Zt-1)*Ne),gi=xe[2]-Si[2],Kt=Math.round(nt[1]-(gi-1)*$e),I=Math.round(nt[0]-Zt*Ne),O=Math.round(nt[1]-gi*$e),oe=Qe-I,_e=Kt-O,Ee=f===Ce,Me=Ee&&Yt.getAlpha(Tt(this),e.time)!==1;let Ye=!1;if(!Me)if(H){V=[I,O,I+oe,O,I+oe,O+_e,I,O+_e];for(let be=0,le=H.length;be<le;++be)if(f!==Ce&&Ce<ge[be]){const Ae=H[be];Sn([I,O,I+oe,O+_e],[Ae[0],Ae[3],Ae[4],Ae[7]])&&(Ye||(J.save(),Ye=!0),J.beginPath(),J.moveTo(V[0],V[1]),J.lineTo(V[2],V[3]),J.lineTo(V[4],V[5]),J.lineTo(V[6],V[7]),J.moveTo(Ae[6],Ae[7]),J.lineTo(Ae[4],Ae[5]),J.lineTo(Ae[2],Ae[3]),J.lineTo(Ae[0],Ae[1]),J.clip())}H.push(V),ge.push(Ce)}else J.clearRect(I,O,oe,_e);this.drawTileImage(Yt,e,I,O,oe,_e,Ke,Ee),H&&!Me?(Ye&&J.restore(),this.renderedTiles.unshift(Yt)):this.renderedTiles.push(Yt),this.updateUsedTiles(e.usedTiles,h,Yt)}}return this.renderedRevision=d,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!mh(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=u,this.renderedProjection=o,this.manageTilePyramid(e,h,p,u,o,g,f,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(J,e),i.extent&&J.restore(),J.imageSmoothingEnabled=!0,Z!==ie.style.transform&&(ie.style.transform=Z),this.container}drawTileImage(e,t,i,n,o,s,a,l){const u=this.getTileImage(e);if(!u)return;const c=Tt(this),h=t.layerStatesArray[t.layerIndex],d=h.opacity*(l?e.getAlpha(c,t.time):1),p=d!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,i,n,o,s),p&&this.context.restore(),d!==h.opacity?t.animate=!0:l&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=function(n,o,s){const a=Tt(n);a in s.usedTiles&&n.expireCache(s.viewState.projection,s.usedTiles[a])}.bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const n=Tt(t);n in e||(e[n]={}),e[n][i.getKey()]=!0}manageTilePyramid(e,t,i,n,o,s,a,l,u){const c=Tt(t);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],d=e.tileQueue,p=i.getMinZoom(),f=e.viewState.rotation,m=f?dy(e.viewState.center,e.viewState.resolution,f,e.size):void 0;let g=0,y,C,w,S,b,T;for(T=p;T<=a;++T)for(C=i.getTileRangeForExtentAndZ(s,T,C),w=i.getResolution(T),S=C.minX;S<=C.maxX;++S)for(b=C.minY;b<=C.maxY;++b)f&&!i.tileCoordIntersectsViewport([T,S,b],m)||(a-T<=l?(++g,y=t.getTile(T,S,b,n,o),y.getState()==qe.IDLE&&(h[y.getKey()]=!0,d.isKeyQueued(y.getKey())||d.enqueue([y,c,i.getTileCoordCenter(y.tileCoord),w])),u!==void 0&&u(y)):t.useTile(T,S,b,o));t.updateCacheSize(g,o)}}const gF=fF;class mF extends uF{constructor(e){super(e)}createRenderer(){return new gF(this)}}const yC=mF,Pd="1.3.0";function eS(r,e){const t=[];Object.keys(e).forEach(function(n){e[n]!==null&&e[n]!==void 0&&t.push(n+"="+encodeURIComponent(e[n]))});const i=t.join("&");return r=r.replace(/[?&]$/,""),r+=r.includes("?")?"&":"?",r+i}class vF extends Yb{constructor(e){e=e||{};const t=Object.assign({},e.params),i="TRANSPARENT"in t?t.TRANSPARENT:!0;super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!i,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=nr(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,i,n){const o=wi(i),s=this.getProjection();let a=this.getTileGrid();a||(a=this.getTileGridForProjection(o));const l=a.getZForResolution(t,this.zDirection),u=a.getTileCoordForCoordAndZ(e,l);if(a.getResolutions().length<=u[0])return;let c=a.getResolution(u[0]),h=a.getTileCoordExtent(u,this.tmpExtent_),d=En(a.getTileSize(u[0]),this.tmpSize);const p=this.gutter_;p!==0&&(d=Y0(d,p,this.tmpSize),h=gh(h,c*p,h)),s&&s!==o&&(c=by(s,o,e,c),h=oL(h,o,s),e=zh(e,o,s));const f={SERVICE:"WMS",VERSION:Pd,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(f,this.params_,n);const m=Math.floor((e[0]-h[0])/c),g=Math.floor((h[3]-e[1])/c);return f[this.v13_?"I":"X"]=m,f[this.v13_?"J":"Y"]=g,this.getRequestUrl_(u,d,h,1,s||o,f)}getLegendUrl(e,t){if(this.urls[0]===void 0)return;const i={SERVICE:"WMS",VERSION:Pd,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const n=this.params_.LAYERS;if(!(!Array.isArray(n)||n.length===1))return;i.LAYER=n}if(e!==void 0){const n=this.getProjection()?this.getProjection().getMetersPerUnit():1,o=28e-5;i.SCALE=e*n/o}return Object.assign(i,t),eS(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,i,n,o,s){const a=this.urls;if(!a)return;if(s.WIDTH=t[0],s.HEIGHT=t[1],s[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(s.STYLES=""),n!=1)switch(this.serverType_){case"geoserver":const h=90*n+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case"mapserver":s.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":s.DPI=90*n;break;default:Et(!1,52);break}const l=o.getAxisOrientation(),u=i;if(this.v13_&&l.substr(0,2)=="ne"){let h;h=i[0],u[0]=i[1],u[1]=h,h=i[2],u[2]=i[3],u[3]=h}s.BBOX=u.join(",");let c;if(a.length==1)c=a[0];else{const h=Ua(Wb(e),a.length);c=a[h]}return eS(c,s)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const t=[];for(const i in this.params_)t[e++]=i+"-"+this.params_[i];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||Pd;this.v13_=gI(e,"1.3")>=0}tileUrlFunction(e,t,i){let n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),n.getResolutions().length<=e[0])return;t!=1&&(!this.hidpi_||this.serverType_===void 0)&&(t=1);const o=n.getResolution(e[0]);let s=n.getTileCoordExtent(e,this.tmpExtent_),a=En(n.getTileSize(e[0]),this.tmpSize);const l=this.gutter_;l!==0&&(a=Y0(a,l,this.tmpSize),s=gh(s,o*l,s)),t!=1&&(a=Ab(a,t,this.tmpSize));const u={SERVICE:"WMS",VERSION:Pd,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(u,this.params_),this.getRequestUrl_(e,a,s,t,i,u)}}const qb=vF;class _C extends Jr{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new _C(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(ti(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ot(e,ut.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?yF(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function yF(r){if(typeof r=="function")return r;{let e;return Array.isArray(r)?e=r:(Et(typeof r.getZIndex=="function",41),e=[r]),function(){return e}}}const yr=_C;class gf extends vb{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(ti),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(!!this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Ot(this.geometries_[e],ut.CHANGE,this.changed,this))}clone(){const e=new gf(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<cl(this.getExtent(),e,t))return n;const o=this.geometries_;for(let s=0,a=o.length;s<a;++s)n=o[s].closestPointXY(e,t,i,n);return n}containsXY(e,t){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)if(i[n].containsXY(e,t))return!0;return!1}computeExtent(e){Bh(e);const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)KR(e,t[i].getExtent());return e}getGeometries(){return tS(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let n=!1;for(let o=0,s=i.length;o<s;++o){const a=i[o],l=a.getSimplifiedGeometry(e);t.push(l),l!==a&&(n=!0)}if(n){const o=new gf(null);return o.setGeometriesArray(t),o}else return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].rotate(e,t);this.changed()}scale(e,t,i){i||(i=el(this.getExtent()));const n=this.geometries_;for(let o=0,s=n.length;o<s;++o)n[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(tS(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let n=0,o=i.length;n<o;++n)i[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function tS(r){const e=[];for(let t=0,i=r.length;t<i;++t)e.push(r[t].clone());return e}const Zb=gf;class _F{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?wi(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=wi(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return tt()}readFeature(e,t){return tt()}readFeatures(e,t){return tt()}readGeometry(e,t){return tt()}readProjection(e){return tt()}writeFeature(e,t){return tt()}writeFeatures(e,t){return tt()}writeGeometry(e,t){return tt()}}function wg(r,e,t){const i=t?wi(t.featureProjection):null,n=t?wi(t.dataProjection):null;let o;if(i&&n&&!Oa(i,n)?o=(e?r.clone():r).transform(e?i:n,e?n:i):o=r,e&&t&&t.decimals!==void 0){const s=Math.pow(10,t.decimals),a=function(l){for(let u=0,c=l.length;u<c;++u)l[u]=Math.round(l[u]*s)/s;return l};o===r&&(o=r.clone()),o.applyTransform(a)}return o}class CF extends _F{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Od(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Od(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return tt()}readFeaturesFromObject(e,t){return tt()}readGeometry(e,t){return this.readGeometryFromObject(Od(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return tt()}readProjection(e){return this.readProjectionFromObject(Od(e))}readProjectionFromObject(e){return tt()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return tt()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return tt()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return tt()}}function Od(r){if(typeof r=="string"){const e=JSON.parse(r);return e||null}else return r!==null?r:null}const Jb=CF;function Qb(r,e,t,i,n,o,s){let a,l;const u=(t-e)/i;if(u===1)a=e;else if(u===2)a=e,l=n;else if(u!==0){let c=r[e],h=r[e+1],d=0;const p=[0];for(let g=e+i;g<t;g+=i){const y=r[g],C=r[g+1];d+=Math.sqrt((y-c)*(y-c)+(C-h)*(C-h)),p.push(d),c=y,h=C}const f=n*d,m=DD(p,f);m<0?(l=(f-p[-m-2])/(p[-m-1]-p[-m-2]),a=e+(-m-2)*i):a=e+m*i}s=s>1?s:2,o=o||new Array(s);for(let c=0;c<s;++c)o[c]=a===void 0?NaN:l===void 0?r[a+c]:$o(r[a+c],r[a+i+c],l);return o}function Ty(r,e,t,i,n,o){if(t==e)return null;let s;if(n<r[e+i-1])return o?(s=r.slice(e,e+i),s[i-1]=n,s):null;if(r[t-1]<n)return o?(s=r.slice(t-i,t),s[i-1]=n,s):null;if(n==r[e+i-1])return r.slice(e,e+i);let a=e/i,l=t/i;for(;a<l;){const d=a+l>>1;n<r[(d+1)*i-1]?l=d:a=d+1}const u=r[a*i-1];if(n==u)return r.slice((a-1)*i,(a-1)*i+i);const c=r[(a+1)*i-1],h=(n-u)/(c-u);s=[];for(let d=0;d<i-1;++d)s.push($o(r[(a-1)*i+d],r[a*i+d],h));return s.push(n),s}function wF(r,e,t,i,n,o,s){if(s)return Ty(r,e,t[t.length-1],i,n,o);let a;if(n<r[i-1])return o?(a=r.slice(0,i),a[i-1]=n,a):null;if(r[r.length-1]<n)return o?(a=r.slice(r.length-i),a[i-1]=n,a):null;for(let l=0,u=t.length;l<u;++l){const c=t[l];if(e!=c){if(n<r[e+i-1])return null;if(n<=r[c-1])return Ty(r,e,c,i,n,!1);e=c}}return null}function eM(r,e,t,i){let n=r[e],o=r[e+1],s=0;for(let a=e+i;a<t;a+=i){const l=r[a],u=r[a+1];s+=Math.sqrt((l-n)*(l-n)+(u-o)*(u-o)),n=l,o=u}return s}class mf extends aa{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){this.flatCoordinates?zr(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new mf(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<cl(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,n))}forEachSegment(e){return Eb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,Ty(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Ns(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Qb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return eM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=aC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new mf(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return _g(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jh(this.flatCoordinates,0,e,this.stride),this.changed()}}const yo=mf;class vf extends aa{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let n=this.getLayout();const o=e,s=[],a=[];for(let l=0,u=o.length;l<u;++l){const c=o[l];l===0&&(n=c.getLayout()),zr(s,c.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(n,s),this.ends_=a}}appendLineString(e){this.flatCoordinates?zr(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new vf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<cl(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nC(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),oC(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,n))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,wF(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return Rh(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new yo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,n=[];let o=0;for(let s=0,a=t.length;s<a;++s){const l=t[s],u=new yo(e.slice(o,l),i);n.push(u),o=l}return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const n=this.ends_,o=this.stride;for(let s=0,a=n.length;s<a;++s){const l=n[s],u=Qb(t,i,l,o,.5);zr(e,u),i=l}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=SL(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new vf(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return PL(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=sC(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const Sg=vf;class CC extends aa{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?zr(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new CC(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<cl(this.getExtent(),e,t))return n;const o=this.flatCoordinates,s=this.stride;for(let a=0,l=o.length;a<l;a+=s){const u=Jo(e,t,o[a],o[a+1]);if(u<n){n=u;for(let c=0;c<s;++c)i[c]=o[a+c];i.length=s}}return n}getCoordinates(){return Ns(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new xn(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,n=[];for(let o=0,s=e.length;o<s;o+=i){const a=new xn(e.slice(o,o+i),t);n.push(a)}return n}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let n=0,o=t.length;n<o;n+=i){const s=t[n],a=t[n+1];if(W_(e,s,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jh(this.flatCoordinates,0,e,this.stride),this.changed()}}const Eg=CC;function SF(r,e,t,i){const n=[];let o=nr();for(let s=0,a=t.length;s<a;++s){const l=t[s];o=YR(r,e,l[0],i),n.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return n}class yf extends aa{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let n=this.getLayout();const o=e,s=[],a=[];for(let l=0,u=o.length;l<u;++l){const c=o[l];l===0&&(n=c.getLayout());const h=s.length,d=c.getEnds();for(let p=0,f=d.length;p<f;++p)d[p]+=h;zr(s,c.getFlatCoordinates()),a.push(d)}t=n,e=s,i=a}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;zr(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let n=0,o=t.length;n<o;++n)t[n]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const i=new yf(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,n){return n<cl(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_L(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),CL(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return ML(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return RL(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),j0(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Cy(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=SF(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=TL(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Eg(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;DL(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=j0(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=xL(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new yf(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),n=i[i.length-1];if(t!==0)for(let o=0,s=i.length;o<s;++o)i[o]-=t;return new rs(this.flatCoordinates.slice(t,n),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,n=[];let o=0;for(let s=0,a=i.length;s<a;++s){const l=i[s].slice(),u=l[l.length-1];if(o!==0)for(let h=0,d=l.length;h<d;++h)l[h]-=o;const c=new rs(t.slice(o,u),e,l);n.push(c),o=u}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return OL(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=wL(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const n=i[i.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}}const xg=yf;class EF extends Jb{constructor(e){e=e||{},super(),this.dataProjection=wi(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=wi(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const n=Py(i.geometry,t),o=new yr;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&o.setGeometryName(i.geometry_name),o.setGeometry(n),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){const i=e;let n=null;if(i.type==="FeatureCollection"){const o=e;n=[];const s=o.features;for(let a=0,l=s.length;a<l;++a)n.push(this.readFeatureFromObject(s[a],t))}else n=[this.readFeatureFromObject(e,t)];return n}readGeometryFromObject(e,t){return Py(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?t.type=="name"?i=wi(t.properties.name):t.type==="EPSG"?i=wi("EPSG:"+t.properties.code):Et(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(i.id=n),!e.hasProperties())return i;const o=e.getProperties(),s=e.getGeometry();return s&&(i.geometry=Oy(s,t),delete o[e.getGeometryName()]),Qa(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let n=0,o=e.length;n<o;++n)i.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return Oy(e,this.adaptOptions(t))}}function Py(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=RF(r);break}case"LineString":{t=bF(r);break}case"Polygon":{t=OF(r);break}case"MultiPoint":{t=TF(r);break}case"MultiLineString":{t=MF(r);break}case"MultiPolygon":{t=PF(r);break}case"GeometryCollection":{t=xF(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return wg(t,!1,e)}function xF(r,e){const t=r.geometries.map(function(i){return Py(i,e)});return new Zb(t)}function RF(r){return new xn(r.coordinates)}function bF(r){return new yo(r.coordinates)}function MF(r){return new Sg(r.coordinates)}function TF(r){return new Eg(r.coordinates)}function PF(r){return new xg(r.coordinates)}function OF(r){return new rs(r.coordinates)}function Oy(r,e){r=wg(r,!0,e);const t=r.getType();let i;switch(t){case"Point":{i=NF(r);break}case"LineString":{i=DF(r);break}case"Polygon":{i=GF(r,e);break}case"MultiPoint":{i=LF(r);break}case"MultiLineString":{i=IF(r);break}case"MultiPolygon":{i=FF(r,e);break}case"GeometryCollection":{i=AF(r,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function AF(r,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:r.getGeometriesArray().map(function(i){return Oy(i,e)})}}function DF(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function IF(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function LF(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function FF(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function NF(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function GF(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}const Mh=EF;function HF(r,e,t,i,n){tM(r,e,t||0,i||r.length-1,n||WF)}function tM(r,e,t,i,n){for(;i>t;){if(i-t>600){var o=i-t+1,s=e-t+1,a=Math.log(o),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1),c=Math.max(t,Math.floor(e-s*l/o+u)),h=Math.min(i,Math.floor(e+(o-s)*l/o+u));tM(r,e,c,h,n)}var d=r[e],p=t,f=i;for(pc(r,t,e),n(r[i],d)>0&&pc(r,t,i);p<f;){for(pc(r,p,f),p++,f--;n(r[p],d)<0;)p++;for(;n(r[f],d)>0;)f--}n(r[t],d)===0?pc(r,t,f):(f++,pc(r,f,i)),f<=e&&(t=f+1),e<=f&&(i=f-1)}}function pc(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}function WF(r,e){return r<e?-1:r>e?1:0}class iM{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Dd(e,t))return i;const n=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],l=t.leaf?n(a):a;Dd(e,l)&&(t.leaf?i.push(a):wm(e,l)?this._all(a,i):o.push(a))}t=o.pop()}return i}collides(e){let t=this.data;if(!Dd(e,t))return!1;const i=[];for(;t;){for(let n=0;n<t.children.length;n++){const o=t.children[n],s=t.leaf?this.toBBox(o):o;if(Dd(e,s)){if(t.leaf||wm(e,s))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Jl([]),this}remove(e,t){if(!e)return this;let i=this.data;const n=this.toBBox(e),o=[],s=[];let a,l,u;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],a=s.pop(),u=!0),i.leaf){const c=VF(e,i.children,t);if(c!==-1)return i.children.splice(c,1),o.push(i),this._condense(o),this}!u&&!i.leaf&&wm(i,n)?(o.push(i),s.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,n){const o=i-t+1;let s=this._maxEntries,a;if(o<=s)return a=Jl(e.slice(t,i+1)),Rl(a,this.toBBox),a;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),a=Jl([]),a.leaf=!1,a.height=n;const l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));iS(e,t,i,u,this.compareMinX);for(let c=t;c<=i;c+=u){const h=Math.min(c+u-1,i);iS(e,c,h,l,this.compareMinY);for(let d=c;d<=h;d+=l){const p=Math.min(d+l-1,h);a.children.push(this._build(e,d,p,n-1))}}return Rl(a,this.toBBox),a}_chooseSubtree(e,t,i,n){for(;n.push(t),!(t.leaf||n.length-1===i);){let o=1/0,s=1/0,a;for(let l=0;l<t.children.length;l++){const u=t.children[l],c=Cm(u),h=UF(e,u)-c;h<s?(s=h,o=c<o?c:o,a=u):h===s&&c<o&&(o=c,a=u)}t=a||t.children[0]}return t}_insert(e,t,i){const n=i?e:this.toBBox(e),o=[],s=this._chooseSubtree(n,this.data,t,o);for(s.children.push(e),zc(s,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)}_split(e,t){const i=e[t],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);const s=this._chooseSplitIndex(i,o,n),a=Jl(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,Rl(i,this.toBBox),Rl(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=Jl([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Rl(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let n,o=1/0,s=1/0;for(let a=t;a<=i-t;a++){const l=Uc(e,0,a,this.toBBox),u=Uc(e,a,i,this.toBBox),c=zF(l,u),h=Cm(l)+Cm(u);c<o?(o=c,n=a,s=h<s?h:s):c===o&&h<s&&(s=h,n=a)}return n||i-t}_chooseSplitAxis(e,t,i){const n=e.leaf?this.compareMinX:kF,o=e.leaf?this.compareMinY:BF,s=this._allDistMargin(e,t,i,n),a=this._allDistMargin(e,t,i,o);s<a&&e.children.sort(n)}_allDistMargin(e,t,i,n){e.children.sort(n);const o=this.toBBox,s=Uc(e,0,t,o),a=Uc(e,i-t,i,o);let l=Ad(s)+Ad(a);for(let u=t;u<i-t;u++){const c=e.children[u];zc(s,e.leaf?o(c):c),l+=Ad(s)}for(let u=i-t-1;u>=t;u--){const c=e.children[u];zc(a,e.leaf?o(c):c),l+=Ad(a)}return l}_adjustParentBBoxes(e,t,i){for(let n=i;n>=0;n--)zc(t[n],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Rl(e[t],this.toBBox)}}function VF(r,e,t){if(!t)return e.indexOf(r);for(let i=0;i<e.length;i++)if(t(r,e[i]))return i;return-1}function Rl(r,e){Uc(r,0,r.children.length,e,r)}function Uc(r,e,t,i,n){n||(n=Jl(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(let o=e;o<t;o++){const s=r.children[o];zc(n,r.leaf?i(s):s)}return n}function zc(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function kF(r,e){return r.minX-e.minX}function BF(r,e){return r.minY-e.minY}function Cm(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Ad(r){return r.maxX-r.minX+(r.maxY-r.minY)}function UF(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function zF(r,e){const t=Math.max(r.minX,e.minX),i=Math.max(r.minY,e.minY),n=Math.min(r.maxX,e.maxX),o=Math.min(r.maxY,e.maxY);return Math.max(0,n-t)*Math.max(0,o-i)}function wm(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function Dd(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function Jl(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function iS(r,e,t,i,n){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;const s=e+Math.ceil((t-e)/i/2)*i;HF(r,s,e,t,n),o.push(e,s,s,t)}}class wC{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=En(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new wC({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return tt()}getImage(e){return tt()}getHitDetectionImage(){return tt()}getPixelRatio(e){return 1}getImageState(){return tt()}getImageSize(){return tt()}getOrigin(){return tt()}getSize(){return tt()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=En(e)}listenImageChange(e){tt()}load(){tt()}unlistenImageChange(e){tt()}}const nM=wC;function go(r){return Array.isArray(r)?JR(r):r}class SC extends nM{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new SC({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const i=this.renderOptions_,n=rr(i.size*e,i.size*e);this.draw_(i,n,e),t=n.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return Fi.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let n=this.radius_,o=this.radius2_===void 0?n:this.radius2_;if(n<o){const T=n;n=o,o=T}const s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),u=Math.sqrt(o*o-l*l),c=n-u,h=Math.sqrt(l*l+c*c),d=h/l;if(e==="miter"&&d<=i)return d*t;const p=t/2/d,f=t/2*(c/h),g=Math.sqrt((n+p)*(n+p)+f*f)-n;if(this.radius2_===void 0||e==="bevel")return g*2;const y=n*Math.sin(a),C=Math.sqrt(n*n-y*y),w=o-C,b=Math.sqrt(y*y+w*w)/y;if(b<=i){const T=b*t/2-o-n;return 2*Math.max(g,T)}return g*2}createRenderOptions(){let e=bu,t=0,i=null,n=0,o,s=0;this.stroke_&&(o=this.stroke_.getColor(),o===null&&(o=Ch),o=go(o),s=this.stroke_.getWidth(),s===void 0&&(s=Sh),i=this.stroke_.getLineDash(),n=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=bu),t=this.stroke_.getMiterLimit(),t===void 0&&(t=_h));const a=this.calculateLineJoinSize_(e,s,t),l=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*l+a);return{strokeStyle:o,strokeWidth:s,size:u,lineDash:i,lineDashOffset:n,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let n=this.fill_.getColor();n===null&&(n=Qo),t.fillStyle=go(n),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),i=0;if(typeof t=="string"&&(t=nf(t)),t===null?i=1:Array.isArray(t)&&(i=t.length===4?t[3]:1),i===0){const n=rr(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const n=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let a=0;a<t;a++){const l=o+a*s,u=a%2===0?i:n;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Qo,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const rM=SC;class EC extends rM{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new EC({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const $h=EC;class xC{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new xC({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const wr=xC;class RC{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new RC({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const qn=RC;class Gs{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=nS,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Gs({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=nS,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function jF(r){let e;if(typeof r=="function")e=r;else{let t;Array.isArray(r)?t=r:(Et(typeof r.getZIndex=="function",41),t=[r]),e=function(){return t}}return e}let Sm=null;function $F(r,e){if(!Sm){const t=new wr({color:"rgba(255,255,255,0.4)"}),i=new qn({color:"#3399CC",width:1.25});Sm=[new Gs({image:new $h({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return Sm}function oM(){const r={},e=[255,255,255,1],t=[0,153,255,1],i=3;return r.Polygon=[new Gs({fill:new wr({color:[255,255,255,.5]})})],r.MultiPolygon=r.Polygon,r.LineString=[new Gs({stroke:new qn({color:e,width:i+2})}),new Gs({stroke:new qn({color:t,width:i})})],r.MultiLineString=r.LineString,r.Circle=r.Polygon.concat(r.LineString),r.Point=[new Gs({image:new $h({radius:i*2,fill:new wr({color:t}),stroke:new qn({color:e,width:i/2})}),zIndex:1/0})],r.MultiPoint=r.Point,r.GeometryCollection=r.Polygon.concat(r.LineString,r.Point),r}function nS(r){return r.getGeometry()}const Br=Gs;let fc=null;class YF extends ug{constructor(e,t,i,n,o,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=o,this.size_=i,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Fi.LOADED){fc||(fc=rr(1,1)),fc.drawImage(this.image_,0,0);try{fc.getImageData(0,0,1,1),this.tainted_=!1}catch{fc=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(ut.CHANGE)}handleImageError_(){this.imageState_=Fi.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Fi.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=rr(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Fi.IDLE){this.image_||this.initializeImage_(),this.imageState_=Fi.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Fb(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Fi.LOADED)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const n=i.getContext("2d");n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle=ZR(this.color_),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function KF(r,e,t,i,n,o){let s=rf.get(e,i,o);return s||(s=new YF(r,e,t,i,n,o),rf.set(e,i,o,s)),s}class bC extends nM{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,n=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:n,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const s=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let a=e.src;Et(!(a!==void 0&&s),4),Et(!s||s&&this.imgSize_,5),(a===void 0||a.length===0)&&s&&(a=s.src||Tt(s)),Et(a!==void 0&&a.length>0,6);const l=e.src!==void 0?Fi.IDLE:Fi.LOADED;this.color_=e.color!==void 0?nf(e.color):null,this.iconImage_=KF(s,a,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null}clone(){const e=this.getScale();return new bC({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const n=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!n)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=n[0]),this.anchorYUnits_=="fraction"&&(e[1]*=n[1])}if(this.anchorOrigin_!="top-left"){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+n[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+n[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}listenImageChange(e){this.iconImage_.addEventListener(ut.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(ut.CHANGE,e)}}const Rg=bC,XF="#333";class MC{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=En(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new wr({color:XF}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new MC({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=En(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const qF=MC;function rS(r){return new Br({fill:Th(r,""),stroke:Ph(r,""),text:ZF(r),image:JF(r)})}function Th(r,e){const t=r[e+"fill-color"];if(!!t)return new wr({color:t})}function Ph(r,e){const t=r[e+"stroke-width"],i=r[e+"stroke-color"];if(!(!t&&!i))return new qn({width:t,color:i,lineCap:r[e+"stroke-line-cap"],lineJoin:r[e+"stroke-line-join"],lineDash:r[e+"stroke-line-dash"],lineDashOffset:r[e+"stroke-line-dash-offset"],miterLimit:r[e+"stroke-miter-limit"]})}function ZF(r){const e=r["text-value"];return e?new qF({text:e,font:r["text-font"],maxAngle:r["text-max-angle"],offsetX:r["text-offset-x"],offsetY:r["text-offset-y"],overflow:r["text-overflow"],placement:r["text-placement"],scale:r["text-scale"],rotateWithView:r["text-rotate-with-view"],rotation:r["text-rotation"],textAlign:r["text-align"],justify:r["text-justify"],textBaseline:r["text-baseline"],padding:r["text-padding"],fill:Th(r,"text-"),backgroundFill:Th(r,"text-background-"),stroke:Ph(r,"text-"),backgroundStroke:Ph(r,"text-background-")}):void 0}function JF(r){const e=r["icon-src"],t=r["icon-img"];if(e||t)return new Rg({src:e,img:t,imgSize:r["icon-img-size"],anchor:r["icon-anchor"],anchorOrigin:r["icon-anchor-origin"],anchorXUnits:r["icon-anchor-x-units"],anchorYUnits:r["icon-anchor-y-units"],color:r["icon-color"],crossOrigin:r["icon-cross-origin"],offset:r["icon-offset"],displacement:r["icon-displacement"],opacity:r["icon-opacity"],scale:r["icon-scale"],rotation:r["icon-rotation"],rotateWithView:r["icon-rotate-with-view"],size:r["icon-size"],declutterMode:r["icon-declutter-mode"]});const i=r["shape-points"];if(i){const o="shape-";return new rM({points:i,fill:Th(r,o),stroke:Ph(r,o),radius:r["shape-radius"],radius1:r["shape-radius1"],radius2:r["shape-radius2"],angle:r["shape-angle"],displacement:r["shape-displacement"],rotation:r["shape-rotation"],rotateWithView:r["shape-rotate-with-view"],scale:r["shape-scale"],declutterMode:r["shape-declutter-mode"]})}const n=r["circle-radius"];if(n){const o="circle-";return new $h({radius:n,fill:Th(r,o),stroke:Ph(r,o),displacement:r["circle-displacement"],scale:r["circle-scale"],rotation:r["circle-rotation"],rotateWithView:r["circle-rotate-with-view"],declutterMode:r["circle-declutter-mode"]})}}const oS={RENDER_ORDER:"renderOrder"};class QF extends mg{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(oS.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new iM(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(oS.RENDER_ORDER,e)}setStyle(e){let t;if(e===void 0)t=$F;else if(e===null)t=null;else if(typeof e=="function")t=e;else if(e instanceof Br)t=e;else if(Array.isArray(e)){const i=e.length,n=new Array(i);for(let o=0;o<i;++o){const s=e[o];s instanceof Br?n[o]=s:n[o]=rS(s)}t=n}else t=rS(e);this.style_=t,this.styleFunction_=e===null?void 0:jF(this.style_),this.changed()}}const eN=QF,Yh={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Id=[Yh.FILL],Hs=[Yh.STROKE],Na=[Yh.BEGIN_PATH],sS=[Yh.CLOSE_PATH],Je=Yh;class tN{drawCustom(e,t,i,n){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const sM=tN;class iN extends sM{constructor(e,t,i,n){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,o=this.coordinates;let s=o.length;for(let a=0,l=e.length;a<l;a+=t)n[0]=e[a],n[1]=e[a+1],dg(i,n)&&(o[s++]=n[0],o[s++]=n[1]);return s}appendFlatLineCoordinates(e,t,i,n,o,s){const a=this.coordinates;let l=a.length;const u=this.getBufferedMaxExtent();s&&(t+=n);let c=e[t],h=e[t+1];const d=this.tmpCoordinate_;let p=!0,f,m,g;for(f=t+n;f<i;f+=n)d[0]=e[f],d[1]=e[f+1],g=uy(u,d),g!==m?(p&&(a[l++]=c,a[l++]=h,p=!1),a[l++]=d[0],a[l++]=d[1]):g===Vi.INTERSECTING?(a[l++]=d[0],a[l++]=d[1],p=!1):p=!0,c=d[0],h=d[1],m=g;return(o&&p||f===t+n)&&(a[l++]=c,a[l++]=h),l}drawCustomCoordinates_(e,t,i,n,o){for(let s=0,a=i.length;s<a;++s){const l=i[s],u=this.appendFlatLineCoordinates(e,t,l,n,!1,!1);o.push(u),t=l}return t}drawCustom(e,t,i,n){this.beginGeometry(e,t);const o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,u,c,h,d;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),h=[];const p=e.getEndss();d=0;for(let f=0,m=p.length;f<m;++f){const g=[];d=this.drawCustomCoordinates_(l,d,p[f],s,g),h.push(g)}this.instructions.push([Je.CUSTOM,a,h,e,i,Cy]),this.hitDetectionInstructions.push([Je.CUSTOM,a,h,e,n||i,Cy]);break;case"Polygon":case"MultiLineString":c=[],l=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,c),this.instructions.push([Je.CUSTOM,a,c,e,i,Rh]),this.hitDetectionInstructions.push([Je.CUSTOM,a,c,e,n||i,Rh]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([Je.CUSTOM,a,u,e,i,Ns]),this.hitDetectionInstructions.push([Je.CUSTOM,a,u,e,n||i,Ns]);break;case"MultiPoint":l=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(l,s),u>a&&(this.instructions.push([Je.CUSTOM,a,u,e,i,Ns]),this.hitDetectionInstructions.push([Je.CUSTOM,a,u,e,n||i,Ns]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),u=this.coordinates.length,this.instructions.push([Je.CUSTOM,a,u,e,i]),this.hitDetectionInstructions.push([Je.CUSTOM,a,u,e,n||i]);break}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[Je.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Je.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let n,o,s=-1;for(t=0;t<i;++t)n=e[t],o=n[0],o==Je.END_GEOMETRY?s=t:o==Je.BEGIN_GEOMETRY&&(n[2]=t,ID(this.hitDetectionInstructions,s,t),s=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const n=e.getColor();i.fillStyle=go(n||Qo)}else i.fillStyle=void 0;if(t){const n=t.getColor();i.strokeStyle=go(n||Ch);const o=t.getLineCap();i.lineCap=o!==void 0?o:af;const s=t.getLineDash();i.lineDash=s?s.slice():vh;const a=t.getLineDashOffset();i.lineDashOffset=a||yh;const l=t.getLineJoin();i.lineJoin=l!==void 0?l:bu;const u=t.getWidth();i.lineWidth=u!==void 0?u:Sh;const c=t.getMiterLimit();i.miterLimit=c!==void 0?c:_h,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[Je.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Je.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,n=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=n||o!=e.currentLineDash&&!ul(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=n,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Je.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=$R(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;gh(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const Kh=iN;class nN extends Kh{constructor(e,t,i,n){super(e,t,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,n);this.instructions.push([Je.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),n=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,n);this.instructions.push([Je.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),n=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const rN=nN;class oN extends Kh{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinates_(e,t,i,n){const o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,n,!1,!1),a=[Je.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t){const i=this.state,n=i.strokeStyle,o=i.lineWidth;if(n===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,vh,yh],Na);const s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(Hs),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,n=i.strokeStyle,o=i.lineWidth;if(n===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Na);const s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let u=0;for(let c=0,h=s.length;c<h;++c)u=this.drawFlatCoordinates_(a,u,s[c],l);this.hitDetectionInstructions.push(Hs),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Hs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Hs),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Na)}}const sN=oN;class aN extends Kh{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinatess_(e,t,i,n){const o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=i.length;this.instructions.push(Na),this.hitDetectionInstructions.push(Na);for(let u=0;u<l;++u){const c=i[u],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,c,n,!0,!a),p=[Je.MOVE_TO_LINE_TO,h,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(sS),this.hitDetectionInstructions.push(sS)),t=c}return s&&(this.instructions.push(Id),this.hitDetectionInstructions.push(Id)),a&&(this.instructions.push(Hs),this.hitDetectionInstructions.push(Hs)),t}drawCircle(e,t){const i=this.state,n=i.fillStyle,o=i.strokeStyle;if(n===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,Qo]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const s=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const u=[Je.CIRCLE,l];this.instructions.push(Na,u),this.hitDetectionInstructions.push(Na,u),i.fillStyle!==void 0&&(this.instructions.push(Id),this.hitDetectionInstructions.push(Id)),i.strokeStyle!==void 0&&(this.instructions.push(Hs),this.hitDetectionInstructions.push(Hs)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,n=i.fillStyle,o=i.strokeStyle;if(n===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,Qo]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const s=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,n=i.fillStyle,o=i.strokeStyle;if(n===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,Qo]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let u=0;for(let c=0,h=s.length;c<h;++c)u=this.drawFlatCoordinatess_(a,u,s[c],l);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,n=t.length;i<n;++i)t[i]=ba(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}const aS=aN;function lN(r,e,t,i,n){let o=t,s=t,a=0,l=0,u=t,c,h,d,p,f,m,g,y,C,w;for(h=t;h<i;h+=n){const S=e[h],b=e[h+1];f!==void 0&&(C=S-f,w=b-m,p=Math.sqrt(C*C+w*w),g!==void 0&&(l+=d,c=Math.acos((g*C+y*w)/(d*p)),c>r&&(l>a&&(a=l,o=u,s=h),l=0,u=h-n)),d=p,g=C,y=w),f=S,m=b}return l+=p,l>a?[u,h]:[o,s]}const nh={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class uN extends Kh{constructor(e,t,i,n){super(e,t,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,n=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!i&&!n)return;const s=this.coordinates;let a=s.length;const l=e.getType();let u=null,c=e.getStride();if(o.placement==="line"&&(l=="LineString"||l=="MultiLineString"||l=="Polygon"||l=="MultiPolygon")){if(!Sn(this.getBufferedMaxExtent(),e.getExtent()))return;let h;if(u=e.getFlatCoordinates(),l=="LineString")h=[u.length];else if(l=="MultiLineString")h=e.getEnds();else if(l=="Polygon")h=e.getEnds().slice(0,1);else if(l=="MultiPolygon"){const m=e.getEndss();h=[];for(let g=0,y=m.length;g<y;++g)h.push(m[g][0])}this.beginGeometry(e,t);const d=o.textAlign;let p=0,f;for(let m=0,g=h.length;m<g;++m){if(d==null){const C=lN(o.maxAngle,u,p,h[m],c);p=C[0],f=C[1]}else f=h[m];for(let C=p;C<f;C+=c)s.push(u[C],u[C+1]);const y=s.length;p=h[m],this.drawChars_(a,y),a=y}this.endGeometry(t)}else{let h=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),c=2;break;case"Polygon":u=e.getFlatInteriorPoint(),o.overflow||h.push(u[2]/this.resolution),c=3;break;case"MultiPolygon":const g=e.getFlatInteriorPoints();u=[];for(let y=0,C=g.length;y<C;y+=3)o.overflow||h.push(g[y+2]/this.resolution),u.push(g[y],g[y+1]);if(u.length===0)return;c=2;break}const d=this.appendFlatPointCoordinates(u,c);if(d===a)return;if(h&&(d-a)/2!==u.length/c){let g=a/2;h=h.filter((y,C)=>{const w=s[(g+C)*2]===u[C*c]&&s[(g+C)*2+1]===u[C*c+1];return w||--g,w})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let p=o.padding;if(p!=Ia&&(o.scale[0]<0||o.scale[1]<0)){let g=o.padding[0],y=o.padding[1],C=o.padding[2],w=o.padding[3];o.scale[0]<0&&(y=-y,w=-w),o.scale[1]<0&&(g=-g,C=-C),p=[g,y,C,w]}const f=this.pixelRatio;this.instructions.push([Je.DRAW_IMAGE,a,d,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==Ia?Ia:p.map(function(g){return g*f}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);const m=1/f;this.hitDetectionInstructions.push([Je.DRAW_IMAGE,a,d,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,void 0,this.declutterImageWithText_,p,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||wh,justify:t.justify,textBaseline:t.textBaseline||lf,scale:t.scale});const s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,n=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=nh[n.textBaseline],c=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Je.DRAW_CHARS,e,t,u,n.overflow,a,n.maxAngle,l,c,o,d*l,h,s,1]),this.hitDetectionInstructions.push([Je.DRAW_CHARS,e,t,u,n.overflow,a,n.maxAngle,1,c,o,d,h,s,1/l])}setTextStyle(e,t){let i,n,o;if(!e)this.text_="";else{const s=e.getFill();s?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=go(s.getColor()||Qo)):(n=null,this.textFillState_=n);const a=e.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const f=a.getLineDash(),m=a.getLineDashOffset(),g=a.getWidth(),y=a.getMiterLimit();o.lineCap=a.getLineCap()||af,o.lineDash=f?f.slice():vh,o.lineDashOffset=m===void 0?yh:m,o.lineJoin=a.getLineJoin()||bu,o.lineWidth=g===void 0?Sh:g,o.miterLimit=y===void 0?_h:y,o.strokeStyle=go(a.getColor()||Ch)}i=this.textState_;const l=e.getFont()||ab;TI(l);const u=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||lf,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ia,i.scale=u===void 0?[1,1]:u;const c=e.getOffsetX(),h=e.getOffsetY(),d=e.getRotateWithView(),p=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=d===void 0?!1:d,this.textRotation_=p===void 0?0:p,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Tt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?typeof n.fillStyle=="string"?n.fillStyle:"|"+Tt(n.fillStyle):""}this.declutterImageWithText_=t}}const cN={Circle:aS,Default:Kh,Image:rN,LineString:sN,Polygon:aS,Text:uN};class hN{constructor(e,t,i,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const n in i){const o=i[n].finish();e[t][n]=o}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let n=this.buildersByZIndex_[i];n===void 0&&(n={},this.buildersByZIndex_[i]=n);let o=n[t];if(o===void 0){const s=cN[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=o}return o}}const lS=hN;function dN(r,e,t,i,n,o,s,a,l,u,c,h){let d=r[e],p=r[e+1],f=0,m=0,g=0,y=0;function C(){f=d,m=p,e+=i,d=r[e],p=r[e+1],y+=g,g=Math.sqrt((d-f)*(d-f)+(p-m)*(p-m))}do C();while(e<t-i&&y+g<o);let w=g===0?0:(o-y)/g;const S=$o(f,d,w),b=$o(m,p,w),T=e-i,F=y,R=o+a*l(u,n,c);for(;e<t-i&&y+g<R;)C();w=g===0?0:(R-y)/g;const P=$o(f,d,w),G=$o(m,p,w);let q;if(h){const Z=[S,b,P,G];tC(Z,0,4,2,h,Z,Z),q=Z[0]>Z[2]}else q=S>P;const te=Math.PI,j=[],Y=T+i===e;e=T,g=0,y=F,d=r[e],p=r[e+1];let U;if(Y){C(),U=Math.atan2(p-m,d-f),q&&(U+=U>0?-te:te);const Z=(P+S)/2,J=(G+b)/2;return j[0]=[Z,J,(R-o)/2,U,n],j}n=n.replace(/\n/g," ");for(let Z=0,J=n.length;Z<J;){C();let ie=Math.atan2(p-m,d-f);if(q&&(ie+=ie>0?-te:te),U!==void 0){let Ce=ie-U;if(Ce+=Ce>te?-2*te:Ce<-te?2*te:0,Math.abs(Ce)>s)return null}U=ie;const K=Z;let H=0;for(;Z<J;++Z){const Ce=q?J-Z-1:Z,W=a*l(u,n[Ce],c);if(e+i<t&&y+g<o+H+W/2)break;H+=W}if(Z===K)continue;const ge=q?n.substring(J-K,J-Z):n.substring(K,Z);w=g===0?0:(o+H/2-y)/g;const V=$o(f,d,w),ye=$o(m,p,w);j.push([V,ye,H/2,ie,ge]),o+=H}return j}const bl=nr(),hs=[],Ao=[],Do=[],ds=[];function uS(r){return r[3].declutterBox}const pN=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function cS(r,e){return(e==="start"||e==="end")&&!pN.test(r)&&(e=e==="start"?"left":"right"),nh[e]}function fN(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}class gN{constructor(e,t,i,n){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=vo(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,n){const o=e+t+i+n;if(this.labels_[o])return this.labels_[o];const s=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],u=this.pixelRatio,c=[l.scale[0]*u,l.scale[1]*u],h=Array.isArray(e),d=l.justify?nh[l.justify]:cS(Array.isArray(e)?e[0]:e,l.textAlign||wh),p=n&&s.lineWidth?s.lineWidth:0,f=h?e:e.split(`
`).reduce(fN,[]),{width:m,height:g,widths:y,heights:C,lineWidths:w}=OI(l,f),S=m+p,b=[],T=(S+2)*c[0],F=(g+p)*c[1],R={width:T<0?Math.floor(T):Math.ceil(T),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:b};(c[0]!=1||c[1]!=1)&&b.push("scale",c),n&&(b.push("strokeStyle",s.strokeStyle),b.push("lineWidth",p),b.push("lineCap",s.lineCap),b.push("lineJoin",s.lineJoin),b.push("miterLimit",s.miterLimit),b.push("setLineDash",[s.lineDash]),b.push("lineDashOffset",s.lineDashOffset)),i&&b.push("fillStyle",a.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");const P=.5-d;let G=d*S+P*p;const q=[],te=[];let j=0,Y=0,U=0,Z=0,J;for(let ie=0,K=f.length;ie<K;ie+=2){const H=f[ie];if(H===`
`){Y+=j,j=0,G=d*S+P*p,++Z;continue}const ge=f[ie+1]||l.font;ge!==J&&(n&&q.push("font",ge),i&&te.push("font",ge),J=ge),j=Math.max(j,C[U]);const V=[H,G+P*y[U]+d*(y[U]-w[Z]),.5*(p+j)+Y];G+=y[U],n&&q.push("strokeText",V),i&&te.push("fillText",V),++U}return Array.prototype.push.apply(b,q),Array.prototype.push.apply(b,te),this.labels_[o]=R,R}replayTextBackground_(e,t,i,n,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,n,o,s,a,l,u,c,h,d,p,f,m,g){a*=d[0],l*=d[1];let y=i-a,C=n-l;const w=o+u>e?e-u:o,S=s+c>t?t-c:s,b=f[3]+w*d[0]+f[1],T=f[0]+S*d[1]+f[2],F=y-f[3],R=C-f[0];(m||h!==0)&&(hs[0]=F,ds[0]=F,hs[1]=R,Ao[1]=R,Ao[0]=F+b,Do[0]=Ao[0],Do[1]=R+T,ds[1]=Do[1]);let P;return h!==0?(P=ea(vo(),i,n,1,1,h,-i,-n),Bi(P,hs),Bi(P,Ao),Bi(P,Do),Bi(P,ds),Xr(Math.min(hs[0],Ao[0],Do[0],ds[0]),Math.min(hs[1],Ao[1],Do[1],ds[1]),Math.max(hs[0],Ao[0],Do[0],ds[0]),Math.max(hs[1],Ao[1],Do[1],ds[1]),bl)):Xr(Math.min(F,F+b),Math.min(R,R+T),Math.max(F,F+b),Math.max(R,R+T),bl),p&&(y=Math.round(y),C=Math.round(C)),{drawImageX:y,drawImageY:C,drawImageW:w,drawImageH:S,originX:u,originY:c,declutterBox:{minX:bl[0],minY:bl[1],maxX:bl[2],maxY:bl[3],value:g},canvasTransform:P,scale:d}}replayImageOrLabel_(e,t,i,n,o,s,a){const l=!!(s||a),u=n.declutterBox,c=e.canvas,h=a?a[2]*n.scale[0]/2:0;return u.minX-h<=c.width/t&&u.maxX+h>=0&&u.minY-h<=c.height/t&&u.maxY+h>=0&&(l&&this.replayTextBackground_(e,hs,Ao,Do,ds,s,a),AI(e,n.canvasTransform,o,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(e){if(this.alignFill_){const t=Bi(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,n){const o=this.textStates[t],s=this.createLabel(e,t,n,i),a=this.strokeStates[i],l=this.pixelRatio,u=cS(Array.isArray(e)?e[0]:e,o.textAlign||wh),c=nh[o.textBaseline||lf],h=a&&a.lineWidth?a.lineWidth:0,d=s.width/l-2*o.scale[0],p=u*d+2*(.5-u)*h,f=c*s.height/l+2*(.5-c)*h;return{label:s,anchorX:p,anchorY:f}}execute_(e,t,i,n,o,s,a,l){let u;this.pixelCoordinates_&&ul(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=za(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),KD(this.renderedTransform_,i));let c=0;const h=n.length;let d=0,p,f,m,g,y,C,w,S,b,T,F,R,P=0,G=0,q=null,te=null;const j=this.coordinateCache_,Y=this.viewRotation_,U=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,Z={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Y},J=this.instructions!=n||this.overlaps?0:200;let ie,K,H,ge;for(;c<h;){const V=n[c];switch(V[0]){case Je.BEGIN_GEOMETRY:ie=V[1],ge=V[3],ie.getGeometry()?a!==void 0&&!Sn(a,ge.getExtent())?c=V[2]+1:++c:c=V[2];break;case Je.BEGIN_PATH:P>J&&(this.fill_(e),P=0),G>J&&(e.stroke(),G=0),!P&&!G&&(e.beginPath(),g=NaN,y=NaN),++c;break;case Je.CIRCLE:d=V[1];const Ce=u[d],W=u[d+1],ce=u[d+2],it=u[d+3],Ne=ce-Ce,$e=it-W,xe=Math.sqrt(Ne*Ne+$e*$e);e.moveTo(Ce+xe,W),e.arc(Ce,W,xe,0,2*Math.PI,!0),++c;break;case Je.CLOSE_PATH:e.closePath(),++c;break;case Je.CUSTOM:d=V[1],p=V[2];const yt=V[3],nt=V[4],Ke=V.length==6?V[5]:void 0;Z.geometry=yt,Z.feature=ie,c in j||(j[c]=[]);const $t=j[c];Ke?Ke(u,d,p,2,$t):($t[0]=u[d],$t[1]=u[d+1],$t.length=2),nt($t,Z),++c;break;case Je.DRAW_IMAGE:d=V[1],p=V[2],S=V[3],f=V[4],m=V[5];let ii=V[6];const Yt=V[7],Si=V[8],Zt=V[9],Qe=V[10];let gi=V[11];const Kt=V[12];let I=V[13];const O=V[14],oe=V[15];if(!S&&V.length>=20){b=V[19],T=V[20],F=V[21],R=V[22];const ht=this.drawLabelWithPointPlacement_(b,T,F,R);S=ht.label,V[3]=S;const ri=V[23];f=(ht.anchorX-ri)*this.pixelRatio,V[4]=f;const Ft=V[24];m=(ht.anchorY-Ft)*this.pixelRatio,V[5]=m,ii=S.height,V[6]=ii,I=S.width,V[13]=I}let _e;V.length>25&&(_e=V[25]);let Ee,Me,Ye;V.length>17?(Ee=V[16],Me=V[17],Ye=V[18]):(Ee=Ia,Me=!1,Ye=!1),Qe&&U?gi+=Y:!Qe&&!U&&(gi-=Y);let be=0;for(;d<p;d+=2){if(_e&&_e[be++]<I/this.pixelRatio)continue;const ht=this.calculateImageOrLabelDimensions_(S.width,S.height,u[d],u[d+1],I,ii,f,m,Si,Zt,gi,Kt,o,Ee,Me||Ye,ie),ri=[e,t,S,ht,Yt,Me?q:null,Ye?te:null];if(l){if(O==="none")continue;if(O==="obstacle"){l.insert(ht.declutterBox);continue}else{let Ft,_t;if(oe){const Jt=p-d;if(!oe[Jt]){oe[Jt]=ri;continue}if(Ft=oe[Jt],delete oe[Jt],_t=uS(Ft),l.collides(_t))continue}if(l.collides(ht.declutterBox))continue;Ft&&(l.insert(_t),this.replayImageOrLabel_.apply(this,Ft)),l.insert(ht.declutterBox)}}this.replayImageOrLabel_.apply(this,ri)}++c;break;case Je.DRAW_CHARS:const le=V[1],Ae=V[2],ze=V[3],We=V[4];R=V[5];const je=V[6],Ve=V[7],xt=V[8];F=V[9];const Lt=V[10];b=V[11],T=V[12];const ni=[V[13],V[13]],B=this.textStates[T],ae=B.font,ve=[B.scale[0]*Ve,B.scale[1]*Ve];let Te;ae in this.widths_?Te=this.widths_[ae]:(Te={},this.widths_[ae]=Te);const ke=eM(u,le,Ae,2),rt=Math.abs(ve[0])*L0(ae,b,Te);if(We||rt<=ke){const ht=this.textStates[T].textAlign,ri=(ke-rt)*nh[ht],Ft=dN(u,le,Ae,2,b,ri,je,Math.abs(ve[0]),L0,ae,Te,U?0:this.viewRotation_);e:if(Ft){const _t=[];let Jt,Pi,ft,Xt,hi;if(F)for(Jt=0,Pi=Ft.length;Jt<Pi;++Jt){hi=Ft[Jt],ft=hi[4],Xt=this.createLabel(ft,T,"",F),f=hi[2]+(ve[0]<0?-Lt:Lt),m=ze*Xt.height+(.5-ze)*2*Lt*ve[1]/ve[0]-xt;const Di=this.calculateImageOrLabelDimensions_(Xt.width,Xt.height,hi[0],hi[1],Xt.width,Xt.height,f,m,0,0,hi[3],ni,!1,Ia,!1,ie);if(l&&l.collides(Di.declutterBox))break e;_t.push([e,t,Xt,Di,1,null,null])}if(R)for(Jt=0,Pi=Ft.length;Jt<Pi;++Jt){hi=Ft[Jt],ft=hi[4],Xt=this.createLabel(ft,T,R,""),f=hi[2],m=ze*Xt.height-xt;const Di=this.calculateImageOrLabelDimensions_(Xt.width,Xt.height,hi[0],hi[1],Xt.width,Xt.height,f,m,0,0,hi[3],ni,!1,Ia,!1,ie);if(l&&l.collides(Di.declutterBox))break e;_t.push([e,t,Xt,Di,1,null,null])}l&&l.load(_t.map(uS));for(let Di=0,D=_t.length;Di<D;++Di)this.replayImageOrLabel_.apply(this,_t[Di])}}++c;break;case Je.END_GEOMETRY:if(s!==void 0){ie=V[1];const ht=s(ie,ge);if(ht)return ht}++c;break;case Je.FILL:J?P++:this.fill_(e),++c;break;case Je.MOVE_TO_LINE_TO:for(d=V[1],p=V[2],K=u[d],H=u[d+1],C=K+.5|0,w=H+.5|0,(C!==g||w!==y)&&(e.moveTo(K,H),g=C,y=w),d+=2;d<p;d+=2)K=u[d],H=u[d+1],C=K+.5|0,w=H+.5|0,(d==p-2||C!==g||w!==y)&&(e.lineTo(K,H),g=C,y=w);++c;break;case Je.SET_FILL_STYLE:q=V,this.alignFill_=V[2],P&&(this.fill_(e),P=0,G&&(e.stroke(),G=0)),e.fillStyle=V[1],++c;break;case Je.SET_STROKE_STYLE:te=V,G&&(e.stroke(),G=0),this.setStrokeStyle_(e,V),++c;break;case Je.STROKE:J?G++:e.stroke(),++c;break;default:++c;break}}P&&this.fill_(e),G&&e.stroke()}execute(e,t,i,n,o,s){this.viewRotation_=n,this.execute_(e,t,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,i,n,o){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,o)}}const mN=gN,Em=["Polygon","Circle","LineString","Image","Text","Default"];class vN{constructor(e,t,i,n,o,s){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=vo(),this.createExecutors_(o)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];i===void 0&&(i={},this.executorsByZIndex_[t]=i);const n=e[t];for(const o in n){const s=n[o];i[o]=new mN(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let n=0,o=e.length;n<o;++n)if(e[n]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,n,o,s){n=Math.round(n);const a=n*2+1,l=ea(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-i,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=rr(a,a));const c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=nr(),th(h,e),gh(h,t*(this.renderBuffer_+n),h));const d=yN(n);let p;function f(b,T){const F=c.getImageData(0,0,a,a).data;for(let R=0,P=d.length;R<P;R++)if(F[d[R]]>0){if(!s||p!=="Image"&&p!=="Text"||s.includes(b)){const G=(d[R]-3)/4,q=n-G%a,te=n-(G/a|0),j=o(b,T,q*q+te*te);if(j)return j}c.clearRect(0,0,a,a);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(Za);let g,y,C,w,S;for(g=m.length-1;g>=0;--g){const b=m[g].toString();for(C=this.executorsByZIndex_[b],y=Em.length-1;y>=0;--y)if(p=Em[y],w=C[p],w!==void 0&&(S=w.executeHitDetection(c,l,i,f,h),S))return S}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],n=t[1],o=t[2],s=t[3],a=[i,n,i,s,o,s,o,n];return za(a,0,8,2,e,a),a}isEmpty(){return Qa(this.executorsByZIndex_)}execute(e,t,i,n,o,s,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Za),this.maxExtent_&&(e.save(),this.clip(e,i)),s=s||Em;let u,c,h,d,p,f;for(a&&l.reverse(),u=0,c=l.length;u<c;++u){const m=l[u].toString();for(p=this.executorsByZIndex_[m],h=0,d=s.length;h<d;++h){const g=s[h];f=p[g],f!==void 0&&f.execute(e,t,i,n,o,a)}}this.maxExtent_&&e.restore()}}const xm={};function yN(r){if(xm[r]!==void 0)return xm[r];const e=r*2+1,t=r*r,i=new Array(t+1);for(let o=0;o<=r;++o)for(let s=0;s<=r;++s){const a=o*o+s*s;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((r+o)*e+(r+s))*4+3),o>0&&l.push(((r-o)*e+(r+s))*4+3),s>0&&(l.push(((r+o)*e+(r-s))*4+3),o>0&&l.push(((r-o)*e+(r-s))*4+3))}const n=[];for(let o=0,s=i.length;o<s;++o)i[o]&&n.push(...i[o]);return xm[r]=n,n}const hS=vN;class _N extends sM{constructor(e,t,i,n,o,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=n,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=vo()}drawImages_(e,t,i,n){if(!this.image_)return;const o=za(e,t,i,n,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(let c=0,h=o.length;c<h;c+=2){const d=o[c]-this.imageAnchorX_,p=o[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const f=d+this.imageAnchorX_,m=p+this.imageAnchorY_;ea(a,f,m,1,1,u,-f,-m),s.setTransform.apply(s,a),s.translate(f,m),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(e,t,i,n){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=za(e,t,i,n,this.transform_,this.pixelCoordinates_),s=this.context_;let a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=n){const l=o[t]+this.textOffsetX_,u=o[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.translate(l-this.textOffsetX_,u-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&s.strokeText(this.text_,l,u),this.textFillState_&&s.fillText(this.text_,l,u))}}moveToLineTo_(e,t,i,n,o){const s=this.context_,a=za(e,t,i,n,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let u=2;u<l;u+=2)s.lineTo(a[u],a[u+1]);return o&&s.closePath(),i}drawRings_(e,t,i,n){for(let o=0,s=i.length;o<s;++o)t=this.moveToLineTo_(e,t,i[o],n,!0);return t}drawCircle(e){if(!!Sn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=yL(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],n=t[3]-t[1],o=Math.sqrt(i*i+n*n),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);!i||!Sn(this.extent_,i.getExtent())||(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,n=t.length;i<n;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Sn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(!!Sn(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,n=e.getFlatCoordinates();let o=0;const s=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,u=s.length;l<u;++l)o=this.moveToLineTo_(n,o,s[l],a,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Sn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Sn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let n=0;const o=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,l=o.length;a<l;++a){const u=o[a];n=this.drawRings_(i,n,u,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),ul(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,n=e.textAlign?e.textAlign:wh;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=n&&(i.textAlign=n,t.textAlign=n),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:go(i||Qo)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),n=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),u=t.getMiterLimit(),c=o||vh;this.strokeState_={lineCap:n!==void 0?n:af,lineDash:this.pixelRatio_===1?c:c.map(h=>h*this.pixelRatio_),lineDashOffset:(s||yh)*this.pixelRatio_,lineJoin:a!==void 0?a:bu,lineWidth:(l!==void 0?l:Sh)*this.pixelRatio_,miterLimit:u!==void 0?u:_h,strokeStyle:go(i||Ch)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),n=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const p=t.getColor();this.textFillState_={fillStyle:go(p||Qo)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const p=i.getColor(),f=i.getLineCap(),m=i.getLineDash(),g=i.getLineDashOffset(),y=i.getLineJoin(),C=i.getWidth(),w=i.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:af,lineDash:m||vh,lineDashOffset:g||yh,lineJoin:y!==void 0?y:bu,lineWidth:C!==void 0?C:Sh,miterLimit:w!==void 0?w:_h,strokeStyle:go(p||Ch)}}const n=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),d=e.getTextBaseline();this.textState_={font:n!==void 0?n:ab,textAlign:h!==void 0?h:wh,textBaseline:d!==void 0?d:lf},this.text_=c!==void 0?Array.isArray(c)?c.reduce((p,f,m)=>p+=m%2?" ":f,""):c:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const CN=_N,po=.5;function wN(r,e,t,i,n,o,s){const a=r[0]*po,l=r[1]*po,u=rr(a,l);u.imageSmoothingEnabled=!1;const c=u.canvas,h=new CN(u,po,n,null,s),d=t.length,p=Math.floor((256*256*256-1)/d),f={};for(let g=1;g<=d;++g){const y=t[g-1],C=y.getStyleFunction()||i;if(!i)continue;let w=C(y,o);if(!w)continue;Array.isArray(w)||(w=[w]);const b="#"+("000000"+(g*p).toString(16)).slice(-6);for(let T=0,F=w.length;T<F;++T){const R=w[T],P=R.getGeometryFunction()(y);if(!P||!Sn(n,P.getExtent()))continue;const G=R.clone(),q=G.getFill();q&&q.setColor(b);const te=G.getStroke();te&&(te.setColor(b),te.setLineDash(null)),G.setText(void 0);const j=R.getImage();if(j&&j.getOpacity()!==0){const Z=j.getImageSize();if(!Z)continue;const J=rr(Z[0],Z[1],void 0,{alpha:!1}),ie=J.canvas;J.fillStyle=b,J.fillRect(0,0,ie.width,ie.height),G.setImage(new Rg({img:ie,imgSize:Z,anchor:j.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:j.getOrigin(),opacity:1,size:j.getSize(),scale:j.getScale(),rotation:j.getRotation(),rotateWithView:j.getRotateWithView()}))}const Y=G.getZIndex()||0;let U=f[Y];U||(U={},f[Y]=U,U.Polygon=[],U.Circle=[],U.LineString=[],U.Point=[]),U[P.getType().replace("Multi","")].push(P,G)}}const m=Object.keys(f).map(Number).sort(Za);for(let g=0,y=m.length;g<y;++g){const C=f[m[g]];for(const w in C){const S=C[w];for(let b=0,T=S.length;b<T;b+=2){h.setStyle(S[b+1]);for(let F=0,R=e.length;F<R;++F)h.setTransform(e[F]),h.drawGeometry(S[b])}}}return u.getImageData(0,0,c.width,c.height)}function SN(r,e,t){const i=[];if(t){const n=Math.floor(Math.round(r[0])*po),o=Math.floor(Math.round(r[1])*po),s=(Mi(n,0,t.width-1)+Mi(o,0,t.height-1)*t.width)*4,a=t.data[s],l=t.data[s+1],c=t.data[s+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);c&&c%h===0&&i.push(e[c/h-1])}return i}const EN=.5,aM={Point:DN,LineString:PN,Polygon:LN,MultiPoint:IN,MultiLineString:ON,MultiPolygon:AN,GeometryCollection:TN,Circle:bN};function xN(r,e){return parseInt(Tt(r),10)-parseInt(Tt(e),10)}function RN(r,e){const t=Ay(r,e);return t*t}function Ay(r,e){return EN*r/e}function bN(r,e,t,i,n){const o=t.getFill(),s=t.getStroke();if(o||s){const l=r.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(e,i)}const a=t.getText();if(a&&a.getText()){const l=(n||r).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function dS(r,e,t,i,n,o,s){let a=!1;const l=t.getImage();if(l){const u=l.getImageState();u==Fi.LOADED||u==Fi.ERROR?l.unlistenImageChange(n):(u==Fi.IDLE&&l.load(),l.listenImageChange(n),a=!0)}return MN(r,e,t,i,o,s),a}function MN(r,e,t,i,n,o){const s=t.getGeometryFunction()(e);if(!s)return;const a=s.simplifyTransformed(i,n);if(t.getRenderer())lM(r,a,t,e);else{const u=aM[a.getType()];u(r,a,t,e,o)}}function lM(r,e,t,i){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let s=0,a=o.length;s<a;++s)lM(r,o[s],t,i);return}r.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer())}function TN(r,e,t,i,n){const o=e.getGeometriesArray();let s,a;for(s=0,a=o.length;s<a;++s){const l=aM[o[s].getType()];l(r,o[s],t,i,n)}}function PN(r,e,t,i,n){const o=t.getStroke();if(o){const a=r.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,i)}const s=t.getText();if(s&&s.getText()){const a=(n||r).getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i)}}function ON(r,e,t,i,n){const o=t.getStroke();if(o){const a=r.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,i)}const s=t.getText();if(s&&s.getText()){const a=(n||r).getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i)}}function AN(r,e,t,i,n){const o=t.getFill(),s=t.getStroke();if(s||o){const l=r.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(e,i)}const a=t.getText();if(a&&a.getText()){const l=(n||r).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function DN(r,e,t,i,n){const o=t.getImage(),s=t.getText();let a;if(o){if(o.getImageState()!=Fi.LOADED)return;let l=r;if(n){const c=o.getDeclutterMode();if(c!=="none")if(l=n,c==="obstacle"){const h=r.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,a),h.drawPoint(e,i)}else s&&s.getText()&&(a={})}const u=l.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,a),u.drawPoint(e,i)}if(s&&s.getText()){let l=r;n&&(l=n);const u=l.getBuilder(t.getZIndex(),"Text");u.setTextStyle(s,a),u.drawText(e,i)}}function IN(r,e,t,i,n){const o=t.getImage(),s=t.getText();let a;if(o){if(o.getImageState()!=Fi.LOADED)return;let l=r;if(n){const c=o.getDeclutterMode();if(c!=="none")if(l=n,c==="obstacle"){const h=r.getBuilder(t.getZIndex(),"Image");h.setImageStyle(o,a),h.drawMultiPoint(e,i)}else s&&s.getText()&&(a={})}const u=l.getBuilder(t.getZIndex(),"Image");u.setImageStyle(o,a),u.drawMultiPoint(e,i)}if(s&&s.getText()){let l=r;n&&(l=n);const u=l.getBuilder(t.getZIndex(),"Text");u.setTextStyle(s,a),u.drawText(e,i)}}function LN(r,e,t,i,n){const o=t.getFill(),s=t.getStroke();if(o||s){const l=r.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(e,i)}const a=t.getText();if(a&&a.getText()){const l=(n||r).getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}class FN extends Xb{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=nr(),this.wrappedRenderedExtent_=nr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const n=t.extent,o=t.viewState,s=o.center,a=o.resolution,l=o.projection,u=o.rotation,c=l.getExtent(),h=this.getLayer().getSource(),d=t.pixelRatio,p=t.viewHints,f=!(p[un.ANIMATING]||p[un.INTERACTING]),m=this.compositionContext_,g=Math.round(t.size[0]*d),y=Math.round(t.size[1]*d),C=h.getWrapX()&&l.canWrapX(),w=C?si(c):null,S=C?Math.ceil((n[2]-c[2])/w)+1:1;let b=C?Math.floor((n[0]-c[0])/w):0;do{const T=this.getRenderTransform(s,a,u,d,g,y,b*w);e.execute(m,1,T,u,f,void 0,i)}while(++b<S)}setupCompositionContext_(){if(this.opacity_!==1){const e=rr(this.context.canvas.width,this.context.canvas.height,Q0);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,ob(this.compositionContext_),Q0.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];XD(this.pixelTransform,1/i,1/i),H_(this.inversePixelTransform,this.pixelTransform);const o=jR(this.pixelTransform);this.useContainer(t,o,this.getBackground(e));const s=this.context,a=s.canvas,l=this.replayGroup_,u=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!u||u.isEmpty()))return null;const c=Math.round(e.size[0]*i),h=Math.round(e.size[1]*i);a.width!=c||a.height!=h?(a.width=c,a.height=h,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||s.clearRect(0,0,c,h),this.preRender(s,e);const d=e.viewState;d.projection,this.opacity_=n.opacity,this.setupCompositionContext_();let p=!1,f=!0;if(n.extent&&this.clipping){const m=La(n.extent);f=Sn(m,e.extent),p=f&&!Fs(m,e.extent),p&&this.clipUnrotated(this.compositionContext_,e,m)}return f&&this.renderWorlds(l,e),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,e),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];Bi(this.pixelTransform,i);const n=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],h=i[0]*po,d=i[1]*po;c.push(this.getRenderTransform(n,o,s,po,h,d,0).slice());const p=u.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!Fs(f,l)){let m=l[0];const g=si(f);let y=0,C;for(;m<f[0];)--y,C=g*y,c.push(this.getRenderTransform(n,o,s,po,h,d,C).slice()),m+=g;for(y=0,m=l[2];m>f[2];)++y,C=g*y,c.push(this.getRenderTransform(n,o,s,po,h,d,C).slice()),m-=g}this.hitDetectionImageData_=wN(i,c,this.renderedFeatures_,u.getStyleFunction(),l,o,s)}t(SN(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}forEachFeatureAtCoordinate(e,t,i,n,o){if(!this.replayGroup_)return;const s=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),u={},c=function(p,f,m){const g=Tt(p),y=u[g];if(y){if(y!==!0&&m<y.distanceSq){if(m===0)return u[g]=!0,o.splice(o.lastIndexOf(y),1),n(p,l,f);y.geometry=f,y.distanceSq=m}}else{if(m===0)return u[g]=!0,n(p,l,f);o.push(u[g]={feature:p,layer:l,geometry:f,distanceSq:m,callback:n})}};let h;const d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some(p=>h=p.forEachFeatureAtCoordinate(e,s,a,i,c,p===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(f=>f.value):null)),h}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const n=e.viewHints[un.ANIMATING],o=e.viewHints[un.INTERACTING],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&n||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,c=u.projection,h=u.resolution,d=e.pixelRatio,p=t.getRevision(),f=t.getRenderBuffer();let m=t.getRenderOrder();m===void 0&&(m=xN);const g=u.center.slice(),y=gh(l,f*h),C=y.slice(),w=[y.slice()],S=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!Fs(S,e.extent)){const U=si(S),Z=Math.max(si(y)/2,U);y[0]=S[0]-Z,y[2]=S[2]+Z,ib(g,c);const J=qR(w[0],c);J[0]<S[0]&&J[2]<S[2]?w.push([J[0]+U,J[1],J[2]+U,J[3]]):J[0]>S[0]&&J[2]>S[2]&&w.push([J[0]-U,J[1],J[2]-U,J[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==m&&Fs(this.wrappedRenderedExtent_,y))return ul(this.renderedExtent_,C)||(this.hitDetectionImageData_=null,this.renderedExtent_=C),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const b=new lS(Ay(h,d),y,h,d);let T;this.getLayer().getDeclutter()&&(T=new lS(Ay(h,d),y,h,d));let F;for(let U=0,Z=w.length;U<Z;++U)i.loadFeatures(w[U],h,c);const R=RN(h,d);let P=!0;const G=function(U){let Z;const J=U.getStyleFunction()||t.getStyleFunction();if(J&&(Z=J(U,h)),Z){const ie=this.renderFeature(U,R,Z,b,F,T);P=P&&!ie}}.bind(this),q=fb(y),te=i.getFeaturesInExtent(q);m&&te.sort(m);for(let U=0,Z=te.length;U<Z;++U)G(te[U]);this.renderedFeatures_=te,this.ready=P;const j=b.finish(),Y=new hS(y,h,d,i.getOverlaps(),j,t.getRenderBuffer());return T&&(this.declutterExecutorGroup=new hS(y,h,d,i.getOverlaps(),T.finish(),t.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=m,this.renderedExtent_=C,this.wrappedRenderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=Y,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,n,o,s){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let l=0,u=i.length;l<u;++l)a=dS(n,e,i[l],t,this.boundHandleStyleImageChange_,o,s)||a;else a=dS(n,e,i,t,this.boundHandleStyleImageChange_,o,s);return a}}const NN=FN;class GN extends eN{constructor(e){super(e)}createRenderer(){return new NN(this)}}const ta=GN;class HN{constructor(e){this.rbush_=new iM(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Tt(t)]=i}load(e,t){const i=new Array(t.length);for(let n=0,o=t.length;n<o;n++){const s=e[n],a=t[n],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[n]=l,this.items_[Tt(a)]=l}this.rbush_.load(i)}remove(e){const t=Tt(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[Tt(t)],n=[i.minX,i.minY,i.maxX,i.maxY];mh(n,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let n=0,o=e.length;n<o;n++)if(i=t(e[n]),i)return i;return i}isEmpty(){return Qa(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Xr(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}const pS=HN,Pr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function WN(r,e){return[[-1/0,-1/0,1/0,1/0]]}function VN(r,e){return[r]}let kN=!1;function BN(r,e,t,i,n,o,s){const a=new XMLHttpRequest;a.open("GET",typeof r=="function"?r(t,i,n):r,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=kN,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const u=e.getType();let c;u=="json"||u=="text"?c=a.responseText:u=="xml"?(c=a.responseXML,c||(c=new DOMParser().parseFromString(a.responseText,"application/xml"))):u=="arraybuffer"&&(c=a.response),c?o(e.readFeatures(c,{extent:t,featureProjection:n}),e.readProjection(c)):s()}else s()},a.onerror=s,a.send()}function fS(r,e){return function(t,i,n,o,s){const a=this;BN(r,e,t,i,n,function(l,u){a.addFeatures(l),o!==void 0&&o(l)},s||Ja)}}class ps extends Zr{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class UN extends kb{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ja,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Et(this.format_,7),this.loader_=fS(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:WN;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new pS:null,this.loadedExtentsRtree_=new pS,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,n;Array.isArray(e.features)?n=e.features:e.features&&(i=e.features,n=i.getArray()),!t&&i===void 0&&(i=new kr(n)),n!==void 0&&this.addFeaturesInternal(n),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Tt(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new ps(Pr.ADDFEATURE,e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[Ot(t,ut.CHANGE,this.handleFeatureChange_,this),Ot(t,Ru.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let i=!0;const n=t.getId();return n!==void 0&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=t),i&&(Et(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],n=[];for(let o=0,s=e.length;o<s;o++){const a=e[o],l=Tt(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){const a=i[o],l=Tt(a);this.setupChangeEvents_(l,a);const u=a.getGeometry();if(u){const c=u.getExtent();t.push(c),n.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(Pr.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new ps(Pr.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Pr.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(Pr.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ui.ADD,function(i){t||(t=!0,this.addFeature(i.element),t=!1)}.bind(this)),e.addEventListener(Ui.REMOVE,function(i){t||(t=!0,this.removeFeature(i.element),t=!1)}.bind(this)),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(ti);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=function(n){this.removeFeatureInternal(n)}.bind(this);this.featuresRtree_.forEach(i);for(const n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new ps(Pr.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(n){if(n.getGeometry().intersectsCoordinate(e))return t(n)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Qa(this.nullGeometryFeatures_)||zr(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=rI(e,t);return[].concat(...n.map(o=>this.featuresRtree_.getInExtent(o)))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],n=e[1];let o=null;const s=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||Js,this.featuresRtree_.forEachInExtent(l,function(u){if(t(u)){const c=u.getGeometry(),h=a;if(a=c.closestPointXY(i,n,s,a),a<h){o=u;const d=Math.sqrt(a);l[0]=i-d,l[1]=n-d,l[2]=i+d,l[3]=n+d}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Tt(t),n=t.getGeometry();if(!n)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const s=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}const o=t.getId();if(o!==void 0){const s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new ps(Pr.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Tt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Qa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const n=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let s=0,a=o.length;s<a;++s){const l=o[s];n.forEachInExtent(l,function(c){return Fs(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ps(Pr.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,function(c){--this.loadingExtentsCount_,this.dispatchEvent(new ps(Pr.FEATURESLOADEND,void 0,c))}.bind(this),function(){--this.loadingExtentsCount_,this.dispatchEvent(new ps(Pr.FEATURESLOADERROR))}.bind(this)),n.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(n){if(mh(n.extent,e))return i=n,!0}),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=Tt(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Tt(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(ti),delete this.featureChangeKeys_[t];const n=e.getId();return n!==void 0&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new ps(Pr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){Et(this.format_,7),this.url_=e,this.setLoader(fS(e,this.format_))}}const ia=UN,zN={SELECT:"select"};class jN extends Zr{constructor(e,t,i,n){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=n}}const Ld={};class TC extends Xu{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:QL,this.addCondition_=e.addCondition?e.addCondition:Ry,this.removeCondition_=e.removeCondition?e.removeCondition:Ry,this.toggleCondition_=e.toggleCondition?e.toggleCondition:gC,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Js,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:$N(),this.features_=e.features||new kr;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const i=e.layers;t=function(n){return i.includes(n)}}else t=Js;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[Tt(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[Tt(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(Ui.ADD,this.boundAddFeature_),this.features_.addEventListener(Ui.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Ui.ADD,this.boundAddFeature_),this.features_.removeEventListener(Ui.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const i=this.getMap().getAllLayers().find(function(n){if(n instanceof ta&&n.getSource()&&n.getSource().hasFeature(t))return n});i&&this.addFeatureLayerAssociation_(t,i)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=Tt(e);t in Ld||(Ld[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let n=t.length-1;n>=0;--n){const o=t[n];if(o!==this&&o instanceof TC&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(o.getStyle());return}}const i=Tt(e);e.setStyle(Ld[i]),delete Ld[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[Tt(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),n=this.toggleCondition_(e),o=!t&&!i&&!n,s=e.map,a=this.getFeatures(),l=[],u=[];if(o){Yu(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(c,h){if(!(!(c instanceof yr)||!this.filter_(c,h)))return this.addFeatureLayerAssociation_(c,h),u.push(c),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let c=a.getLength()-1;c>=0;--c){const h=a.item(c),d=u.indexOf(h);d>-1?u.splice(d,1):(a.remove(h),l.push(h))}u.length!==0&&a.extend(u)}else{s.forEachFeatureAtPixel(e.pixel,function(c,h){if(!(!(c instanceof yr)||!this.filter_(c,h)))return(t||n)&&!a.getArray().includes(c)?(this.addFeatureLayerAssociation_(c,h),u.push(c)):(i||n)&&a.getArray().includes(c)&&(l.push(c),this.removeFeatureLayerAssociation_(c)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let c=l.length-1;c>=0;--c)a.remove(l[c]);a.extend(u)}return(u.length>0||l.length>0)&&this.dispatchEvent(new jN(zN.SELECT,u,l,e)),!0}}function $N(){const r=oM();return zr(r.Polygon,r.LineString),zr(r.GeometryCollection,r.LineString),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}}const YN=TC,KN={Point:JN,LineString:QN,Polygon:nG,MultiPoint:tG,MultiLineString:eG,MultiPolygon:iG},XN={Point:rG,LineString:oG,Polygon:sG,MultiPoint:lG,MultiLineString:aG,MultiPolygon:uG};class qN extends Jb{constructor(e){e=e||{},super(),this.geometryName_=e.geometryName}readFeatureFromObject(e,t,i){const n=e,o=gS(n.geometry,t),s=new yr;if(this.geometryName_&&s.setGeometryName(this.geometryName_),s.setGeometry(o),n.attributes){s.setProperties(n.attributes,!0);const a=n.attributes[i];a!==void 0&&s.setId(a)}return s}readFeaturesFromObject(e,t){if(t=t||{},e.features){const i=e,n=[],o=i.features;for(let s=0,a=o.length;s<a;++s)n.push(this.readFeatureFromObject(o[s],t,e.objectIdFieldName));return n}else return[this.readFeatureFromObject(e,t)]}readGeometryFromObject(e,t){return gS(e,t)}readProjectionFromObject(e){if(e.spatialReference&&e.spatialReference.wkid!==void 0){const i=e.spatialReference.wkid;return wi("EPSG:"+i)}else return null}writeGeometryObject(e,t){return mS(e,this.adaptOptions(t))}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={};if(!e.hasProperties())return i.attributes={},i;const n=e.getProperties(),o=e.getGeometry();if(o){i.geometry=mS(o,t);const s=t&&(t.dataProjection||t.featureProjection);s&&(i.geometry.spatialReference={wkid:Number(wi(s).getCode().split(":").pop())}),delete n[e.getGeometryName()]}return Qa(n)?i.attributes={}:i.attributes=n,i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let n=0,o=e.length;n<o;++n)i.push(this.writeFeatureObject(e[n],t));return{features:i}}}function gS(r,e){if(!r)return null;let t;if(typeof r.x=="number"&&typeof r.y=="number")t="Point";else if(r.points)t="MultiPoint";else if(r.paths)r.paths.length===1?t="LineString":t="MultiLineString";else if(r.rings){const n=r,o=Zu(n),s=ZN(n.rings,o);s.length===1?(t="Polygon",r=Object.assign({},r,{rings:s[0]})):(t="MultiPolygon",r=Object.assign({},r,{rings:s}))}const i=KN[t];return wg(i(r),!1,e)}function ZN(r,e){const t=[],i=[],n=[];let o,s;for(o=0,s=r.length;o<s;++o)t.length=0,jh(t,0,r[o],e.length),cC(t,0,t.length,e.length)?i.push([r[o]]):n.push(r[o]);for(;n.length;){const a=n.shift();let l=!1;for(o=i.length-1;o>=0;o--){const u=i[o][0];if(Fs(new ff(u).getExtent(),new ff(a).getExtent())){i[o].push(a),l=!0;break}}l||i.push([a.reverse()])}return i}function JN(r){let e;return r.m!==void 0&&r.z!==void 0?e=new xn([r.x,r.y,r.z,r.m],"XYZM"):r.z!==void 0?e=new xn([r.x,r.y,r.z],"XYZ"):r.m!==void 0?e=new xn([r.x,r.y,r.m],"XYM"):e=new xn([r.x,r.y]),e}function QN(r){const e=Zu(r);return new yo(r.paths[0],e)}function eG(r){const e=Zu(r);return new Sg(r.paths,e)}function Zu(r){let e="XY";return r.hasZ===!0&&r.hasM===!0?e="XYZM":r.hasZ===!0?e="XYZ":r.hasM===!0&&(e="XYM"),e}function tG(r){const e=Zu(r);return new Eg(r.points,e)}function iG(r){const e=Zu(r);return new xg(r.rings,e)}function nG(r){const e=Zu(r);return new rs(r.rings,e)}function rG(r,e){const t=r.getCoordinates();let i;const n=r.getLayout();return n==="XYZ"?i={x:t[0],y:t[1],z:t[2]}:n==="XYM"?i={x:t[0],y:t[1],m:t[2]}:n==="XYZM"?i={x:t[0],y:t[1],z:t[2],m:t[3]}:n==="XY"?i={x:t[0],y:t[1]}:Et(!1,34),i}function Xh(r){const e=r.getLayout();return{hasZ:e==="XYZ"||e==="XYZM",hasM:e==="XYM"||e==="XYZM"}}function oG(r,e){const t=Xh(r);return{hasZ:t.hasZ,hasM:t.hasM,paths:[r.getCoordinates()]}}function sG(r,e){const t=Xh(r);return{hasZ:t.hasZ,hasM:t.hasM,rings:r.getCoordinates(!1)}}function aG(r,e){const t=Xh(r);return{hasZ:t.hasZ,hasM:t.hasM,paths:r.getCoordinates()}}function lG(r,e){const t=Xh(r);return{hasZ:t.hasZ,hasM:t.hasM,points:r.getCoordinates()}}function uG(r,e){const t=Xh(r),i=r.getCoordinates(!1),n=[];for(let o=0;o<i.length;o++)for(let s=i[o].length-1;s>=0;s--)n.push(i[o][s]);return{hasZ:t.hasZ,hasM:t.hasM,rings:n}}function mS(r,e){const t=XN[r.getType()];return t(wg(r,!0,e),e)}const uM=qN,{accessToken:cG}=JSON.parse(sa(sessionStorage.getItem("userData"))),vn=xu.create({baseURL:"https://backend.observer.xyz",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${cG}`}}),cM=xu.create({baseURL:"https://geotune.observer.xyz",headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},params:{X_API_KEY:"Kemang_28_secret"},auth:{username:"admin",password:"Kemang_28"}});class bg extends aa{constructor(e,t,i){super(),i!==void 0&&t===void 0?this.setFlatCoordinates(i,e):(t=t||0,this.setCenterAndRadius(e,t,i))}clone(){const e=new bg(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const o=this.flatCoordinates,s=e-o[0],a=t-o[1],l=s*s+a*a;if(l<n){if(l===0)for(let u=0;u<this.stride;++u)i[u]=o[u];else{const u=this.getRadius()/Math.sqrt(l);i[0]=o[0]+u*s,i[1]=o[1]+u*a;for(let c=2;c<this.stride;++c)i[c]=o[c]}return i.length=this.stride,l}else return n}containsXY(e,t){const i=this.flatCoordinates,n=e-i[0],o=t-i[1];return n*n+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,i=t[this.stride]-t[0];return Xr(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(Sn(e,t)){const i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]?!0:V_(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+i;for(let o=1;o<t;++o)n[t+o]=e[o];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let o=yb(n,0,e,this.stride);n[o++]=n[0]+t;for(let s=1,a=this.stride;s<a;++s)n[o++]=n[s];n.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(tC(i,0,i.length,n,e,t,i)),this.changed()}translate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(mb(i,0,i.length,n,e,t,i)),this.changed()}}bg.prototype.transform;const hG=bg,Fd={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class Nd extends Zr{constructor(e,t){super(e),this.feature=t}}function dG(r,e){const t=[];for(let i=0;i<e.length;++i){const o=e[i].getGeometry();hM(r,o,t)}return t}function Gd(r,e){return Jo(r[0],r[1],e[0],e[1])}function iu(r,e){const t=r.length;return e<0?r[e+t]:e>=t?r[e-t]:r[e]}function Hd(r,e,t){let i,n;e<t?(i=e,n=t):(i=t,n=e);const o=Math.ceil(i),s=Math.floor(n);if(o>s){const l=nu(r,i),u=nu(r,n);return Gd(l,u)}let a=0;if(i<o){const l=nu(r,i),u=iu(r,o);a+=Gd(l,u)}if(s<n){const l=iu(r,s),u=nu(r,n);a+=Gd(l,u)}for(let l=o;l<s-1;++l){const u=iu(r,l),c=iu(r,l+1);a+=Gd(u,c)}return a}function hM(r,e,t){if(e instanceof yo){Wd(r,e.getCoordinates(),!1,t);return}if(e instanceof Sg){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n)Wd(r,i[n],!1,t);return}if(e instanceof rs){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n)Wd(r,i[n],!0,t);return}if(e instanceof xg){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const s=i[n];for(let a=0,l=s.length;a<l;++a)Wd(r,s[a],!0,t)}return}if(e instanceof Zb){const i=e.getGeometries();for(let n=0;n<i.length;++n)hM(r,i[n],t);return}}const Rm={index:-1,endIndex:NaN};function pG(r,e,t,i){const n=r[0],o=r[1];let s=1/0,a=-1,l=NaN;for(let h=0;h<e.targets.length;++h){const d=e.targets[h],p=d.coordinates;let f=1/0,m;for(let g=0;g<p.length-1;++g){const y=p[g],C=p[g+1],w=dM(n,o,y,C);w.squaredDistance<f&&(f=w.squaredDistance,m=g+w.along)}f<s&&(s=f,d.ring&&e.targetIndex===h&&(d.endIndex>d.startIndex?m<d.startIndex&&(m+=p.length):d.endIndex<d.startIndex&&m>d.startIndex&&(m-=p.length)),l=m,a=h)}const u=e.targets[a];let c=u.ring;if(e.targetIndex===a&&c){const h=nu(u.coordinates,l),d=t.getPixelFromCoordinate(h);tb(d,e.startPx)>i&&(c=!1)}if(c){const h=u.coordinates,d=h.length,p=u.startIndex,f=l;if(p<f){const m=Hd(h,p,f);Hd(h,p,f-d)<m&&(l-=d)}else{const m=Hd(h,p,f);Hd(h,p,f+d)<m&&(l+=d)}}return Rm.index=a,Rm.endIndex=l,Rm}function Wd(r,e,t,i){const n=r[0],o=r[1];for(let s=0,a=e.length-1;s<a;++s){const l=e[s],u=e[s+1],c=dM(n,o,l,u);if(c.squaredDistance===0){const h=s+c.along;i.push({coordinates:e,ring:t,startIndex:h,endIndex:h});return}}}const bm={along:0,squaredDistance:0};function dM(r,e,t,i){const n=t[0],o=t[1],s=i[0],a=i[1],l=s-n,u=a-o;let c=0,h=n,d=o;return(l!==0||u!==0)&&(c=Mi(((r-n)*l+(e-o)*u)/(l*l+u*u),0,1),h+=l*c,d+=u*c),bm.along=c,bm.squaredDistance=B_(Jo(r,e,h,d),10),bm}function nu(r,e){const t=r.length;let i=Math.floor(e);const n=e-i;i>=t?i-=t:i<0&&(i+=t);let o=i+1;o>=t&&(o-=t);const s=r[i],a=s[0],l=s[1],u=r[o],c=u[0]-a,h=u[1]-l;return[a+c*n,l+h*n]}class fG extends qu{constructor(e){const t=e;t.stopDown||(t.stopDown=$u),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=mG(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Js,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const n=this.mode_;if(n==="Circle")i=function(o,s,a){const l=s||new hG([NaN,NaN]),u=Nr(o[0]),c=eb(u,Nr(o[o.length-1]));return l.setCenterAndRadius(u,Math.sqrt(c),this.geometryLayout_),l};else{let o;n==="Point"?o=xn:n==="LineString"?o=yo:n==="Polygon"&&(o=rs),i=function(s,a,l){return a?n==="Polygon"?s[0].length?a.setCoordinates([s[0].concat([s[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(s,this.geometryLayout_):a=new o(s,this.geometryLayout_),a}}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ta({source:new ia({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:gG(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:fC,this.freehandCondition_,e.freehand?this.freehandCondition_=xy:this.freehandCondition_=e.freehandCondition?e.freehandCondition:gC,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(Sy.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=xy:t=e:t=Ry,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===ut.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===Ht.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Ht.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Ht.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===Ht.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===Ht.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===Ht.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===Ht.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Bo(Ht.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const t=this.getMap(),i=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),n=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=ly([i,n]),s=this.traceSource_.getFeaturesInExtent(o);if(s.length===0)return;const a=dG(e.coordinate,s);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const i=e.startIndex<=e.endIndex,n=e.startIndex<=t;i===n?i&&t>e.endIndex||!i&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(i&&t<e.endIndex||!i&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let i=0;if(e<t){const n=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),i=o-n+1}else{const n=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),i=n-o+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,t,i){if(t===i)return;const n=[];if(t<i){const o=Math.ceil(t);let s=Math.floor(i);s===i&&(s-=1);for(let a=o;a<=s;++a)n.push(iu(e.coordinates,a))}else{const o=Math.floor(t);let s=Math.ceil(i);s===i&&(s+=1);for(let a=o;a>=s;--a)n.push(iu(e.coordinates,a))}n.length&&this.appendCoordinates(n)}updateTrace_(e){const t=this.traceState_;if(!t.active||t.targetIndex===-1&&tb(t.startPx,e.pixel)<this.snapTolerance_)return;const i=pG(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==i.index){if(t.targetIndex!==-1){const l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const a=t.targets[i.index];this.addTracedCoordinates_(a,a.startIndex,i.endIndex)}else{const a=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(a,i.endIndex)}t.targetIndex=i.index;const n=t.targets[t.targetIndex];n.endIndex=i.endIndex;const o=nu(n.coordinates,n.endIndex),s=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(s[0]),Math.round(s[1])]}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_==="Point")&&(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,i=e.pixel,n=t[0]-i[0],o=t[1]-i[1],s=n*n+o*o;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let i=!1;if(this.sketchFeature_){let n=!1,o=[this.finishCoordinate_];const s=this.mode_;if(s==="Point")i=!0;else if(s==="Circle")i=this.sketchCoords_.length===2;else if(s==="LineString")n=!t&&this.sketchCoords_.length>this.minPoints_;else if(s==="Polygon"){const a=this.sketchCoords_;n=a[0].length>this.minPoints_,o=[a[0][0],a[0][a[0].length-2]],t?o=[a[0][0]]:o=[a[0][0],a[0][a[0].length-2]]}if(n){const a=this.getMap();for(let l=0,u=o.length;l<u;l++){const c=o[l],h=a.getPixelFromCoordinate(c),d=e[0]-h[0],p=e[1]-h[1],f=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(d*d+p*p)<=f,i){this.finishCoordinate_=c;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new yr(new xn(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new yr);const t=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new yo(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const t=this.getMap().getView().getProjection(),i=df(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new yr(new yo(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new yr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Nd(Fd.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),i=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),o=df(this.geometryLayout_);let s,a;for(;e.length<o;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(s=this.sketchCoords_[0],a=s[s.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(s=this.sketchCoords_,a=s[s.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let n,o;const s=this.mode_;s==="LineString"||s==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(e.slice()),this.geometryFunction_(o,t,i)):s==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(e.slice()),n&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let o=0;o<e;++o){let s;if(n==="LineString"||n==="Circle"){if(s=this.sketchCoords_,s.splice(-2,1),s.length>=2){this.finishCoordinate_=s[s.length-2].slice();const a=this.finishCoordinate_.slice();s[s.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(s,t,i),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(n==="Polygon"){s=this.sketchCoords_[0],s.splice(-2,1);const a=this.sketchLine_.getGeometry();if(s.length>=2){const l=s[s.length-2].slice();s[s.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(s),this.geometryFunction_(this.sketchCoords_,t,i)}if(s.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const i=e.getGeometry(),n=this.getMap().getView().getProjection();this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,i,n)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,i,n),t=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Eg([t])):this.type_==="MultiLineString"?e.setGeometry(new Sg([t])):this.type_==="MultiPolygon"&&e.setGeometry(new xg([t])),this.dispatchEvent(new Nd(Fd.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Nd(Fd.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(e[0]);let n;if(t==="LineString"||t==="Circle")n=this.sketchCoords_;else if(t==="Polygon")n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&n.shift(),n.pop();for(let s=0;s<e.length;s++)this.addToDrawing_(e[s]);const o=e[e.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){const i=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=i.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new yr(new xn(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Nd(Fd.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function gG(){const r=oM();return function(e,t){return r[e.getGeometry().getType()]}}function mG(r){switch(r){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+r)}}const vG=fG,hr=ci("clear");let Ws,rh,Dy,Yo=null,_f,Ko=null;const yG="Click to continue drawing the polygon",_G="Click to continue drawing the line";let PC=new ia;const CG=new ta({source:PC,style:{"fill-color":"rgba(255, 255, 255, 0.2)","stroke-color":"#ffcc33","stroke-width":2,"circle-radius":7,"circle-fill-color":"#ffcc33"}}),wG=function(r){if(r.dragging)return;let e="Click to start drawing";if(rh){const t=rh.getGeometry();t instanceof rs?e=yG:t instanceof yo&&(e=_G)}Yo.innerHTML=e,Dy.setPosition(r.coordinate),Yo.classList.remove("hidden")},SG=function(r){const e=cb(r);let t;return e>100?t=Math.round(e/1e3*100)/100+" km":t=Math.round(e*100)/100+" m",t},EG=function(r){const e=hb(r);let t;return e>1e4?t=Math.round(e/1e6*100)/100+" km<sup>2</sup>":t=Math.round(e*100)/100+" m<sup>2</sup>",t};function pM(r){Ws=new vG({source:PC,type:r,style:new Br({fill:new wr({color:"rgba(255, 255, 255, 0.2)"}),stroke:new qn({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new $h({radius:5,stroke:new qn({color:"rgba(0, 0, 0, 0.7)"}),fill:new wr({color:"rgba(255, 255, 255, 0.2)"})})})}),Pt.addInteraction(Ws),vS(),xG();let e;Ws.on("drawstart",function(t){rh=t.feature;let i=t.coordinate;e=rh.getGeometry().on("change",function(n){const o=n.target;let s;o instanceof rs?(s=EG(o),i=o.getInteriorPoint().getCoordinates()):o instanceof yo&&(s=SG(o),i=o.getLastCoordinate()),Ko.innerHTML=s,_f.setPosition(i)})}),Ws.on("drawend",function(){Ko.className="ol-tooltip ol-tooltip-static",Ko.style="color: #3598dc; font-weight: bold",_f.setOffset([0,-7]),rh=null,Ko=null,vS(),hg(e)}),Pt.on("pointermove",wG),Pt.getViewport().addEventListener("mouseout",function(){Yo.classList.add("hidden")})}function xG(){Yo&&Yo.remove(),Yo=document.createElement("div"),Yo.className="ol-tooltip hidden",Yo.style="color: #61a1fe; font-weight: bold",Dy=new Kb({element:Yo,offset:[15,0],positioning:"center-left"}),Pt.addOverlay(Dy)}function vS(){Ko&&Ko.remove(),Ko=document.createElement("div"),Ko.className="ol-tooltip ol-tooltip-measure",_f=new Kb({element:Ko,offset:[0,-15],positioning:"bottom-center",stopEvent:!1,insertFirst:!1}),Pt.addOverlay(_f)}function RG(){Ws.setActive(!1),PC.clear(),bG("ol-tooltip")}function bG(r){const e=document.getElementsByClassName(r);for(;e.length>0;)e[0].parentNode.removeChild(e[0])}function MG(){Pt.removeInteraction(Ws),RG()}function TG(){Pt.removeInteraction(Ws),pM("LineString")}function PG(){Pt.removeInteraction(Ws),pM("Polygon")}const He=Pn({showBasemap:!1,showLayers:!1,showMeasurement:!1,showQueryLegend:!1,showMapInfo:!1,showSupportTable:!1,showAccInfo:!1});function OG(){He.showBasemap=!1,He.showLayers=!1,He.showMeasurement=!1,He.showQueryLegend=!1,He.showSupportTable=!1,He.showAccInfo=!1}function yS(){He.showBasemap=!He.showBasemap,He.showLayers=!1,He.showMeasurement=!1,He.showQueryLegend=!1,He.showSupportTable=!1,He.showAccInfo=!1}function _S(){He.showBasemap=!1,He.showLayers=!He.showLayers,He.showMeasurement=!1,He.showQueryLegend=!1,He.showSupportTable=!1,He.showAccInfo=!1}function CS(){He.showBasemap=!1,He.showLayers=!1,He.showMeasurement=!He.showMeasurement,He.showQueryLegend=!1,He.showSupportTable=!1,He.showAccInfo=!1}function Cf(){He.showLayers=!1,He.showBasemap=!1,He.showMeasurement=!1,He.showQueryLegend=!1,He.showMapInfo=!He.showMapInfo,He.showSupportTable=!1,He.showAccInfo=!1}function wS(){He.showBasemap=!1,He.showLayers=!1,He.showMeasurement=!1,He.showQueryLegend=!1,He.showSupportTable=!He.showSupportTable,He.showAccInfo=!1}function SS(){He.showBasemap=!1,He.showLayers=!1,He.showMeasurement=!1,He.showQueryLegend=!1,He.showSupportTable=!1,He.showAccInfo=!He.showAccInfo}const er=Pn({showPanoramaInfo:!1,showCorrection:!1});function AG(){er.showPanoramaInfo=!1,er.showCorrection=!1}function ES(){er.showPanoramaInfo=!er.showPanoramaInfo,er.showCorrection=!1}function xS(){er.showPanoramaInfo=!1,er.showCorrection=!er.showCorrection}var fM={exports:{}};/*!
* sweetalert2 v11.10.1
* Released under the MIT License.
*/(function(r,e){(function(t,i){r.exports=i()})(us,function(){function t(x,v){var _=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(_!=null){var E,N,se,De,st=[],Ct=!0,oi=!1;try{if(se=(_=_.call(x)).next,v===0){if(Object(_)!==_)return;Ct=!1}else for(;!(Ct=(E=se.call(_)).done)&&(st.push(E.value),st.length!==v);Ct=!0);}catch(dc){oi=!0,N=dc}finally{try{if(!Ct&&_.return!=null&&(De=_.return(),Object(De)!==De))return}finally{if(oi)throw N}}return st}}function i(x){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},i(x)}function n(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function o(x,v){for(var _=0;_<v.length;_++){var E=v[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,q(E.key),E)}}function s(x,v,_){return v&&o(x.prototype,v),_&&o(x,_),Object.defineProperty(x,"prototype",{writable:!1}),x}function a(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),v&&u(x,v)}function l(x){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},l(x)}function u(x,v){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E},u(x,v)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(x,v,_){return c()?h=Reflect.construct.bind():h=function(N,se,De){var st=[null];st.push.apply(st,se);var Ct=Function.bind.apply(N,st),oi=new Ct;return De&&u(oi,De.prototype),oi},h.apply(null,arguments)}function d(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function p(x,v){if(v&&(typeof v=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(x)}function f(x){var v=c();return function(){var E=l(x),N;if(v){var se=l(this).constructor;N=Reflect.construct(E,arguments,se)}else N=E.apply(this,arguments);return p(this,N)}}function m(x,v){for(;!Object.prototype.hasOwnProperty.call(x,v)&&(x=l(x),x!==null););return x}function g(){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get.bind():g=function(v,_,E){var N=m(v,_);if(!!N){var se=Object.getOwnPropertyDescriptor(N,_);return se.get?se.get.call(arguments.length<3?v:E):se.value}},g.apply(this,arguments)}function y(x,v){return S(x)||t(x,v)||T(x,v)||P()}function C(x){return w(x)||b(x)||T(x)||R()}function w(x){if(Array.isArray(x))return F(x)}function S(x){if(Array.isArray(x))return x}function b(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function T(x,v){if(!!x){if(typeof x=="string")return F(x,v);var _=Object.prototype.toString.call(x).slice(8,-1);if(_==="Object"&&x.constructor&&(_=x.constructor.name),_==="Map"||_==="Set")return Array.from(x);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return F(x,v)}}function F(x,v){(v==null||v>x.length)&&(v=x.length);for(var _=0,E=new Array(v);_<v;_++)E[_]=x[_];return E}function R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(x,v){if(typeof x!="object"||x===null)return x;var _=x[Symbol.toPrimitive];if(_!==void 0){var E=_.call(x,v||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(x)}function q(x){var v=G(x,"string");return typeof v=="symbol"?v:String(v)}function te(x,v){var _=Y(x,v,"get");return U(x,_)}function j(x,v,_){var E=Y(x,v,"set");return Z(x,E,_),_}function Y(x,v,_){if(!v.has(x))throw new TypeError("attempted to "+_+" private field on non-instance");return v.get(x)}function U(x,v){return v.get?v.get.call(x):v.value}function Z(x,v,_){if(v.set)v.set.call(x,_);else{if(!v.writable)throw new TypeError("attempted to set read only private field");v.value=_}}function J(x,v){if(v.has(x))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ie(x,v,_){J(x,v),v.set(x,_)}var K=100,H={},ge=function(){H.previousActiveElement instanceof HTMLElement?(H.previousActiveElement.focus(),H.previousActiveElement=null):document.body&&document.body.focus()},V=function(v){return new Promise(function(_){if(!v)return _();var E=window.scrollX,N=window.scrollY;H.restoreFocusTimeout=setTimeout(function(){ge(),_()},K),window.scrollTo(E,N)})},ye="swal2-",Ce=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],W=Ce.reduce(function(x,v){return x[v]=ye+v,x},{}),ce=["success","warning","info","question","error"],it=ce.reduce(function(x,v){return x[v]=ye+v,x},{}),Ne="SweetAlert2:",$e=function(v){return v.charAt(0).toUpperCase()+v.slice(1)},xe=function(v){console.warn("".concat(Ne," ").concat(i(v)==="object"?v.join(" "):v))},yt=function(v){console.error("".concat(Ne," ").concat(v))},nt=[],Ke=function(v){nt.includes(v)||(nt.push(v),xe(v))},$t=function(v,_){Ke('"'.concat(v,'" is deprecated and will be removed in the next major release. Please use "').concat(_,'" instead.'))},ii=function(v){return typeof v=="function"?v():v},Yt=function(v){return v&&typeof v.toPromise=="function"},Si=function(v){return Yt(v)?v.toPromise():Promise.resolve(v)},Zt=function(v){return v&&Promise.resolve(v)===v},Qe=function(){return document.body.querySelector(".".concat(W.container))},gi=function(v){var _=Qe();return _?_.querySelector(v):null},Kt=function(v){return gi(".".concat(v))},I=function(){return Kt(W.popup)},O=function(){return Kt(W.icon)},oe=function(){return Kt(W["icon-content"])},_e=function(){return Kt(W.title)},Ee=function(){return Kt(W["html-container"])},Me=function(){return Kt(W.image)},Ye=function(){return Kt(W["progress-steps"])},be=function(){return Kt(W["validation-message"])},le=function(){return gi(".".concat(W.actions," .").concat(W.confirm))},Ae=function(){return gi(".".concat(W.actions," .").concat(W.cancel))},ze=function(){return gi(".".concat(W.actions," .").concat(W.deny))},We=function(){return Kt(W["input-label"])},je=function(){return gi(".".concat(W.loader))},Ve=function(){return Kt(W.actions)},xt=function(){return Kt(W.footer)},Lt=function(){return Kt(W["timer-progress-bar"])},ni=function(){return Kt(W.close)},B=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ae=function(){var v=I();if(!v)return[];var _=v.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),E=Array.from(_).sort(function(De,st){var Ct=parseInt(De.getAttribute("tabindex")||"0"),oi=parseInt(st.getAttribute("tabindex")||"0");return Ct>oi?1:Ct<oi?-1:0}),N=v.querySelectorAll(B),se=Array.from(N).filter(function(De){return De.getAttribute("tabindex")!=="-1"});return C(new Set(E.concat(se))).filter(function(De){return Ge(De)})},ve=function(){return ht(document.body,W.shown)&&!ht(document.body,W["toast-shown"])&&!ht(document.body,W["no-backdrop"])},Te=function(){var v=I();return v?ht(v,W.toast):!1},ke=function(){var v=I();return v?v.hasAttribute("data-loading"):!1},rt=function(v,_){if(v.textContent="",_){var E=new DOMParser,N=E.parseFromString(_,"text/html"),se=N.querySelector("head");se&&Array.from(se.childNodes).forEach(function(st){v.appendChild(st)});var De=N.querySelector("body");De&&Array.from(De.childNodes).forEach(function(st){st instanceof HTMLVideoElement||st instanceof HTMLAudioElement?v.appendChild(st.cloneNode(!0)):v.appendChild(st)})}},ht=function(v,_){if(!_)return!1;for(var E=_.split(/\s+/),N=0;N<E.length;N++)if(!v.classList.contains(E[N]))return!1;return!0},ri=function(v,_){Array.from(v.classList).forEach(function(E){!Object.values(W).includes(E)&&!Object.values(it).includes(E)&&!Object.values(_.showClass||{}).includes(E)&&v.classList.remove(E)})},Ft=function(v,_,E){if(ri(v,_),_.customClass&&_.customClass[E]){if(typeof _.customClass[E]!="string"&&!_.customClass[E].forEach){xe("Invalid type of customClass.".concat(E,'! Expected string or iterable object, got "').concat(i(_.customClass[E]),'"'));return}ft(v,_.customClass[E])}},_t=function(v,_){if(!_)return null;switch(_){case"select":case"textarea":case"file":return v.querySelector(".".concat(W.popup," > .").concat(W[_]));case"checkbox":return v.querySelector(".".concat(W.popup," > .").concat(W.checkbox," input"));case"radio":return v.querySelector(".".concat(W.popup," > .").concat(W.radio," input:checked"))||v.querySelector(".".concat(W.popup," > .").concat(W.radio," input:first-child"));case"range":return v.querySelector(".".concat(W.popup," > .").concat(W.range," input"));default:return v.querySelector(".".concat(W.popup," > .").concat(W.input))}},Jt=function(v){if(v.focus(),v.type!=="file"){var _=v.value;v.value="",v.value=_}},Pi=function(v,_,E){!v||!_||(typeof _=="string"&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(function(N){Array.isArray(v)?v.forEach(function(se){E?se.classList.add(N):se.classList.remove(N)}):E?v.classList.add(N):v.classList.remove(N)}))},ft=function(v,_){Pi(v,_,!0)},Xt=function(v,_){Pi(v,_,!1)},hi=function(v,_){for(var E=Array.from(v.children),N=0;N<E.length;N++){var se=E[N];if(se instanceof HTMLElement&&ht(se,_))return se}},Di=function(v,_,E){E==="".concat(parseInt(E))&&(E=parseInt(E)),E||parseInt(E)===0?v.style[_]=typeof E=="number"?"".concat(E,"px"):E:v.style.removeProperty(_)},D=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";v&&(v.style.display=_)},X=function(v){v&&(v.style.display="none")},ue=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";!v||new MutationObserver(function(){he(v,v.innerHTML,_)}).observe(v,{childList:!0,subtree:!0})},Q=function(v,_,E,N){var se=v.querySelector(_);se&&(se.style[E]=N)},he=function(v,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";_?D(v,E):X(v)},Ge=function(v){return!!(v&&(v.offsetWidth||v.offsetHeight||v.getClientRects().length))},ot=function(){return!Ge(le())&&!Ge(ze())&&!Ge(Ae())},gt=function(v){return v.scrollHeight>v.clientHeight},dt=function(v){var _=window.getComputedStyle(v),E=parseFloat(_.getPropertyValue("animation-duration")||"0"),N=parseFloat(_.getPropertyValue("transition-duration")||"0");return E>0||N>0},At=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=Lt();!E||Ge(E)&&(_&&(E.style.transition="none",E.style.width="100%"),setTimeout(function(){E.style.transition="width ".concat(v/1e3,"s linear"),E.style.width="0%"},10))},Rt=function(){var v=Lt();if(!!v){var _=parseInt(window.getComputedStyle(v).width);v.style.removeProperty("transition"),v.style.width="100%";var E=parseInt(window.getComputedStyle(v).width),N=_/E*100;v.style.width="".concat(N,"%")}},bt=function(){return typeof window>"u"||typeof document>"u"},li=`
 <div aria-labelledby="`.concat(W.title,'" aria-describedby="').concat(W["html-container"],'" class="').concat(W.popup,`" tabindex="-1">
   <button type="button" class="`).concat(W.close,`"></button>
   <ul class="`).concat(W["progress-steps"],`"></ul>
   <div class="`).concat(W.icon,`"></div>
   <img class="`).concat(W.image,`" />
   <h2 class="`).concat(W.title,'" id="').concat(W.title,`"></h2>
   <div class="`).concat(W["html-container"],'" id="').concat(W["html-container"],`"></div>
   <input class="`).concat(W.input,'" id="').concat(W.input,`" />
   <input type="file" class="`).concat(W.file,`" />
   <div class="`).concat(W.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(W.select,'" id="').concat(W.select,`"></select>
   <div class="`).concat(W.radio,`"></div>
   <label class="`).concat(W.checkbox,`">
     <input type="checkbox" id="`).concat(W.checkbox,`" />
     <span class="`).concat(W.label,`"></span>
   </label>
   <textarea class="`).concat(W.textarea,'" id="').concat(W.textarea,`"></textarea>
   <div class="`).concat(W["validation-message"],'" id="').concat(W["validation-message"],`"></div>
   <div class="`).concat(W.actions,`">
     <div class="`).concat(W.loader,`"></div>
     <button type="button" class="`).concat(W.confirm,`"></button>
     <button type="button" class="`).concat(W.deny,`"></button>
     <button type="button" class="`).concat(W.cancel,`"></button>
   </div>
   <div class="`).concat(W.footer,`"></div>
   <div class="`).concat(W["timer-progress-bar-container"],`">
     <div class="`).concat(W["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Po=function(){var v=Qe();return v?(v.remove(),Xt([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},On=function(){H.currentInstance.resetValidationMessage()},ss=function(){var v=I(),_=hi(v,W.input),E=hi(v,W.file),N=v.querySelector(".".concat(W.range," input")),se=v.querySelector(".".concat(W.range," output")),De=hi(v,W.select),st=v.querySelector(".".concat(W.checkbox," input")),Ct=hi(v,W.textarea);_.oninput=On,E.onchange=On,De.onchange=On,st.onchange=On,Ct.oninput=On,N.oninput=function(){On(),se.value=N.value},N.onchange=function(){On(),se.value=N.value}},sr=function(v){return typeof v=="string"?document.querySelector(v):v},Gt=function(v){var _=I();_.setAttribute("role",v.toast?"alert":"dialog"),_.setAttribute("aria-live",v.toast?"polite":"assertive"),v.toast||_.setAttribute("aria-modal","true")},as=function(v){window.getComputedStyle(v).direction==="rtl"&&ft(Qe(),W.rtl)},mi=function(v){var _=Po();if(bt()){yt("SweetAlert2 requires document to initialize");return}var E=document.createElement("div");E.className=W.container,_&&ft(E,W["no-transition"]),rt(E,li);var N=sr(v.target);N.appendChild(E),Gt(v),as(N),ss()},rn=function(v,_){v instanceof HTMLElement?_.appendChild(v):i(v)==="object"?Qr(v,_):v&&rt(_,v)},Qr=function(v,_){v.jquery?da(_,v):rt(_,v.toString())},da=function(v,_){if(v.textContent="",0 in _)for(var E=0;E in _;E++)v.appendChild(_[E].cloneNode(!0));else v.appendChild(_.cloneNode(!0))},Mr=function(){if(bt())return!1;var x=document.createElement("div");return typeof x.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof x.style.animation<"u"?"animationend":!1}(),Xi=function(v,_){var E=Ve(),N=je();!E||!N||(!_.showConfirmButton&&!_.showDenyButton&&!_.showCancelButton?X(E):D(E),Ft(E,_,"actions"),Oo(E,N,_),rt(N,_.loaderHtml||""),Ft(N,_,"loader"))};function Oo(x,v,_){var E=le(),N=ze(),se=Ae();!E||!N||!se||(qi(E,"confirm",_),qi(N,"deny",_),qi(se,"cancel",_),lc(E,N,se,_),_.reverseButtons&&(_.toast?(x.insertBefore(se,E),x.insertBefore(N,E)):(x.insertBefore(se,v),x.insertBefore(N,v),x.insertBefore(E,v))))}function lc(x,v,_,E){if(!E.buttonsStyling){Xt([x,v,_],W.styled);return}ft([x,v,_],W.styled),E.confirmButtonColor&&(x.style.backgroundColor=E.confirmButtonColor,ft(x,W["default-outline"])),E.denyButtonColor&&(v.style.backgroundColor=E.denyButtonColor,ft(v,W["default-outline"])),E.cancelButtonColor&&(_.style.backgroundColor=E.cancelButtonColor,ft(_,W["default-outline"]))}function qi(x,v,_){var E=$e(v);he(x,_["show".concat(E,"Button")],"inline-block"),rt(x,_["".concat(v,"ButtonText")]||""),x.setAttribute("aria-label",_["".concat(v,"ButtonAriaLabel")]||""),x.className=W[v],Ft(x,_,"".concat(v,"Button"))}var uc=function(v,_){var E=ni();!E||(rt(E,_.closeButtonHtml||""),Ft(E,_,"closeButton"),he(E,_.showCloseButton),E.setAttribute("aria-label",_.closeButtonAriaLabel||""))},tm=function(v,_){var E=Qe();!E||(dd(E,_.backdrop),uO(E,_.position),cO(E,_.grow),Ft(E,_,"container"))};function dd(x,v){typeof v=="string"?x.style.background=v:v||ft([document.documentElement,document.body],W["no-backdrop"])}function uO(x,v){!v||(v in W?ft(x,W[v]):(xe('The "position" parameter is not valid, defaulting to "center"'),ft(x,W.center)))}function cO(x,v){!v||ft(x,W["grow-".concat(v)])}var Qt={innerParams:new WeakMap,domCache:new WeakMap},hO=["input","file","range","select","radio","checkbox","textarea"],dO=function(v,_){var E=I();if(!!E){var N=Qt.innerParams.get(v),se=!N||_.input!==N.input;hO.forEach(function(De){var st=hi(E,W[De]);!st||(gO(De,_.inputAttributes),st.className=W[De],se&&X(st))}),_.input&&(se&&pO(_),mO(_))}},pO=function(v){if(!!v.input){if(!Ei[v.input]){yt("Unexpected type of input! Expected ".concat(Object.keys(Ei).join(" | "),', got "').concat(v.input,'"'));return}var _=Fw(v.input),E=Ei[v.input](_,v);D(_),v.inputAutoFocus&&setTimeout(function(){Jt(E)})}},fO=function(v){for(var _=0;_<v.attributes.length;_++){var E=v.attributes[_].name;["id","type","value","style"].includes(E)||v.removeAttribute(E)}},gO=function(v,_){var E=_t(I(),v);if(!!E){fO(E);for(var N in _)E.setAttribute(N,_[N])}},mO=function(v){var _=Fw(v.input);i(v.customClass)==="object"&&ft(_,v.customClass.input)},im=function(v,_){(!v.placeholder||_.inputPlaceholder)&&(v.placeholder=_.inputPlaceholder)},cc=function(v,_,E){if(E.inputLabel){var N=document.createElement("label"),se=W["input-label"];N.setAttribute("for",v.id),N.className=se,i(E.customClass)==="object"&&ft(N,E.customClass.inputLabel),N.innerText=E.inputLabel,_.insertAdjacentElement("beforebegin",N)}},Fw=function(v){return hi(I(),W[v]||W.input)},pd=function(v,_){["string","number"].includes(i(_))?v.value="".concat(_):Zt(_)||xe('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(i(_),'"'))},Ei={};Ei.text=Ei.email=Ei.password=Ei.number=Ei.tel=Ei.url=Ei.search=Ei.date=Ei["datetime-local"]=Ei.time=Ei.week=Ei.month=function(x,v){return pd(x,v.inputValue),cc(x,x,v),im(x,v),x.type=v.input,x},Ei.file=function(x,v){return cc(x,x,v),im(x,v),x},Ei.range=function(x,v){var _=x.querySelector("input"),E=x.querySelector("output");return pd(_,v.inputValue),_.type=v.input,pd(E,v.inputValue),cc(_,x,v),x},Ei.select=function(x,v){if(x.textContent="",v.inputPlaceholder){var _=document.createElement("option");rt(_,v.inputPlaceholder),_.value="",_.disabled=!0,_.selected=!0,x.appendChild(_)}return cc(x,x,v),x},Ei.radio=function(x){return x.textContent="",x},Ei.checkbox=function(x,v){var _=_t(I(),"checkbox");_.value="1",_.checked=Boolean(v.inputValue);var E=x.querySelector("span");return rt(E,v.inputPlaceholder),_},Ei.textarea=function(x,v){pd(x,v.inputValue),im(x,v),cc(x,x,v);var _=function(N){return parseInt(window.getComputedStyle(N).marginLeft)+parseInt(window.getComputedStyle(N).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var E=parseInt(window.getComputedStyle(I()).width),N=function(){if(!!document.body.contains(x)){var De=x.offsetWidth+_(x);De>E?I().style.width="".concat(De,"px"):Di(I(),"width",v.width)}};new MutationObserver(N).observe(x,{attributes:!0,attributeFilter:["style"]})}}),x};var vO=function(v,_){var E=Ee();!E||(ue(E),Ft(E,_,"htmlContainer"),_.html?(rn(_.html,E),D(E,"block")):_.text?(E.textContent=_.text,D(E,"block")):X(E),dO(v,_))},yO=function(v,_){var E=xt();!E||(ue(E),he(E,_.footer,"block"),_.footer&&rn(_.footer,E),Ft(E,_,"footer"))},_O=function(v,_){var E=Qt.innerParams.get(v),N=O();if(!!N){if(E&&_.icon===E.icon){Gw(N,_),Nw(N,_);return}if(!_.icon&&!_.iconHtml){X(N);return}if(_.icon&&Object.keys(it).indexOf(_.icon)===-1){yt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(_.icon,'"')),X(N);return}D(N),Gw(N,_),Nw(N,_),ft(N,_.showClass&&_.showClass.icon)}},Nw=function(v,_){for(var E=0,N=Object.entries(it);E<N.length;E++){var se=y(N[E],2),De=se[0],st=se[1];_.icon!==De&&Xt(v,st)}ft(v,_.icon&&it[_.icon]),EO(v,_),CO(),Ft(v,_,"icon")},CO=function(){var v=I();if(!!v)for(var _=window.getComputedStyle(v).getPropertyValue("background-color"),E=v.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),N=0;N<E.length;N++)E[N].style.backgroundColor=_},wO=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,SO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Gw=function(v,_){if(!(!_.icon&&!_.iconHtml)){var E=v.innerHTML,N="";if(_.iconHtml)N=Hw(_.iconHtml);else if(_.icon==="success")N=wO,E=E.replace(/ style=".*?"/g,"");else if(_.icon==="error")N=SO;else if(_.icon){var se={question:"?",warning:"!",info:"i"};N=Hw(se[_.icon])}E.trim()!==N.trim()&&rt(v,N)}},EO=function(v,_){if(!!_.iconColor){v.style.color=_.iconColor,v.style.borderColor=_.iconColor;for(var E=0,N=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];E<N.length;E++){var se=N[E];Q(v,se,"backgroundColor",_.iconColor)}Q(v,".swal2-success-ring","borderColor",_.iconColor)}},Hw=function(v){return'<div class="'.concat(W["icon-content"],'">').concat(v,"</div>")},xO=function(v,_){var E=Me();if(!!E){if(!_.imageUrl){X(E);return}D(E,""),E.setAttribute("src",_.imageUrl),E.setAttribute("alt",_.imageAlt||""),Di(E,"width",_.imageWidth),Di(E,"height",_.imageHeight),E.className=W.image,Ft(E,_,"image")}},RO=function(v,_){var E=Qe(),N=I();if(!(!E||!N)){if(_.toast){Di(E,"width",_.width),N.style.width="100%";var se=je();se&&N.insertBefore(se,O())}else Di(N,"width",_.width);Di(N,"padding",_.padding),_.color&&(N.style.color=_.color),_.background&&(N.style.background=_.background),X(be()),bO(N,_)}},bO=function(v,_){var E=_.showClass||{};v.className="".concat(W.popup," ").concat(Ge(v)?E.popup:""),_.toast?(ft([document.documentElement,document.body],W["toast-shown"]),ft(v,W.toast)):ft(v,W.modal),Ft(v,_,"popup"),typeof _.customClass=="string"&&ft(v,_.customClass),_.icon&&ft(v,W["icon-".concat(_.icon)])},MO=function(v,_){var E=Ye();if(!!E){var N=_.progressSteps,se=_.currentProgressStep;if(!N||N.length===0||se===void 0){X(E);return}D(E),E.textContent="",se>=N.length&&xe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.forEach(function(De,st){var Ct=TO(De);if(E.appendChild(Ct),st===se&&ft(Ct,W["active-progress-step"]),st!==N.length-1){var oi=PO(_);E.appendChild(oi)}})}},TO=function(v){var _=document.createElement("li");return ft(_,W["progress-step"]),rt(_,v),_},PO=function(v){var _=document.createElement("li");return ft(_,W["progress-step-line"]),v.progressStepsDistance&&Di(_,"width",v.progressStepsDistance),_},OO=function(v,_){var E=_e();!E||(ue(E),he(E,_.title||_.titleText,"block"),_.title&&rn(_.title,E),_.titleText&&(E.innerText=_.titleText),Ft(E,_,"title"))},Ww=function(v,_){RO(v,_),tm(v,_),MO(v,_),_O(v,_),xO(v,_),OO(v,_),uc(v,_),vO(v,_),Xi(v,_),yO(v,_);var E=I();typeof _.didRender=="function"&&E&&_.didRender(E)},AO=function(){return Ge(I())},Vw=function(){var v;return(v=le())===null||v===void 0?void 0:v.click()},DO=function(){var v;return(v=ze())===null||v===void 0?void 0:v.click()},IO=function(){var v;return(v=Ae())===null||v===void 0?void 0:v.click()},yl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),kw=function(v){v.keydownTarget&&v.keydownHandlerAdded&&(v.keydownTarget.removeEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!1)},LO=function(v,_,E){kw(v),_.toast||(v.keydownHandler=function(N){return NO(_,N,E)},v.keydownTarget=_.keydownListenerCapture?window:I(),v.keydownListenerCapture=_.keydownListenerCapture,v.keydownTarget.addEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!0)},nm=function(v,_){var E,N=ae();if(N.length){v=v+_,v===N.length?v=0:v===-1&&(v=N.length-1),N[v].focus();return}(E=I())===null||E===void 0||E.focus()},Bw=["ArrowRight","ArrowDown"],FO=["ArrowLeft","ArrowUp"],NO=function(v,_,E){!v||_.isComposing||_.keyCode===229||(v.stopKeydownPropagation&&_.stopPropagation(),_.key==="Enter"?GO(_,v):_.key==="Tab"?HO(_):[].concat(Bw,FO).includes(_.key)?WO(_.key):_.key==="Escape"&&VO(_,v,E))},GO=function(v,_){if(!!ii(_.allowEnterKey)){var E=_t(I(),_.input);if(v.target&&E&&v.target instanceof HTMLElement&&v.target.outerHTML===E.outerHTML){if(["textarea","file"].includes(_.input))return;Vw(),v.preventDefault()}}},HO=function(v){for(var _=v.target,E=ae(),N=-1,se=0;se<E.length;se++)if(_===E[se]){N=se;break}v.shiftKey?nm(N,-1):nm(N,1),v.stopPropagation(),v.preventDefault()},WO=function(v){var _=Ve(),E=le(),N=ze(),se=Ae();if(!(!_||!E||!N||!se)){var De=[E,N,se];if(!(document.activeElement instanceof HTMLElement&&!De.includes(document.activeElement))){var st=Bw.includes(v)?"nextElementSibling":"previousElementSibling",Ct=document.activeElement;if(!!Ct){for(var oi=0;oi<_.children.length;oi++){if(Ct=Ct[st],!Ct)return;if(Ct instanceof HTMLButtonElement&&Ge(Ct))break}Ct instanceof HTMLButtonElement&&Ct.focus()}}}},VO=function(v,_,E){ii(_.allowEscapeKey)&&(v.preventDefault(),E(yl.esc))},_l={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},kO=function(){var v=Array.from(document.body.children);v.forEach(function(_){_===Qe()||_.contains(Qe())||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})},Uw=function(){var v=Array.from(document.body.children);v.forEach(function(_){_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},zw=typeof window<"u"&&!!window.GestureEvent,BO=function(){if(zw&&!ht(document.body,W.iosfix)){var v=document.body.scrollTop;document.body.style.top="".concat(v*-1,"px"),ft(document.body,W.iosfix),UO()}},UO=function(){var v=Qe();if(!!v){var _;v.ontouchstart=function(E){_=zO(E)},v.ontouchmove=function(E){_&&(E.preventDefault(),E.stopPropagation())}}},zO=function(v){var _=v.target,E=Qe(),N=Ee();return!E||!N||jO(v)||$O(v)?!1:_===E||!gt(E)&&_ instanceof HTMLElement&&_.tagName!=="INPUT"&&_.tagName!=="TEXTAREA"&&!(gt(N)&&N.contains(_))},jO=function(v){return v.touches&&v.touches.length&&v.touches[0].touchType==="stylus"},$O=function(v){return v.touches&&v.touches.length>1},YO=function(){if(ht(document.body,W.iosfix)){var v=parseInt(document.body.style.top,10);Xt(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=v*-1}},KO=function(){var v=document.createElement("div");v.className=W["scrollbar-measure"],document.body.appendChild(v);var _=v.getBoundingClientRect().width-v.clientWidth;return document.body.removeChild(v),_},Cl=null,XO=function(v){Cl===null&&(document.body.scrollHeight>window.innerHeight||v==="scroll")&&(Cl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Cl+KO(),"px"))},qO=function(){Cl!==null&&(document.body.style.paddingRight="".concat(Cl,"px"),Cl=null)};function jw(x,v,_,E){Te()?Yw(x,E):(V(_).then(function(){return Yw(x,E)}),kw(H)),zw?(v.setAttribute("style","display:none !important"),v.removeAttribute("class"),v.innerHTML=""):v.remove(),ve()&&(qO(),YO(),Uw()),ZO()}function ZO(){Xt([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function ls(x){x=QO(x);var v=_l.swalPromiseResolve.get(this),_=JO(this);this.isAwaitingPromise?x.isDismissed||(hc(this),v(x)):_&&v(x)}var JO=function(v){var _=I();if(!_)return!1;var E=Qt.innerParams.get(v);if(!E||ht(_,E.hideClass.popup))return!1;Xt(_,E.showClass.popup),ft(_,E.hideClass.popup);var N=Qe();return Xt(N,E.showClass.backdrop),ft(N,E.hideClass.backdrop),eA(v,_,E),!0};function $w(x){var v=_l.swalPromiseReject.get(this);hc(this),v&&v(x)}var hc=function(v){v.isAwaitingPromise&&(delete v.isAwaitingPromise,Qt.innerParams.get(v)||v._destroy())},QO=function(v){return typeof v>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},v)},eA=function(v,_,E){var N=Qe(),se=Mr&&dt(_);typeof E.willClose=="function"&&E.willClose(_),se?tA(v,_,N,E.returnFocus,E.didClose):jw(v,N,E.returnFocus,E.didClose)},tA=function(v,_,E,N,se){!Mr||(H.swalCloseEventFinishedCallback=jw.bind(null,v,E,N,se),_.addEventListener(Mr,function(De){De.target===_&&(H.swalCloseEventFinishedCallback(),delete H.swalCloseEventFinishedCallback)}))},Yw=function(v,_){setTimeout(function(){typeof _=="function"&&_.bind(v.params)(),v._destroy&&v._destroy()})},wl=function(v){var _=I();if(_||new yd,_=I(),!!_){var E=je();Te()?X(O()):iA(_,v),D(E),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()}},iA=function(v,_){var E=Ve(),N=je();!E||!N||(!_&&Ge(le())&&(_=le()),D(E),_&&(X(_),N.setAttribute("data-button-to-replace",_.className),E.insertBefore(N,_)),ft([v,E],W.loading))},nA=function(v,_){_.input==="select"||_.input==="radio"?lA(v,_):["text","email","number","tel","textarea"].some(function(E){return E===_.input})&&(Yt(_.inputValue)||Zt(_.inputValue))&&(wl(le()),uA(v,_))},rA=function(v,_){var E=v.getInput();if(!E)return null;switch(_.input){case"checkbox":return oA(E);case"radio":return sA(E);case"file":return aA(E);default:return _.inputAutoTrim?E.value.trim():E.value}},oA=function(v){return v.checked?1:0},sA=function(v){return v.checked?v.value:null},aA=function(v){return v.files&&v.files.length?v.getAttribute("multiple")!==null?v.files:v.files[0]:null},lA=function(v,_){var E=I();if(!!E){var N=function(De){_.input==="select"?cA(E,Kw(De),_):_.input==="radio"&&hA(E,Kw(De),_)};Yt(_.inputOptions)||Zt(_.inputOptions)?(wl(le()),Si(_.inputOptions).then(function(se){v.hideLoading(),N(se)})):i(_.inputOptions)==="object"?N(_.inputOptions):yt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(i(_.inputOptions)))}},uA=function(v,_){var E=v.getInput();!E||(X(E),Si(_.inputValue).then(function(N){E.value=_.input==="number"?"".concat(parseFloat(N)||0):"".concat(N),D(E),E.focus(),v.hideLoading()}).catch(function(N){yt("Error in inputValue promise: ".concat(N)),E.value="",D(E),E.focus(),v.hideLoading()}))};function cA(x,v,_){var E=hi(x,W.select);if(!!E){var N=function(De,st,Ct){var oi=document.createElement("option");oi.value=Ct,rt(oi,st),oi.selected=Xw(Ct,_.inputValue),De.appendChild(oi)};v.forEach(function(se){var De=se[0],st=se[1];if(Array.isArray(st)){var Ct=document.createElement("optgroup");Ct.label=De,Ct.disabled=!1,E.appendChild(Ct),st.forEach(function(oi){return N(Ct,oi[1],oi[0])})}else N(E,st,De)}),E.focus()}}function hA(x,v,_){var E=hi(x,W.radio);if(!!E){v.forEach(function(se){var De=se[0],st=se[1],Ct=document.createElement("input"),oi=document.createElement("label");Ct.type="radio",Ct.name=W.radio,Ct.value=De,Xw(De,_.inputValue)&&(Ct.checked=!0);var dc=document.createElement("span");rt(dc,st),dc.className=W.label,oi.appendChild(Ct),oi.appendChild(dc),E.appendChild(oi)});var N=E.querySelectorAll("input");N.length&&N[0].focus()}}var Kw=function x(v){var _=[];return v instanceof Map?v.forEach(function(E,N){var se=E;i(se)==="object"&&(se=x(se)),_.push([N,se])}):Object.keys(v).forEach(function(E){var N=v[E];i(N)==="object"&&(N=x(N)),_.push([E,N])}),_},Xw=function(v,_){return!!_&&_.toString()===v.toString()},fd=void 0,dA=function(v){var _=Qt.innerParams.get(v);v.disableButtons(),_.input?qw(v,"confirm"):om(v,!0)},pA=function(v){var _=Qt.innerParams.get(v);v.disableButtons(),_.returnInputValueOnDeny?qw(v,"deny"):rm(v,!1)},fA=function(v,_){v.disableButtons(),_(yl.cancel)},qw=function(v,_){var E=Qt.innerParams.get(v);if(!E.input){yt('The "input" parameter is needed to be set when using returnInputValueOn'.concat($e(_)));return}var N=v.getInput(),se=rA(v,E);E.inputValidator?gA(v,se,_):N&&!N.checkValidity()?(v.enableButtons(),v.showValidationMessage(E.validationMessage)):_==="deny"?rm(v,se):om(v,se)},gA=function(v,_,E){var N=Qt.innerParams.get(v);v.disableInput();var se=Promise.resolve().then(function(){return Si(N.inputValidator(_,N.validationMessage))});se.then(function(De){v.enableButtons(),v.enableInput(),De?v.showValidationMessage(De):E==="deny"?rm(v,_):om(v,_)})},rm=function(v,_){var E=Qt.innerParams.get(v||fd);if(E.showLoaderOnDeny&&wl(ze()),E.preDeny){v.isAwaitingPromise=!0;var N=Promise.resolve().then(function(){return Si(E.preDeny(_,E.validationMessage))});N.then(function(se){se===!1?(v.hideLoading(),hc(v)):v.close({isDenied:!0,value:typeof se>"u"?_:se})}).catch(function(se){return Jw(v||fd,se)})}else v.close({isDenied:!0,value:_})},Zw=function(v,_){v.close({isConfirmed:!0,value:_})},Jw=function(v,_){v.rejectPromise(_)},om=function(v,_){var E=Qt.innerParams.get(v||fd);if(E.showLoaderOnConfirm&&wl(),E.preConfirm){v.resetValidationMessage(),v.isAwaitingPromise=!0;var N=Promise.resolve().then(function(){return Si(E.preConfirm(_,E.validationMessage))});N.then(function(se){Ge(be())||se===!1?(v.hideLoading(),hc(v)):Zw(v,typeof se>"u"?_:se)}).catch(function(se){return Jw(v||fd,se)})}else Zw(v,_)};function gd(){var x=Qt.innerParams.get(this);if(!!x){var v=Qt.domCache.get(this);X(v.loader),Te()?x.icon&&D(O()):mA(v),Xt([v.popup,v.actions],W.loading),v.popup.removeAttribute("aria-busy"),v.popup.removeAttribute("data-loading"),v.confirmButton.disabled=!1,v.denyButton.disabled=!1,v.cancelButton.disabled=!1}}var mA=function(v){var _=v.popup.getElementsByClassName(v.loader.getAttribute("data-button-to-replace"));_.length?D(_[0],"inline-block"):ot()&&X(v.actions)};function Qw(){var x=Qt.innerParams.get(this),v=Qt.domCache.get(this);return v?_t(v.popup,x.input):null}function e0(x,v,_){var E=Qt.domCache.get(x);v.forEach(function(N){E[N].disabled=_})}function t0(x,v){var _=I();if(!(!_||!x))if(x.type==="radio")for(var E=_.querySelectorAll('[name="'.concat(W.radio,'"]')),N=0;N<E.length;N++)E[N].disabled=v;else x.disabled=v}function i0(){e0(this,["confirmButton","denyButton","cancelButton"],!1)}function n0(){e0(this,["confirmButton","denyButton","cancelButton"],!0)}function r0(){t0(this.getInput(),!1)}function o0(){t0(this.getInput(),!0)}function s0(x){var v=Qt.domCache.get(this),_=Qt.innerParams.get(this);rt(v.validationMessage,x),v.validationMessage.className=W["validation-message"],_.customClass&&_.customClass.validationMessage&&ft(v.validationMessage,_.customClass.validationMessage),D(v.validationMessage);var E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",W["validation-message"]),Jt(E),ft(E,W.inputerror))}function a0(){var x=Qt.domCache.get(this);x.validationMessage&&X(x.validationMessage);var v=this.getInput();v&&(v.removeAttribute("aria-invalid"),v.removeAttribute("aria-describedby"),Xt(v,W.inputerror))}var Sl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},vA=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],yA={},_A=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],l0=function(v){return Object.prototype.hasOwnProperty.call(Sl,v)},u0=function(v){return vA.indexOf(v)!==-1},c0=function(v){return yA[v]},CA=function(v){l0(v)||xe('Unknown parameter "'.concat(v,'"'))},wA=function(v){_A.includes(v)&&xe('The parameter "'.concat(v,'" is incompatible with toasts'))},SA=function(v){var _=c0(v);_&&$t(v,_)},EA=function(v){v.backdrop===!1&&v.allowOutsideClick&&xe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var _ in v)CA(_),v.toast&&wA(_),SA(_)};function h0(x){var v=I(),_=Qt.innerParams.get(this);if(!v||ht(v,_.hideClass.popup)){xe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var E=xA(x),N=Object.assign({},_,E);Ww(this,N),Qt.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,x),writable:!1,enumerable:!0}})}var xA=function(v){var _={};return Object.keys(v).forEach(function(E){u0(E)?_[E]=v[E]:xe("Invalid parameter to update: ".concat(E))}),_};function d0(){var x=Qt.domCache.get(this),v=Qt.innerParams.get(this);if(!v){p0(this);return}x.popup&&H.swalCloseEventFinishedCallback&&(H.swalCloseEventFinishedCallback(),delete H.swalCloseEventFinishedCallback),typeof v.didDestroy=="function"&&v.didDestroy(),RA(this)}var RA=function(v){p0(v),delete v.params,delete H.keydownHandler,delete H.keydownTarget,delete H.currentInstance},p0=function(v){v.isAwaitingPromise?(sm(Qt,v),v.isAwaitingPromise=!0):(sm(_l,v),sm(Qt,v),delete v.isAwaitingPromise,delete v.disableButtons,delete v.enableButtons,delete v.getInput,delete v.disableInput,delete v.enableInput,delete v.hideLoading,delete v.disableLoading,delete v.showValidationMessage,delete v.resetValidationMessage,delete v.close,delete v.closePopup,delete v.closeModal,delete v.closeToast,delete v.rejectPromise,delete v.update,delete v._destroy)},sm=function(v,_){for(var E in v)v[E].delete(_)},bA=Object.freeze({__proto__:null,_destroy:d0,close:ls,closeModal:ls,closePopup:ls,closeToast:ls,disableButtons:n0,disableInput:o0,disableLoading:gd,enableButtons:i0,enableInput:r0,getInput:Qw,handleAwaitingPromise:hc,hideLoading:gd,rejectPromise:$w,resetValidationMessage:a0,showValidationMessage:s0,update:h0}),MA=function(v,_,E){v.toast?TA(v,_,E):(OA(_),AA(_),DA(v,_,E))},TA=function(v,_,E){_.popup.onclick=function(){v&&(PA(v)||v.timer||v.input)||E(yl.close)}},PA=function(v){return!!(v.showConfirmButton||v.showDenyButton||v.showCancelButton||v.showCloseButton)},md=!1,OA=function(v){v.popup.onmousedown=function(){v.container.onmouseup=function(_){v.container.onmouseup=function(){},_.target===v.container&&(md=!0)}}},AA=function(v){v.container.onmousedown=function(){v.popup.onmouseup=function(_){v.popup.onmouseup=function(){},(_.target===v.popup||_.target instanceof HTMLElement&&v.popup.contains(_.target))&&(md=!0)}}},DA=function(v,_,E){_.container.onclick=function(N){if(md){md=!1;return}N.target===_.container&&ii(v.allowOutsideClick)&&E(yl.backdrop)}},IA=function(v){return i(v)==="object"&&v.jquery},f0=function(v){return v instanceof Element||IA(v)},LA=function(v){var _={};return i(v[0])==="object"&&!f0(v[0])?Object.assign(_,v[0]):["title","html","icon"].forEach(function(E,N){var se=v[N];typeof se=="string"||f0(se)?_[E]=se:se!==void 0&&yt("Unexpected type of ".concat(E,'! Expected "string" or "Element", got ').concat(i(se)))}),_};function FA(){for(var x=this,v=arguments.length,_=new Array(v),E=0;E<v;E++)_[E]=arguments[E];return h(x,_)}function NA(x){var v=function(_){a(N,_);var E=f(N);function N(){return n(this,N),E.apply(this,arguments)}return s(N,[{key:"_main",value:function(De,st){return g(l(N.prototype),"_main",this).call(this,De,Object.assign({},x,st))}}]),N}(this);return v}var GA=function(){return H.timeout&&H.timeout.getTimerLeft()},g0=function(){if(H.timeout)return Rt(),H.timeout.stop()},m0=function(){if(H.timeout){var v=H.timeout.start();return At(v),v}},HA=function(){var v=H.timeout;return v&&(v.running?g0():m0())},WA=function(v){if(H.timeout){var _=H.timeout.increase(v);return At(_,!0),_}},VA=function(){return!!(H.timeout&&H.timeout.isRunning())},v0=!1,am={};function kA(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";am[x]=this,v0||(document.body.addEventListener("click",BA),v0=!0)}var BA=function(v){for(var _=v.target;_&&_!==document;_=_.parentNode)for(var E in am){var N=_.getAttribute(E);if(N){am[E].fire({template:N});return}}},UA=Object.freeze({__proto__:null,argsToParams:LA,bindClickHandler:kA,clickCancel:IO,clickConfirm:Vw,clickDeny:DO,enableLoading:wl,fire:FA,getActions:Ve,getCancelButton:Ae,getCloseButton:ni,getConfirmButton:le,getContainer:Qe,getDenyButton:ze,getFocusableElements:ae,getFooter:xt,getHtmlContainer:Ee,getIcon:O,getIconContent:oe,getImage:Me,getInputLabel:We,getLoader:je,getPopup:I,getProgressSteps:Ye,getTimerLeft:GA,getTimerProgressBar:Lt,getTitle:_e,getValidationMessage:be,increaseTimer:WA,isDeprecatedParameter:c0,isLoading:ke,isTimerRunning:VA,isUpdatableParameter:u0,isValidParameter:l0,isVisible:AO,mixin:NA,resumeTimer:m0,showLoading:wl,stopTimer:g0,toggleTimer:HA}),zA=function(){function x(v,_){n(this,x),this.callback=v,this.remaining=_,this.running=!1,this.start()}return s(x,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(_){var E=this.running;return E&&this.stop(),this.remaining+=_,E&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),x}(),y0=["swal-title","swal-html","swal-footer"],jA=function(v){var _=typeof v.template=="string"?document.querySelector(v.template):v.template;if(!_)return{};var E=_.content;QA(E);var N=Object.assign($A(E),YA(E),KA(E),XA(E),qA(E),ZA(E),JA(E,y0));return N},$A=function(v){var _={},E=Array.from(v.querySelectorAll("swal-param"));return E.forEach(function(N){pa(N,["name","value"]);var se=N.getAttribute("name"),De=N.getAttribute("value");typeof Sl[se]=="boolean"?_[se]=De!=="false":i(Sl[se])==="object"?_[se]=JSON.parse(De):_[se]=De}),_},YA=function(v){var _={},E=Array.from(v.querySelectorAll("swal-function-param"));return E.forEach(function(N){var se=N.getAttribute("name"),De=N.getAttribute("value");_[se]=new Function("return ".concat(De))()}),_},KA=function(v){var _={},E=Array.from(v.querySelectorAll("swal-button"));return E.forEach(function(N){pa(N,["type","color","aria-label"]);var se=N.getAttribute("type");_["".concat(se,"ButtonText")]=N.innerHTML,_["show".concat($e(se),"Button")]=!0,N.hasAttribute("color")&&(_["".concat(se,"ButtonColor")]=N.getAttribute("color")),N.hasAttribute("aria-label")&&(_["".concat(se,"ButtonAriaLabel")]=N.getAttribute("aria-label"))}),_},XA=function(v){var _={},E=v.querySelector("swal-image");return E&&(pa(E,["src","width","height","alt"]),E.hasAttribute("src")&&(_.imageUrl=E.getAttribute("src")),E.hasAttribute("width")&&(_.imageWidth=E.getAttribute("width")),E.hasAttribute("height")&&(_.imageHeight=E.getAttribute("height")),E.hasAttribute("alt")&&(_.imageAlt=E.getAttribute("alt"))),_},qA=function(v){var _={},E=v.querySelector("swal-icon");return E&&(pa(E,["type","color"]),E.hasAttribute("type")&&(_.icon=E.getAttribute("type")),E.hasAttribute("color")&&(_.iconColor=E.getAttribute("color")),_.iconHtml=E.innerHTML),_},ZA=function(v){var _={},E=v.querySelector("swal-input");E&&(pa(E,["type","label","placeholder","value"]),_.input=E.getAttribute("type")||"text",E.hasAttribute("label")&&(_.inputLabel=E.getAttribute("label")),E.hasAttribute("placeholder")&&(_.inputPlaceholder=E.getAttribute("placeholder")),E.hasAttribute("value")&&(_.inputValue=E.getAttribute("value")));var N=Array.from(v.querySelectorAll("swal-input-option"));return N.length&&(_.inputOptions={},N.forEach(function(se){pa(se,["value"]);var De=se.getAttribute("value"),st=se.innerHTML;_.inputOptions[De]=st})),_},JA=function(v,_){var E={};for(var N in _){var se=_[N],De=v.querySelector(se);De&&(pa(De,[]),E[se.replace(/^swal-/,"")]=De.innerHTML.trim())}return E},QA=function(v){var _=y0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(v.children).forEach(function(E){var N=E.tagName.toLowerCase();_.includes(N)||xe("Unrecognized element <".concat(N,">"))})},pa=function(v,_){Array.from(v.attributes).forEach(function(E){_.indexOf(E.name)===-1&&xe(['Unrecognized attribute "'.concat(E.name,'" on <').concat(v.tagName.toLowerCase(),">."),"".concat(_.length?"Allowed attributes are: ".concat(_.join(", ")):"To set the value, use HTML within the element.")])})},_0=10,eD=function(v){var _=Qe(),E=I();typeof v.willOpen=="function"&&v.willOpen(E);var N=window.getComputedStyle(document.body),se=N.overflowY;rD(_,E,v),setTimeout(function(){iD(_,E)},_0),ve()&&(nD(_,v.scrollbarPadding,se),kO()),!Te()&&!H.previousActiveElement&&(H.previousActiveElement=document.activeElement),typeof v.didOpen=="function"&&setTimeout(function(){return v.didOpen(E)}),Xt(_,W["no-transition"])},tD=function x(v){var _=I();if(!(v.target!==_||!Mr)){var E=Qe();_.removeEventListener(Mr,x),E.style.overflowY="auto"}},iD=function(v,_){Mr&&dt(_)?(v.style.overflowY="hidden",_.addEventListener(Mr,tD)):v.style.overflowY="auto"},nD=function(v,_,E){BO(),_&&E!=="hidden"&&XO(E),setTimeout(function(){v.scrollTop=0})},rD=function(v,_,E){ft(v,E.showClass.backdrop),E.animation?(_.style.setProperty("opacity","0","important"),D(_,"grid"),setTimeout(function(){ft(_,E.showClass.popup),_.style.removeProperty("opacity")},_0)):D(_,"grid"),ft([document.documentElement,document.body],W.shown),E.heightAuto&&E.backdrop&&!E.toast&&ft([document.documentElement,document.body],W["height-auto"])},C0={email:function(v,_){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(v)?Promise.resolve():Promise.resolve(_||"Invalid email address")},url:function(v,_){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(v)?Promise.resolve():Promise.resolve(_||"Invalid URL")}};function oD(x){x.inputValidator||(x.input==="email"&&(x.inputValidator=C0.email),x.input==="url"&&(x.inputValidator=C0.url))}function sD(x){(!x.target||typeof x.target=="string"&&!document.querySelector(x.target)||typeof x.target!="string"&&!x.target.appendChild)&&(xe('Target parameter is not valid, defaulting to "body"'),x.target="body")}function aD(x){oD(x),x.showLoaderOnConfirm&&!x.preConfirm&&xe(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),sD(x),typeof x.title=="string"&&(x.title=x.title.split(`
`).join("<br />")),mi(x)}var eo,vd=new WeakMap,xi=function(){function x(){if(n(this,x),ie(this,vd,{writable:!0,value:void 0}),!(typeof window>"u")){eo=this;for(var v=arguments.length,_=new Array(v),E=0;E<v;E++)_[E]=arguments[E];var N=Object.freeze(this.constructor.argsToParams(_));this.params=N,this.isAwaitingPromise=!1,j(this,vd,this._main(eo.params))}}return s(x,[{key:"_main",value:function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(EA(Object.assign({},E,_)),H.currentInstance){var N=_l.swalPromiseResolve.get(H.currentInstance),se=H.currentInstance.isAwaitingPromise;H.currentInstance._destroy(),se||N({isDismissed:!0}),ve()&&Uw()}H.currentInstance=eo;var De=uD(_,E);aD(De),Object.freeze(De),H.timeout&&(H.timeout.stop(),delete H.timeout),clearTimeout(H.restoreFocusTimeout);var st=cD(eo);return Ww(eo,De),Qt.innerParams.set(eo,De),lD(eo,st,De)}},{key:"then",value:function(_){return te(this,vd).then(_)}},{key:"finally",value:function(_){return te(this,vd).finally(_)}}]),x}(),lD=function(v,_,E){return new Promise(function(N,se){var De=function(Ct){v.close({isDismissed:!0,dismiss:Ct})};_l.swalPromiseResolve.set(v,N),_l.swalPromiseReject.set(v,se),_.confirmButton.onclick=function(){dA(v)},_.denyButton.onclick=function(){pA(v)},_.cancelButton.onclick=function(){fA(v,De)},_.closeButton.onclick=function(){De(yl.close)},MA(E,_,De),LO(H,E,De),nA(v,E),eD(E),hD(H,E,De),dD(_,E),setTimeout(function(){_.container.scrollTop=0})})},uD=function(v,_){var E=jA(v),N=Object.assign({},Sl,_,E,v);return N.showClass=Object.assign({},Sl.showClass,N.showClass),N.hideClass=Object.assign({},Sl.hideClass,N.hideClass),N.animation===!1&&(N.showClass={backdrop:"swal2-noanimation"},N.hideClass={}),N},cD=function(v){var _={popup:I(),container:Qe(),actions:Ve(),confirmButton:le(),denyButton:ze(),cancelButton:Ae(),loader:je(),closeButton:ni(),validationMessage:be(),progressSteps:Ye()};return Qt.domCache.set(v,_),_},hD=function(v,_,E){var N=Lt();X(N),_.timer&&(v.timeout=new zA(function(){E("timer"),delete v.timeout},_.timer),_.timerProgressBar&&(D(N),Ft(N,_,"timerProgressBar"),setTimeout(function(){v.timeout&&v.timeout.running&&At(_.timer)})))},dD=function(v,_){if(!_.toast){if(!ii(_.allowEnterKey)){fD();return}pD(v,_)||nm(-1,1)}},pD=function(v,_){return _.focusDeny&&Ge(v.denyButton)?(v.denyButton.focus(),!0):_.focusCancel&&Ge(v.cancelButton)?(v.cancelButton.focus(),!0):_.focusConfirm&&Ge(v.confirmButton)?(v.confirmButton.focus(),!0):!1},fD=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var w0=new Date,S0=localStorage.getItem("swal-initiation");S0?(w0.getTime()-Date.parse(S0))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var x=document.createElement("audio");x.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",x.loop=!0,document.body.appendChild(x),setTimeout(function(){x.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(w0))}xi.prototype.disableButtons=n0,xi.prototype.enableButtons=i0,xi.prototype.getInput=Qw,xi.prototype.disableInput=o0,xi.prototype.enableInput=r0,xi.prototype.hideLoading=gd,xi.prototype.disableLoading=gd,xi.prototype.showValidationMessage=s0,xi.prototype.resetValidationMessage=a0,xi.prototype.close=ls,xi.prototype.closePopup=ls,xi.prototype.closeModal=ls,xi.prototype.closeToast=ls,xi.prototype.rejectPromise=$w,xi.prototype.update=h0,xi.prototype._destroy=d0,Object.assign(xi,UA),Object.keys(bA).forEach(function(x){xi[x]=function(){if(eo&&eo[x]){var v;return(v=eo)[x].apply(v,arguments)}return null}}),xi.DismissReason=yl,xi.version="11.10.1";var yd=xi;return yd.default=yd,yd}),typeof us<"u"&&us.Sweetalert2&&(us.swal=us.sweetAlert=us.Swal=us.SweetAlert=us.Sweetalert2),typeof document<"u"&&function(t,i){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=i);else try{n.innerHTML=i}catch{n.innerText=i}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(fM);const oh=fM.exports,qh=400;function qr(){let r=window.location.href,e=new URL(r);return new URLSearchParams(e.search).get("project")}function Iy(){let r=window.location.href,e=new URL(r);return new URLSearchParams(e.search).get("year")}function DG(r,e,t,i){var n=6378.137,o=t*Math.PI/180-r*Math.PI/180,s=i*Math.PI/180-e*Math.PI/180,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(r*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),u=n*l;return u*1e3}const xo=oh.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",oh.stopTimer),r.addEventListener("mouseleave",oh.resumeTimer)}}),wf=new ta({source:new ia,zIndex:100,style:function(r){return mM[r.getGeometry().getType()]}});function gM(r,e){return`${r.replaceAll("WMS","WFS")}&version=1.1.0&request=GetFeature&typeName=${e}&styles=&outputFormat=application/json`}function IG(r,e,t){const i="0",n=e.getCode().split(/:(?=\d+$)/).pop();return t+"/"+i+"/query/?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent('{"xmin":'+r[0]+',"ymin":'+r[1]+',"xmax":'+r[2]+',"ymax":'+r[3]+',"spatialReference":{"wkid":'+n+"}}")+"&geometryType=esriGeometryEnvelope&inSR="+n+"&outFields=*&outSR="+n}new Br({fill:new wr({color:"rgba(255, 255, 0, 0.7)"}),stroke:new qn({color:"yellow",width:4})});const mM={Point:new Br({image:new $h({radius:5,fill:new wr({color:"red"}),stroke:new qn({color:"red",width:1})})}),MultiLineString:new Br({stroke:new qn({color:"#dc3545",width:4})}),MultiPolygon:new Br({stroke:new qn({color:"red",width:2}),fill:new wr({color:"rgba(255, 255, 0, 0.1)"})}),Polygon:new Br({stroke:new qn({color:"red",width:2}),fill:new wr({color:"rgba(255, 255, 0, 0.1)"})})};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const OC="146",LG=0,RS=1,FG=2,vM=1,NG=2,jc=3,Mu=0,Sr=1,pn=2,$s=0,vu=1,bS=2,MS=3,TS=4,GG=5,Ql=100,HG=101,WG=102,PS=103,OS=104,VG=200,kG=201,BG=202,UG=203,yM=204,_M=205,zG=206,jG=207,$G=208,YG=209,KG=210,XG=0,qG=1,ZG=2,Ly=3,JG=4,QG=5,e2=6,t2=7,CM=0,i2=1,n2=2,es=0,r2=1,o2=2,s2=3,a2=4,l2=5,wM=300,Tu=301,Pu=302,Fy=303,Ny=304,Mg=306,Gy=1e3,Gr=1001,Hy=1002,Gn=1003,AS=1004,DS=1005,gr=1006,u2=1007,Tg=1008,tl=1009,c2=1010,h2=1011,SM=1012,d2=1013,Ga=1014,Ha=1015,Oh=1016,p2=1017,f2=1018,yu=1020,g2=1021,m2=1022,Hr=1023,v2=1024,y2=1025,ja=1026,Ou=1027,_2=1028,C2=1029,w2=1030,S2=1031,E2=1033,Mm=33776,Tm=33777,Pm=33778,Om=33779,IS=35840,LS=35841,FS=35842,NS=35843,x2=36196,GS=37492,HS=37496,WS=37808,VS=37809,kS=37810,BS=37811,US=37812,zS=37813,jS=37814,$S=37815,YS=37816,KS=37817,XS=37818,qS=37819,ZS=37820,JS=37821,QS=36492,il=3e3,yi=3001,R2=3200,b2=3201,M2=0,T2=1,zo="srgb",Wa="srgb-linear",Am=7680,P2=519,eE=35044,tE="300 es",Wy=1035;class Ju{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const n=i.slice(0);for(let o=0,s=n.length;o<s;o++)n[o].call(this,e);e.target=null}}}const sn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let iE=1234567;const _u=Math.PI/180,Sf=180/Math.PI;function Qu(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(sn[r&255]+sn[r>>8&255]+sn[r>>16&255]+sn[r>>24&255]+"-"+sn[e&255]+sn[e>>8&255]+"-"+sn[e>>16&15|64]+sn[e>>24&255]+"-"+sn[t&63|128]+sn[t>>8&255]+"-"+sn[t>>16&255]+sn[t>>24&255]+sn[i&255]+sn[i>>8&255]+sn[i>>16&255]+sn[i>>24&255]).toLowerCase()}function Hn(r,e,t){return Math.max(e,Math.min(t,r))}function AC(r,e){return(r%e+e)%e}function O2(r,e,t,i,n){return i+(r-e)*(n-i)/(t-e)}function A2(r,e,t){return r!==e?(t-r)/(e-r):0}function sh(r,e,t){return(1-t)*r+t*e}function D2(r,e,t,i){return sh(r,e,1-Math.exp(-t*i))}function I2(r,e=1){return e-Math.abs(AC(r,e*2)-e)}function L2(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function F2(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function N2(r,e){return r+Math.floor(Math.random()*(e-r+1))}function G2(r,e){return r+Math.random()*(e-r)}function H2(r){return r*(.5-Math.random())}function W2(r){r!==void 0&&(iE=r);let e=iE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function V2(r){return r*_u}function k2(r){return r*Sf}function Vy(r){return(r&r-1)===0&&r!==0}function B2(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Ef(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function U2(r,e,t,i,n){const o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),u=o((e+i)/2),c=s((e+i)/2),h=o((e-i)/2),d=s((e-i)/2),p=o((i-e)/2),f=s((i-e)/2);switch(n){case"XYX":r.set(a*c,l*h,l*d,a*u);break;case"YZY":r.set(l*d,a*c,l*h,a*u);break;case"ZXZ":r.set(l*h,l*d,a*c,a*u);break;case"XZX":r.set(a*c,l*f,l*p,a*u);break;case"YXY":r.set(l*p,a*c,l*f,a*u);break;case"ZYZ":r.set(l*f,l*p,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function $c(r,e){switch(e.constructor){case Float32Array:return r;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function In(r,e){switch(e.constructor){case Float32Array:return r;case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}var ky=Object.freeze({__proto__:null,DEG2RAD:_u,RAD2DEG:Sf,generateUUID:Qu,clamp:Hn,euclideanModulo:AC,mapLinear:O2,inverseLerp:A2,lerp:sh,damp:D2,pingpong:I2,smoothstep:L2,smootherstep:F2,randInt:N2,randFloat:G2,randFloatSpread:H2,seededRandom:W2,degToRad:V2,radToDeg:k2,isPowerOfTwo:Vy,ceilPowerOfTwo:B2,floorPowerOfTwo:Ef,setQuaternionFromProperEuler:U2,normalize:In,denormalize:$c});class jt{constructor(e=0,t=0){jt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),n=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*i-s*n+e.x,this.y=o*n+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _r{constructor(){_r.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,n,o,s,a,l,u){const c=this.elements;return c[0]=e,c[1]=n,c[2]=a,c[3]=t,c[4]=o,c[5]=l,c[6]=i,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,o=this.elements,s=i[0],a=i[3],l=i[6],u=i[1],c=i[4],h=i[7],d=i[2],p=i[5],f=i[8],m=n[0],g=n[3],y=n[6],C=n[1],w=n[4],S=n[7],b=n[2],T=n[5],F=n[8];return o[0]=s*m+a*C+l*b,o[3]=s*g+a*w+l*T,o[6]=s*y+a*S+l*F,o[1]=u*m+c*C+h*b,o[4]=u*g+c*w+h*T,o[7]=u*y+c*S+h*F,o[2]=d*m+p*C+f*b,o[5]=d*g+p*w+f*T,o[8]=d*y+p*S+f*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*s*c-t*a*u-i*o*c+i*a*l+n*o*u-n*s*l}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=c*s-a*u,d=a*l-c*o,p=u*o-s*l,f=t*h+i*d+n*p;if(f===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/f;return e[0]=h*m,e[1]=(n*u-c*i)*m,e[2]=(a*i-n*s)*m,e[3]=d*m,e[4]=(c*t-n*l)*m,e[5]=(n*o-a*t)*m,e[6]=p*m,e[7]=(i*l-u*t)*m,e[8]=(s*t-i*o)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,o,s,a){const l=Math.cos(o),u=Math.sin(o);return this.set(i*l,i*u,-i*(l*s+u*a)+s+e,-n*u,n*l,-n*(-u*s+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),n=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],u=n[4],c=n[7];return n[0]=t*o+i*l,n[3]=t*s+i*u,n[6]=t*a+i*c,n[1]=-i*o+t*l,n[4]=-i*s+t*u,n[7]=-i*a+t*c,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function EM(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}function Ah(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function $a(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function jp(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}const Dm={[zo]:{[Wa]:$a},[Wa]:{[zo]:jp}},Or={legacyMode:!0,get workingColorSpace(){return Wa},set workingColorSpace(r){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(r,e,t){if(this.legacyMode||e===t||!e||!t)return r;if(Dm[e]&&Dm[e][t]!==void 0){const i=Dm[e][t];return r.r=i(r.r),r.g=i(r.g),r.b=i(r.b),r}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(r,e){return this.convert(r,this.workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this.workingColorSpace)}},xM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ii={r:0,g:0,b:0},Ar={h:0,s:0,l:0},Vd={h:0,s:0,l:0};function Im(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}function kd(r,e){return e.r=r.r,e.g=r.g,e.b=r.b,e}class ai{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=zo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Or.toWorkingColorSpace(this,t),this}setRGB(e,t,i,n=Wa){return this.r=e,this.g=t,this.b=i,Or.toWorkingColorSpace(this,n),this}setHSL(e,t,i,n=Wa){if(e=AC(e,1),t=Hn(t,0,1),i=Hn(i,0,1),t===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+t):i+t-i*t,s=2*i-o;this.r=Im(s,o,e+1/3),this.g=Im(s,o,e),this.b=Im(s,o,e-1/3)}return Or.toWorkingColorSpace(this,n),this}setStyle(e,t=zo){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const s=n[1],a=n[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,Or.toWorkingColorSpace(this,t),i(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,Or.toWorkingColorSpace(this,t),i(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,u=parseFloat(o[2])/100,c=parseFloat(o[3])/100;return i(o[4]),this.setHSL(l,u,c,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=n[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,Or.toWorkingColorSpace(this,t),this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,Or.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=zo){const i=xM[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$a(e.r),this.g=$a(e.g),this.b=$a(e.b),this}copyLinearToSRGB(e){return this.r=jp(e.r),this.g=jp(e.g),this.b=jp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zo){return Or.fromWorkingColorSpace(kd(this,Ii),e),Hn(Ii.r*255,0,255)<<16^Hn(Ii.g*255,0,255)<<8^Hn(Ii.b*255,0,255)<<0}getHexString(e=zo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wa){Or.fromWorkingColorSpace(kd(this,Ii),t);const i=Ii.r,n=Ii.g,o=Ii.b,s=Math.max(i,n,o),a=Math.min(i,n,o);let l,u;const c=(a+s)/2;if(a===s)l=0,u=0;else{const h=s-a;switch(u=c<=.5?h/(s+a):h/(2-s-a),s){case i:l=(n-o)/h+(n<o?6:0);break;case n:l=(o-i)/h+2;break;case o:l=(i-n)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Wa){return Or.fromWorkingColorSpace(kd(this,Ii),t),e.r=Ii.r,e.g=Ii.g,e.b=Ii.b,e}getStyle(e=zo){return Or.fromWorkingColorSpace(kd(this,Ii),e),e!==zo?`color(${e} ${Ii.r} ${Ii.g} ${Ii.b})`:`rgb(${Ii.r*255|0},${Ii.g*255|0},${Ii.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Ar),Ar.h+=e,Ar.s+=t,Ar.l+=i,this.setHSL(Ar.h,Ar.s,Ar.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ar),e.getHSL(Vd);const i=sh(Ar.h,Vd.h,t),n=sh(Ar.s,Vd.s,t),o=sh(Ar.l,Vd.l,t);return this.setHSL(i,n,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}ai.NAMES=xM;let Ml;class RM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ml===void 0&&(Ml=Ah("canvas")),Ml.width=e.width,Ml.height=e.height;const i=Ml.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Ml}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ah("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),o=n.data;for(let s=0;s<o.length;s++)o[s]=$a(o[s]/255)*255;return i.putImageData(n,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor($a(t[i]/255)*255):t[i]=$a(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class bM{constructor(e=null){this.isSource=!0,this.uuid=Qu(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let o;if(Array.isArray(n)){o=[];for(let s=0,a=n.length;s<a;s++)n[s].isDataTexture?o.push(Lm(n[s].image)):o.push(Lm(n[s]))}else o=Lm(n);i.url=o}return t||(e.images[this.uuid]=i),i}}function Lm(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?RM.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let z2=0;class xr extends Ju{constructor(e=xr.DEFAULT_IMAGE,t=xr.DEFAULT_MAPPING,i=Gr,n=Gr,o=gr,s=Tg,a=Hr,l=tl,u=1,c=il){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:z2++}),this.uuid=Qu(),this.name="",this.source=new bM(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=n,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new jt(0,0),this.repeat=new jt(1,1),this.center=new jt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _r,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==wM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Gy:e.x=e.x-Math.floor(e.x);break;case Gr:e.x=e.x<0?0:1;break;case Hy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Gy:e.y=e.y-Math.floor(e.y);break;case Gr:e.y=e.y<0?0:1;break;case Hy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}xr.DEFAULT_IMAGE=null;xr.DEFAULT_MAPPING=wM;class tn{constructor(e=0,t=0,i=0,n=1){tn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*n+s[12]*o,this.y=s[1]*t+s[5]*i+s[9]*n+s[13]*o,this.z=s[2]*t+s[6]*i+s[10]*n+s[14]*o,this.w=s[3]*t+s[7]*i+s[11]*n+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,o;const l=e.elements,u=l[0],c=l[4],h=l[8],d=l[1],p=l[5],f=l[9],m=l[2],g=l[6],y=l[10];if(Math.abs(c-d)<.01&&Math.abs(h-m)<.01&&Math.abs(f-g)<.01){if(Math.abs(c+d)<.1&&Math.abs(h+m)<.1&&Math.abs(f+g)<.1&&Math.abs(u+p+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(u+1)/2,S=(p+1)/2,b=(y+1)/2,T=(c+d)/4,F=(h+m)/4,R=(f+g)/4;return w>S&&w>b?w<.01?(i=0,n=.707106781,o=.707106781):(i=Math.sqrt(w),n=T/i,o=F/i):S>b?S<.01?(i=.707106781,n=0,o=.707106781):(n=Math.sqrt(S),i=T/n,o=R/n):b<.01?(i=.707106781,n=.707106781,o=0):(o=Math.sqrt(b),i=F/o,n=R/o),this.set(i,n,o,t),this}let C=Math.sqrt((g-f)*(g-f)+(h-m)*(h-m)+(d-c)*(d-c));return Math.abs(C)<.001&&(C=1),this.x=(g-f)/C,this.y=(h-m)/C,this.z=(d-c)/C,this.w=Math.acos((u+p+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nl extends Ju{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new tn(0,0,e,t),this.scissorTest=!1,this.viewport=new tn(0,0,e,t);const n={width:e,height:t,depth:1};this.texture=new xr(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:gr,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new bM(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class MM extends xr{constructor(e=null,t=1,i=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Gn,this.minFilter=Gn,this.wrapR=Gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class j2 extends xr{constructor(e=null,t=1,i=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Gn,this.minFilter=Gn,this.wrapR=Gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zh{constructor(e=0,t=0,i=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=n}static slerpFlat(e,t,i,n,o,s,a){let l=i[n+0],u=i[n+1],c=i[n+2],h=i[n+3];const d=o[s+0],p=o[s+1],f=o[s+2],m=o[s+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=f,e[t+3]=m;return}if(h!==m||l!==d||u!==p||c!==f){let g=1-a;const y=l*d+u*p+c*f+h*m,C=y>=0?1:-1,w=1-y*y;if(w>Number.EPSILON){const b=Math.sqrt(w),T=Math.atan2(b,y*C);g=Math.sin(g*T)/b,a=Math.sin(a*T)/b}const S=a*C;if(l=l*g+d*S,u=u*g+p*S,c=c*g+f*S,h=h*g+m*S,g===1-a){const b=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=b,u*=b,c*=b,h*=b}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,n,o,s){const a=i[n],l=i[n+1],u=i[n+2],c=i[n+3],h=o[s],d=o[s+1],p=o[s+2],f=o[s+3];return e[t]=a*f+c*h+l*p-u*d,e[t+1]=l*f+c*d+u*h-a*p,e[t+2]=u*f+c*p+a*d-l*h,e[t+3]=c*f-a*h-l*d-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,n=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(i/2),c=a(n/2),h=a(o/2),d=l(i/2),p=l(n/2),f=l(o/2);switch(s){case"XYZ":this._x=d*c*h+u*p*f,this._y=u*p*h-d*c*f,this._z=u*c*f+d*p*h,this._w=u*c*h-d*p*f;break;case"YXZ":this._x=d*c*h+u*p*f,this._y=u*p*h-d*c*f,this._z=u*c*f-d*p*h,this._w=u*c*h+d*p*f;break;case"ZXY":this._x=d*c*h-u*p*f,this._y=u*p*h+d*c*f,this._z=u*c*f+d*p*h,this._w=u*c*h-d*p*f;break;case"ZYX":this._x=d*c*h-u*p*f,this._y=u*p*h+d*c*f,this._z=u*c*f-d*p*h,this._w=u*c*h+d*p*f;break;case"YZX":this._x=d*c*h+u*p*f,this._y=u*p*h+d*c*f,this._z=u*c*f-d*p*h,this._w=u*c*h-d*p*f;break;case"XZY":this._x=d*c*h-u*p*f,this._y=u*p*h-d*c*f,this._z=u*c*f+d*p*h,this._w=u*c*h+d*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],n=t[4],o=t[8],s=t[1],a=t[5],l=t[9],u=t[2],c=t[6],h=t[10],d=i+a+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-l)*p,this._y=(o-u)*p,this._z=(s-n)*p}else if(i>a&&i>h){const p=2*Math.sqrt(1+i-a-h);this._w=(c-l)/p,this._x=.25*p,this._y=(n+s)/p,this._z=(o+u)/p}else if(a>h){const p=2*Math.sqrt(1+a-i-h);this._w=(o-u)/p,this._x=(n+s)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+h-i-a);this._w=(s-n)/p,this._x=(o+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Hn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,n=e._y,o=e._z,s=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=i*c+s*a+n*u-o*l,this._y=n*c+s*l+o*a-i*u,this._z=o*c+s*u+i*l-n*a,this._w=s*c-i*a-n*l-o*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,n=this._y,o=this._z,s=this._w;let a=s*e._w+i*e._x+n*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=i,this._y=n,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*s+t*this._w,this._x=p*i+t*this._x,this._y=p*n+t*this._y,this._z=p*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=s*h+this._w*d,this._x=i*h+this._x*d,this._y=n*h+this._y*d,this._z=o*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),n=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(n),i*Math.sin(o),i*Math.cos(o),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,i=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(nE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(nE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,n=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*n,this.y=o[1]*t+o[4]*i+o[7]*n,this.z=o[2]*t+o[5]*i+o[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,o=e.elements,s=1/(o[3]*t+o[7]*i+o[11]*n+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*n+o[12])*s,this.y=(o[1]*t+o[5]*i+o[9]*n+o[13])*s,this.z=(o[2]*t+o[6]*i+o[10]*n+o[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,n=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=l*t+s*n-a*i,c=l*i+a*t-o*n,h=l*n+o*i-s*t,d=-o*t-s*i-a*n;return this.x=u*l+d*-o+c*-a-h*-s,this.y=c*l+d*-s+h*-o-u*-a,this.z=h*l+d*-a+u*-s-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,n=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*n,this.y=o[1]*t+o[5]*i+o[9]*n,this.z=o[2]*t+o[6]*i+o[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,n=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=n*l-o*a,this.y=o*s-i*l,this.z=i*a-n*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Fm.copy(this).projectOnVector(e),this.sub(Fm)}reflect(e){return this.sub(Fm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fm=new ee,nE=new Zh;class Jh{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,n=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],h=e[l+1],d=e[l+2];c<t&&(t=c),h<i&&(i=h),d<n&&(n=d),c>o&&(o=c),h>s&&(s=h),d>a&&(a=d)}return this.min.set(t,i,n),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,n=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),h=e.getY(l),d=e.getZ(l);c<t&&(t=c),h<i&&(i=h),d<n&&(n=d),c>o&&(o=c),h>s&&(s=h),d>a&&(a=d)}return this.min.set(t,i,n),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ma.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const o=i.attributes.position;for(let s=0,a=o.count;s<a;s++)ma.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(ma)}else i.boundingBox===null&&i.computeBoundingBox(),Nm.copy(i.boundingBox),Nm.applyMatrix4(e.matrixWorld),this.union(Nm);const n=e.children;for(let o=0,s=n.length;o<s;o++)this.expandByObject(n[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ma),ma.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gc),Bd.subVectors(this.max,gc),Tl.subVectors(e.a,gc),Pl.subVectors(e.b,gc),Ol.subVectors(e.c,gc),fs.subVectors(Pl,Tl),gs.subVectors(Ol,Pl),va.subVectors(Tl,Ol);let t=[0,-fs.z,fs.y,0,-gs.z,gs.y,0,-va.z,va.y,fs.z,0,-fs.x,gs.z,0,-gs.x,va.z,0,-va.x,-fs.y,fs.x,0,-gs.y,gs.x,0,-va.y,va.x,0];return!Gm(t,Tl,Pl,Ol,Bd)||(t=[1,0,0,0,1,0,0,0,1],!Gm(t,Tl,Pl,Ol,Bd))?!1:(Ud.crossVectors(fs,gs),t=[Ud.x,Ud.y,Ud.z],Gm(t,Tl,Pl,Ol,Bd))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ma.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ma).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Io[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Io[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Io[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Io[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Io[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Io[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Io[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Io[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Io),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Io=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],ma=new ee,Nm=new Jh,Tl=new ee,Pl=new ee,Ol=new ee,fs=new ee,gs=new ee,va=new ee,gc=new ee,Bd=new ee,Ud=new ee,ya=new ee;function Gm(r,e,t,i,n){for(let o=0,s=r.length-3;o<=s;o+=3){ya.fromArray(r,o);const a=n.x*Math.abs(ya.x)+n.y*Math.abs(ya.y)+n.z*Math.abs(ya.z),l=e.dot(ya),u=t.dot(ya),c=i.dot(ya);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const $2=new Jh,mc=new ee,Hm=new ee;class Pg{constructor(e=new ee,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):$2.setFromPoints(e).getCenter(i);let n=0;for(let o=0,s=e.length;o<s;o++)n=Math.max(n,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mc.subVectors(e,this.center);const t=mc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),n=(i-this.radius)*.5;this.center.addScaledVector(mc,n/i),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Hm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mc.copy(e.center).add(Hm)),this.expandByPoint(mc.copy(e.center).sub(Hm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Lo=new ee,Wm=new ee,zd=new ee,ms=new ee,Vm=new ee,jd=new ee,km=new ee;class DC{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lo.copy(this.direction).multiplyScalar(t).add(this.origin),Lo.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){Wm.copy(e).add(t).multiplyScalar(.5),zd.copy(t).sub(e).normalize(),ms.copy(this.origin).sub(Wm);const o=e.distanceTo(t)*.5,s=-this.direction.dot(zd),a=ms.dot(this.direction),l=-ms.dot(zd),u=ms.lengthSq(),c=Math.abs(1-s*s);let h,d,p,f;if(c>0)if(h=s*l-a,d=s*a-l,f=o*c,h>=0)if(d>=-f)if(d<=f){const m=1/c;h*=m,d*=m,p=h*(h+s*d+2*a)+d*(s*h+d+2*l)+u}else d=o,h=Math.max(0,-(s*d+a)),p=-h*h+d*(d+2*l)+u;else d=-o,h=Math.max(0,-(s*d+a)),p=-h*h+d*(d+2*l)+u;else d<=-f?(h=Math.max(0,-(-s*o+a)),d=h>0?-o:Math.min(Math.max(-o,-l),o),p=-h*h+d*(d+2*l)+u):d<=f?(h=0,d=Math.min(Math.max(-o,-l),o),p=d*(d+2*l)+u):(h=Math.max(0,-(s*o+a)),d=h>0?o:Math.min(Math.max(-o,-l),o),p=-h*h+d*(d+2*l)+u);else d=s>0?-o:o,h=Math.max(0,-(s*d+a)),p=-h*h+d*(d+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),n&&n.copy(zd).multiplyScalar(d).add(Wm),p}intersectSphere(e,t){Lo.subVectors(e.center,this.origin);const i=Lo.dot(this.direction),n=Lo.dot(Lo)-i*i,o=e.radius*e.radius;if(n>o)return null;const s=Math.sqrt(o-n),a=i-s,l=i+s;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,o,s,a,l;const u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;return u>=0?(i=(e.min.x-d.x)*u,n=(e.max.x-d.x)*u):(i=(e.max.x-d.x)*u,n=(e.min.x-d.x)*u),c>=0?(o=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),i>s||o>n||((o>i||isNaN(i))&&(i=o),(s<n||isNaN(n))&&(n=s),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),i>l||a>n)||((a>i||i!==i)&&(i=a),(l<n||n!==n)&&(n=l),n<0)?null:this.at(i>=0?i:n,t)}intersectsBox(e){return this.intersectBox(e,Lo)!==null}intersectTriangle(e,t,i,n,o){Vm.subVectors(t,e),jd.subVectors(i,e),km.crossVectors(Vm,jd);let s=this.direction.dot(km),a;if(s>0){if(n)return null;a=1}else if(s<0)a=-1,s=-s;else return null;ms.subVectors(this.origin,e);const l=a*this.direction.dot(jd.crossVectors(ms,jd));if(l<0)return null;const u=a*this.direction.dot(Vm.cross(ms));if(u<0||l+u>s)return null;const c=-a*ms.dot(km);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yi{constructor(){Yi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,n,o,s,a,l,u,c,h,d,p,f,m,g){const y=this.elements;return y[0]=e,y[4]=t,y[8]=i,y[12]=n,y[1]=o,y[5]=s,y[9]=a,y[13]=l,y[2]=u,y[6]=c,y[10]=h,y[14]=d,y[3]=p,y[7]=f,y[11]=m,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yi().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,n=1/Al.setFromMatrixColumn(e,0).length(),o=1/Al.setFromMatrixColumn(e,1).length(),s=1/Al.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,n=e.y,o=e.z,s=Math.cos(i),a=Math.sin(i),l=Math.cos(n),u=Math.sin(n),c=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){const d=s*c,p=s*h,f=a*c,m=a*h;t[0]=l*c,t[4]=-l*h,t[8]=u,t[1]=p+f*u,t[5]=d-m*u,t[9]=-a*l,t[2]=m-d*u,t[6]=f+p*u,t[10]=s*l}else if(e.order==="YXZ"){const d=l*c,p=l*h,f=u*c,m=u*h;t[0]=d+m*a,t[4]=f*a-p,t[8]=s*u,t[1]=s*h,t[5]=s*c,t[9]=-a,t[2]=p*a-f,t[6]=m+d*a,t[10]=s*l}else if(e.order==="ZXY"){const d=l*c,p=l*h,f=u*c,m=u*h;t[0]=d-m*a,t[4]=-s*h,t[8]=f+p*a,t[1]=p+f*a,t[5]=s*c,t[9]=m-d*a,t[2]=-s*u,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const d=s*c,p=s*h,f=a*c,m=a*h;t[0]=l*c,t[4]=f*u-p,t[8]=d*u+m,t[1]=l*h,t[5]=m*u+d,t[9]=p*u-f,t[2]=-u,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const d=s*l,p=s*u,f=a*l,m=a*u;t[0]=l*c,t[4]=m-d*h,t[8]=f*h+p,t[1]=h,t[5]=s*c,t[9]=-a*c,t[2]=-u*c,t[6]=p*h+f,t[10]=d-m*h}else if(e.order==="XZY"){const d=s*l,p=s*u,f=a*l,m=a*u;t[0]=l*c,t[4]=-h,t[8]=u*c,t[1]=d*h+m,t[5]=s*c,t[9]=p*h-f,t[2]=f*h-p,t[6]=a*c,t[10]=m*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Y2,e,K2)}lookAt(e,t,i){const n=this.elements;return Un.subVectors(e,t),Un.lengthSq()===0&&(Un.z=1),Un.normalize(),vs.crossVectors(i,Un),vs.lengthSq()===0&&(Math.abs(i.z)===1?Un.x+=1e-4:Un.z+=1e-4,Un.normalize(),vs.crossVectors(i,Un)),vs.normalize(),$d.crossVectors(Un,vs),n[0]=vs.x,n[4]=$d.x,n[8]=Un.x,n[1]=vs.y,n[5]=$d.y,n[9]=Un.y,n[2]=vs.z,n[6]=$d.z,n[10]=Un.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,o=this.elements,s=i[0],a=i[4],l=i[8],u=i[12],c=i[1],h=i[5],d=i[9],p=i[13],f=i[2],m=i[6],g=i[10],y=i[14],C=i[3],w=i[7],S=i[11],b=i[15],T=n[0],F=n[4],R=n[8],P=n[12],G=n[1],q=n[5],te=n[9],j=n[13],Y=n[2],U=n[6],Z=n[10],J=n[14],ie=n[3],K=n[7],H=n[11],ge=n[15];return o[0]=s*T+a*G+l*Y+u*ie,o[4]=s*F+a*q+l*U+u*K,o[8]=s*R+a*te+l*Z+u*H,o[12]=s*P+a*j+l*J+u*ge,o[1]=c*T+h*G+d*Y+p*ie,o[5]=c*F+h*q+d*U+p*K,o[9]=c*R+h*te+d*Z+p*H,o[13]=c*P+h*j+d*J+p*ge,o[2]=f*T+m*G+g*Y+y*ie,o[6]=f*F+m*q+g*U+y*K,o[10]=f*R+m*te+g*Z+y*H,o[14]=f*P+m*j+g*J+y*ge,o[3]=C*T+w*G+S*Y+b*ie,o[7]=C*F+w*q+S*U+b*K,o[11]=C*R+w*te+S*Z+b*H,o[15]=C*P+w*j+S*J+b*ge,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],n=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],c=e[2],h=e[6],d=e[10],p=e[14],f=e[3],m=e[7],g=e[11],y=e[15];return f*(+o*l*h-n*u*h-o*a*d+i*u*d+n*a*p-i*l*p)+m*(+t*l*p-t*u*d+o*s*d-n*s*p+n*u*c-o*l*c)+g*(+t*u*h-t*a*p-o*s*h+i*s*p+o*a*c-i*u*c)+y*(-n*a*c-t*l*h+t*a*d+n*s*h-i*s*d+i*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],C=h*g*u-m*d*u+m*l*p-a*g*p-h*l*y+a*d*y,w=f*d*u-c*g*u-f*l*p+s*g*p+c*l*y-s*d*y,S=c*m*u-f*h*u+f*a*p-s*m*p-c*a*y+s*h*y,b=f*h*l-c*m*l-f*a*d+s*m*d+c*a*g-s*h*g,T=t*C+i*w+n*S+o*b;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/T;return e[0]=C*F,e[1]=(m*d*o-h*g*o-m*n*p+i*g*p+h*n*y-i*d*y)*F,e[2]=(a*g*o-m*l*o+m*n*u-i*g*u-a*n*y+i*l*y)*F,e[3]=(h*l*o-a*d*o-h*n*u+i*d*u+a*n*p-i*l*p)*F,e[4]=w*F,e[5]=(c*g*o-f*d*o+f*n*p-t*g*p-c*n*y+t*d*y)*F,e[6]=(f*l*o-s*g*o-f*n*u+t*g*u+s*n*y-t*l*y)*F,e[7]=(s*d*o-c*l*o+c*n*u-t*d*u-s*n*p+t*l*p)*F,e[8]=S*F,e[9]=(f*h*o-c*m*o-f*i*p+t*m*p+c*i*y-t*h*y)*F,e[10]=(s*m*o-f*a*o+f*i*u-t*m*u-s*i*y+t*a*y)*F,e[11]=(c*a*o-s*h*o-c*i*u+t*h*u+s*i*p-t*a*p)*F,e[12]=b*F,e[13]=(c*m*n-f*h*n+f*i*d-t*m*d-c*i*g+t*h*g)*F,e[14]=(f*a*n-s*m*n-f*i*l+t*m*l+s*i*g-t*a*g)*F,e[15]=(s*h*n-c*a*n+c*i*l-t*h*l-s*i*d+t*a*d)*F,this}scale(e){const t=this.elements,i=e.x,n=e.y,o=e.z;return t[0]*=i,t[4]*=n,t[8]*=o,t[1]*=i,t[5]*=n,t[9]*=o,t[2]*=i,t[6]*=n,t[10]*=o,t[3]*=i,t[7]*=n,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),n=Math.sin(t),o=1-i,s=e.x,a=e.y,l=e.z,u=o*s,c=o*a;return this.set(u*s+i,u*a-n*l,u*l+n*a,0,u*a+n*l,c*a+i,c*l-n*s,0,u*l-n*a,c*l+n*s,o*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,o,s){return this.set(1,i,o,0,e,1,s,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){const n=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,u=o+o,c=s+s,h=a+a,d=o*u,p=o*c,f=o*h,m=s*c,g=s*h,y=a*h,C=l*u,w=l*c,S=l*h,b=i.x,T=i.y,F=i.z;return n[0]=(1-(m+y))*b,n[1]=(p+S)*b,n[2]=(f-w)*b,n[3]=0,n[4]=(p-S)*T,n[5]=(1-(d+y))*T,n[6]=(g+C)*T,n[7]=0,n[8]=(f+w)*F,n[9]=(g-C)*F,n[10]=(1-(d+m))*F,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){const n=this.elements;let o=Al.set(n[0],n[1],n[2]).length();const s=Al.set(n[4],n[5],n[6]).length(),a=Al.set(n[8],n[9],n[10]).length();this.determinant()<0&&(o=-o),e.x=n[12],e.y=n[13],e.z=n[14],Dr.copy(this);const u=1/o,c=1/s,h=1/a;return Dr.elements[0]*=u,Dr.elements[1]*=u,Dr.elements[2]*=u,Dr.elements[4]*=c,Dr.elements[5]*=c,Dr.elements[6]*=c,Dr.elements[8]*=h,Dr.elements[9]*=h,Dr.elements[10]*=h,t.setFromRotationMatrix(Dr),i.x=o,i.y=s,i.z=a,this}makePerspective(e,t,i,n,o,s){const a=this.elements,l=2*o/(t-e),u=2*o/(i-n),c=(t+e)/(t-e),h=(i+n)/(i-n),d=-(s+o)/(s-o),p=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,n,o,s){const a=this.elements,l=1/(t-e),u=1/(i-n),c=1/(s-o),h=(t+e)*l,d=(i+n)*u,p=(s+o)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Al=new ee,Dr=new Yi,Y2=new ee(0,0,0),K2=new ee(1,1,1),vs=new ee,$d=new ee,Un=new ee,rE=new Yi,oE=new Zh;class Qh{constructor(e=0,t=0,i=0,n=Qh.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,n=this._order){return this._x=e,this._y=t,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const n=e.elements,o=n[0],s=n[4],a=n[8],l=n[1],u=n[5],c=n[9],h=n[2],d=n[6],p=n[10];switch(t){case"XYZ":this._y=Math.asin(Hn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Hn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(Hn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Hn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Hn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Hn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return rE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rE,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return oE.setFromEuler(this),this.setFromQuaternion(oE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Qh.DefaultOrder="XYZ";Qh.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class IC{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let X2=0;const sE=new ee,Dl=new Zh,Fo=new Yi,Yd=new ee,vc=new ee,q2=new ee,Z2=new Zh,aE=new ee(1,0,0),lE=new ee(0,1,0),uE=new ee(0,0,1),J2={type:"added"},cE={type:"removed"};class $i extends Ju{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:X2++}),this.uuid=Qu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$i.DefaultUp.clone();const e=new ee,t=new Qh,i=new Zh,n=new ee(1,1,1);function o(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(o),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Yi},normalMatrix:{value:new _r}}),this.matrix=new Yi,this.matrixWorld=new Yi,this.matrixAutoUpdate=$i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=$i.DefaultMatrixWorldAutoUpdate,this.layers=new IC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Dl.setFromAxisAngle(e,t),this.quaternion.multiply(Dl),this}rotateOnWorldAxis(e,t){return Dl.setFromAxisAngle(e,t),this.quaternion.premultiply(Dl),this}rotateX(e){return this.rotateOnAxis(aE,e)}rotateY(e){return this.rotateOnAxis(lE,e)}rotateZ(e){return this.rotateOnAxis(uE,e)}translateOnAxis(e,t){return sE.copy(e).applyQuaternion(this.quaternion),this.position.add(sE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(aE,e)}translateY(e){return this.translateOnAxis(lE,e)}translateZ(e){return this.translateOnAxis(uE,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Fo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Yd.copy(e):Yd.set(e,t,i);const n=this.parent;this.updateWorldMatrix(!0,!1),vc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fo.lookAt(vc,Yd,this.up):Fo.lookAt(Yd,vc,this.up),this.quaternion.setFromRotationMatrix(Fo),n&&(Fo.extractRotation(n.matrixWorld),Dl.setFromRotationMatrix(Fo),this.quaternion.premultiply(Dl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(J2)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(cE)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(cE)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Fo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vc,e,q2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vc,Z2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,n=t.length;i<n;i++){const o=t[i];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const n=this.children;for(let o=0,s=n.length;o<s;o++){const a=n[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const h=l[u];o(e.shapes,h)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));n.material=a}else n.material=o(e.materials,this.material);if(this.children.length>0){n.children=[];for(let a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];n.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),h=s(e.shapes),d=s(e.skeletons),p=s(e.animations),f=s(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),h.length>0&&(i.shapes=h),d.length>0&&(i.skeletons=d),p.length>0&&(i.animations=p),f.length>0&&(i.nodes=f)}return i.object=n,i;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const n=e.children[i];this.add(n.clone())}return this}}$i.DefaultUp=new ee(0,1,0);$i.DefaultMatrixAutoUpdate=!0;$i.DefaultMatrixWorldAutoUpdate=!0;const Ir=new ee,No=new ee,Bm=new ee,Go=new ee,Il=new ee,Ll=new ee,hE=new ee,Um=new ee,zm=new ee,jm=new ee;class fo{constructor(e=new ee,t=new ee,i=new ee){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),Ir.subVectors(e,t),n.cross(Ir);const o=n.lengthSq();return o>0?n.multiplyScalar(1/Math.sqrt(o)):n.set(0,0,0)}static getBarycoord(e,t,i,n,o){Ir.subVectors(n,t),No.subVectors(i,t),Bm.subVectors(e,t);const s=Ir.dot(Ir),a=Ir.dot(No),l=Ir.dot(Bm),u=No.dot(No),c=No.dot(Bm),h=s*u-a*a;if(h===0)return o.set(-2,-1,-1);const d=1/h,p=(u*l-a*c)*d,f=(s*c-a*l)*d;return o.set(1-p-f,f,p)}static containsPoint(e,t,i,n){return this.getBarycoord(e,t,i,n,Go),Go.x>=0&&Go.y>=0&&Go.x+Go.y<=1}static getUV(e,t,i,n,o,s,a,l){return this.getBarycoord(e,t,i,n,Go),l.set(0,0),l.addScaledVector(o,Go.x),l.addScaledVector(s,Go.y),l.addScaledVector(a,Go.z),l}static isFrontFacing(e,t,i,n){return Ir.subVectors(i,t),No.subVectors(e,t),Ir.cross(No).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ir.subVectors(this.c,this.b),No.subVectors(this.a,this.b),Ir.cross(No).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,n,o){return fo.getUV(e,this.a,this.b,this.c,t,i,n,o)}containsPoint(e){return fo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,n=this.b,o=this.c;let s,a;Il.subVectors(n,i),Ll.subVectors(o,i),Um.subVectors(e,i);const l=Il.dot(Um),u=Ll.dot(Um);if(l<=0&&u<=0)return t.copy(i);zm.subVectors(e,n);const c=Il.dot(zm),h=Ll.dot(zm);if(c>=0&&h<=c)return t.copy(n);const d=l*h-c*u;if(d<=0&&l>=0&&c<=0)return s=l/(l-c),t.copy(i).addScaledVector(Il,s);jm.subVectors(e,o);const p=Il.dot(jm),f=Ll.dot(jm);if(f>=0&&p<=f)return t.copy(o);const m=p*u-l*f;if(m<=0&&u>=0&&f<=0)return a=u/(u-f),t.copy(i).addScaledVector(Ll,a);const g=c*f-p*h;if(g<=0&&h-c>=0&&p-f>=0)return hE.subVectors(o,n),a=(h-c)/(h-c+(p-f)),t.copy(n).addScaledVector(hE,a);const y=1/(g+m+d);return s=m*y,a=d*y,t.copy(i).addScaledVector(Il,s).addScaledVector(Ll,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Q2=0;class ed extends Ju{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Q2++}),this.uuid=Qu(),this.name="",this.type="Material",this.blending=vu,this.side=Mu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=yM,this.blendDst=_M,this.blendEquation=Ql,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ly,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=P2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Am,this.stencilZFail=Am,this.stencilZPass=Am,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==vu&&(i.blending=this.blending),this.side!==Mu&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function n(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(t){const o=n(e.textures),s=n(e.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const n=t.length;i=new Array(n);for(let o=0;o!==n;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ao extends ed{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ai(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=CM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oi=new ee,Kd=new jt;class _o{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=eE,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,o=this.itemSize;n<o;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Kd.fromBufferAttribute(this,t),Kd.applyMatrix3(e),this.setXY(t,Kd.x,Kd.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyMatrix3(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyMatrix4(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyNormalMatrix(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.transformDirection(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=$c(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=$c(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=$c(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=$c(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),n=In(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,o){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),n=In(n,this.array),o=In(o,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==eE&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class TM extends _o{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class PM extends _o{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class mn extends _o{constructor(e,t,i){super(new Float32Array(e),t,i)}}let e3=0;const ar=new Yi,$m=new $i,Fl=new ee,zn=new Jh,yc=new Jh,Wi=new ee;class or extends Ju{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:e3++}),this.uuid=Qu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EM(e)?PM:TM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new _r().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ar.makeRotationFromQuaternion(e),this.applyMatrix4(ar),this}rotateX(e){return ar.makeRotationX(e),this.applyMatrix4(ar),this}rotateY(e){return ar.makeRotationY(e),this.applyMatrix4(ar),this}rotateZ(e){return ar.makeRotationZ(e),this.applyMatrix4(ar),this}translate(e,t,i){return ar.makeTranslation(e,t,i),this.applyMatrix4(ar),this}scale(e,t,i){return ar.makeScale(e,t,i),this.applyMatrix4(ar),this}lookAt(e){return $m.lookAt(e),$m.updateMatrix(),this.applyMatrix4($m.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fl).negate(),this.translate(Fl.x,Fl.y,Fl.z),this}setFromPoints(e){const t=[];for(let i=0,n=e.length;i<n;i++){const o=e[i];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new mn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jh);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++){const o=t[i];zn.setFromBufferAttribute(o),this.morphTargetsRelative?(Wi.addVectors(this.boundingBox.min,zn.min),this.boundingBox.expandByPoint(Wi),Wi.addVectors(this.boundingBox.max,zn.max),this.boundingBox.expandByPoint(Wi)):(this.boundingBox.expandByPoint(zn.min),this.boundingBox.expandByPoint(zn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pg);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ee,1/0);return}if(e){const i=this.boundingSphere.center;if(zn.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];yc.setFromBufferAttribute(a),this.morphTargetsRelative?(Wi.addVectors(zn.min,yc.min),zn.expandByPoint(Wi),Wi.addVectors(zn.max,yc.max),zn.expandByPoint(Wi)):(zn.expandByPoint(yc.min),zn.expandByPoint(yc.max))}zn.getCenter(i);let n=0;for(let o=0,s=e.count;o<s;o++)Wi.fromBufferAttribute(e,o),n=Math.max(n,i.distanceToSquared(Wi));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Wi.fromBufferAttribute(a,u),l&&(Fl.fromBufferAttribute(e,u),Wi.add(Fl)),n=Math.max(n,i.distanceToSquared(Wi))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,n=t.position.array,o=t.normal.array,s=t.uv.array,a=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _o(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let G=0;G<a;G++)u[G]=new ee,c[G]=new ee;const h=new ee,d=new ee,p=new ee,f=new jt,m=new jt,g=new jt,y=new ee,C=new ee;function w(G,q,te){h.fromArray(n,G*3),d.fromArray(n,q*3),p.fromArray(n,te*3),f.fromArray(s,G*2),m.fromArray(s,q*2),g.fromArray(s,te*2),d.sub(h),p.sub(h),m.sub(f),g.sub(f);const j=1/(m.x*g.y-g.x*m.y);!isFinite(j)||(y.copy(d).multiplyScalar(g.y).addScaledVector(p,-m.y).multiplyScalar(j),C.copy(p).multiplyScalar(m.x).addScaledVector(d,-g.x).multiplyScalar(j),u[G].add(y),u[q].add(y),u[te].add(y),c[G].add(C),c[q].add(C),c[te].add(C))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let G=0,q=S.length;G<q;++G){const te=S[G],j=te.start,Y=te.count;for(let U=j,Z=j+Y;U<Z;U+=3)w(i[U+0],i[U+1],i[U+2])}const b=new ee,T=new ee,F=new ee,R=new ee;function P(G){F.fromArray(o,G*3),R.copy(F);const q=u[G];b.copy(q),b.sub(F.multiplyScalar(F.dot(q))).normalize(),T.crossVectors(R,q);const j=T.dot(c[G])<0?-1:1;l[G*4]=b.x,l[G*4+1]=b.y,l[G*4+2]=b.z,l[G*4+3]=j}for(let G=0,q=S.length;G<q;++G){const te=S[G],j=te.start,Y=te.count;for(let U=j,Z=j+Y;U<Z;U+=3)P(i[U+0]),P(i[U+1]),P(i[U+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new _o(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let d=0,p=i.count;d<p;d++)i.setXYZ(d,0,0,0);const n=new ee,o=new ee,s=new ee,a=new ee,l=new ee,u=new ee,c=new ee,h=new ee;if(e)for(let d=0,p=e.count;d<p;d+=3){const f=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);n.fromBufferAttribute(t,f),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),c.subVectors(s,o),h.subVectors(n,o),c.cross(h),a.fromBufferAttribute(i,f),l.fromBufferAttribute(i,m),u.fromBufferAttribute(i,g),a.add(c),l.add(c),u.add(c),i.setXYZ(f,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(g,u.x,u.y,u.z)}else for(let d=0,p=t.count;d<p;d+=3)n.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),s.fromBufferAttribute(t,d+2),c.subVectors(s,o),h.subVectors(n,o),c.cross(h),i.setXYZ(d+0,c.x,c.y,c.z),i.setXYZ(d+1,c.x,c.y,c.z),i.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Wi.fromBufferAttribute(e,t),Wi.normalize(),e.setXYZ(t,Wi.x,Wi.y,Wi.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,h=a.normalized,d=new u.constructor(l.length*c);let p=0,f=0;for(let m=0,g=l.length;m<g;m++){a.isInterleavedBufferAttribute?p=l[m]*a.data.stride+a.offset:p=l[m]*c;for(let y=0;y<c;y++)d[f++]=u[p++]}return new _o(d,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new or,i=this.index.array,n=this.attributes;for(const a in n){const l=n[a],u=e(l,i);t.setAttribute(a,u)}const o=this.morphAttributes;for(const a in o){const l=[],u=o[a];for(let c=0,h=u.length;c<h;c++){const d=u[c],p=e(d,i);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const u=s[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const n={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let h=0,d=u.length;h<d;h++){const p=u[h];c.push(p.toJSON(e.data))}c.length>0&&(n[l]=c,o=!0)}o&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const n=e.attributes;for(const u in n){const c=n[u];this.setAttribute(u,c.clone(t))}const o=e.morphAttributes;for(const u in o){const c=[],h=o[u];for(let d=0,p=h.length;d<p;d++)c.push(h[d].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const h=s[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const dE=new Yi,Nl=new DC,Ym=new Pg,ys=new ee,_s=new ee,Cs=new ee,Km=new ee,Xm=new ee,qm=new ee,Xd=new ee,qd=new ee,Zd=new ee,Jd=new jt,Qd=new jt,ep=new jt,Zm=new ee,tp=new ee;class Qi extends $i{constructor(e=new or,t=new ao){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=n.length;o<s;o++){const a=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}raycast(e,t){const i=this.geometry,n=this.material,o=this.matrixWorld;if(n===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Ym.copy(i.boundingSphere),Ym.applyMatrix4(o),e.ray.intersectsSphere(Ym)===!1)||(dE.copy(o).invert(),Nl.copy(e.ray).applyMatrix4(dE),i.boundingBox!==null&&Nl.intersectsBox(i.boundingBox)===!1))return;let s;const a=i.index,l=i.attributes.position,u=i.morphAttributes.position,c=i.morphTargetsRelative,h=i.attributes.uv,d=i.attributes.uv2,p=i.groups,f=i.drawRange;if(a!==null)if(Array.isArray(n))for(let m=0,g=p.length;m<g;m++){const y=p[m],C=n[y.materialIndex],w=Math.max(y.start,f.start),S=Math.min(a.count,Math.min(y.start+y.count,f.start+f.count));for(let b=w,T=S;b<T;b+=3){const F=a.getX(b),R=a.getX(b+1),P=a.getX(b+2);s=ip(this,C,e,Nl,l,u,c,h,d,F,R,P),s&&(s.faceIndex=Math.floor(b/3),s.face.materialIndex=y.materialIndex,t.push(s))}}else{const m=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);for(let y=m,C=g;y<C;y+=3){const w=a.getX(y),S=a.getX(y+1),b=a.getX(y+2);s=ip(this,n,e,Nl,l,u,c,h,d,w,S,b),s&&(s.faceIndex=Math.floor(y/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(n))for(let m=0,g=p.length;m<g;m++){const y=p[m],C=n[y.materialIndex],w=Math.max(y.start,f.start),S=Math.min(l.count,Math.min(y.start+y.count,f.start+f.count));for(let b=w,T=S;b<T;b+=3){const F=b,R=b+1,P=b+2;s=ip(this,C,e,Nl,l,u,c,h,d,F,R,P),s&&(s.faceIndex=Math.floor(b/3),s.face.materialIndex=y.materialIndex,t.push(s))}}else{const m=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let y=m,C=g;y<C;y+=3){const w=y,S=y+1,b=y+2;s=ip(this,n,e,Nl,l,u,c,h,d,w,S,b),s&&(s.faceIndex=Math.floor(y/3),t.push(s))}}}}function t3(r,e,t,i,n,o,s,a){let l;if(e.side===Sr?l=i.intersectTriangle(s,o,n,!0,a):l=i.intersectTriangle(n,o,s,e.side!==pn,a),l===null)return null;tp.copy(a),tp.applyMatrix4(r.matrixWorld);const u=t.ray.origin.distanceTo(tp);return u<t.near||u>t.far?null:{distance:u,point:tp.clone(),object:r}}function ip(r,e,t,i,n,o,s,a,l,u,c,h){ys.fromBufferAttribute(n,u),_s.fromBufferAttribute(n,c),Cs.fromBufferAttribute(n,h);const d=r.morphTargetInfluences;if(o&&d){Xd.set(0,0,0),qd.set(0,0,0),Zd.set(0,0,0);for(let f=0,m=o.length;f<m;f++){const g=d[f],y=o[f];g!==0&&(Km.fromBufferAttribute(y,u),Xm.fromBufferAttribute(y,c),qm.fromBufferAttribute(y,h),s?(Xd.addScaledVector(Km,g),qd.addScaledVector(Xm,g),Zd.addScaledVector(qm,g)):(Xd.addScaledVector(Km.sub(ys),g),qd.addScaledVector(Xm.sub(_s),g),Zd.addScaledVector(qm.sub(Cs),g)))}ys.add(Xd),_s.add(qd),Cs.add(Zd)}r.isSkinnedMesh&&(r.boneTransform(u,ys),r.boneTransform(c,_s),r.boneTransform(h,Cs));const p=t3(r,e,t,i,ys,_s,Cs,Zm);if(p){a&&(Jd.fromBufferAttribute(a,u),Qd.fromBufferAttribute(a,c),ep.fromBufferAttribute(a,h),p.uv=fo.getUV(Zm,ys,_s,Cs,Jd,Qd,ep,new jt)),l&&(Jd.fromBufferAttribute(l,u),Qd.fromBufferAttribute(l,c),ep.fromBufferAttribute(l,h),p.uv2=fo.getUV(Zm,ys,_s,Cs,Jd,Qd,ep,new jt));const f={a:u,b:c,c:h,normal:new ee,materialIndex:0};fo.getNormal(ys,_s,Cs,f.normal),p.face=f}return p}class td extends or{constructor(e=1,t=1,i=1,n=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:o,depthSegments:s};const a=this;n=Math.floor(n),o=Math.floor(o),s=Math.floor(s);const l=[],u=[],c=[],h=[];let d=0,p=0;f("z","y","x",-1,-1,i,t,e,s,o,0),f("z","y","x",1,-1,i,t,-e,s,o,1),f("x","z","y",1,1,e,i,t,n,s,2),f("x","z","y",1,-1,e,i,-t,n,s,3),f("x","y","z",1,-1,e,t,i,n,o,4),f("x","y","z",-1,-1,e,t,-i,n,o,5),this.setIndex(l),this.setAttribute("position",new mn(u,3)),this.setAttribute("normal",new mn(c,3)),this.setAttribute("uv",new mn(h,2));function f(m,g,y,C,w,S,b,T,F,R,P){const G=S/F,q=b/R,te=S/2,j=b/2,Y=T/2,U=F+1,Z=R+1;let J=0,ie=0;const K=new ee;for(let H=0;H<Z;H++){const ge=H*q-j;for(let V=0;V<U;V++){const ye=V*G-te;K[m]=ye*C,K[g]=ge*w,K[y]=Y,u.push(K.x,K.y,K.z),K[m]=0,K[g]=0,K[y]=T>0?1:-1,c.push(K.x,K.y,K.z),h.push(V/F),h.push(1-H/R),J+=1}}for(let H=0;H<R;H++)for(let ge=0;ge<F;ge++){const V=d+ge+U*H,ye=d+ge+U*(H+1),Ce=d+(ge+1)+U*(H+1),W=d+(ge+1)+U*H;l.push(V,ye,W),l.push(ye,Ce,W),ie+=6}a.addGroup(p,ie,P),p+=ie,d+=J}}static fromJSON(e){return new td(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Au(r){const e={};for(const t in r){e[t]={};for(const i in r[t]){const n=r[t][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?e[t][i]=n.clone():Array.isArray(n)?e[t][i]=n.slice():e[t][i]=n}}return e}function _n(r){const e={};for(let t=0;t<r.length;t++){const i=Au(r[t]);for(const n in i)e[n]=i[n]}return e}function i3(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}const n3={clone:Au,merge:_n};var r3=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,o3=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class rl extends ed{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=r3,this.fragmentShader=o3,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Au(e.uniforms),this.uniformsGroups=i3(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const s=this.uniforms[n].value;s&&s.isTexture?t.uniforms[n]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[n]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[n]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[n]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[n]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[n]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[n]={type:"m4",value:s.toArray()}:t.uniforms[n]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class OM extends $i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yi,this.projectionMatrix=new Yi,this.projectionMatrixInverse=new Yi}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class mr extends OM{constructor(e=50,t=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Sf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_u*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Sf*2*Math.atan(Math.tan(_u*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,n,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_u*.5*this.fov)/this.zoom,i=2*t,n=this.aspect*i,o=-.5*n;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*n/l,t-=s.offsetY*i/u,n*=s.width/l,i*=s.height/u}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+n,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Gl=90,Hl=1;class s3 extends $i{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const n=new mr(Gl,Hl,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new ee(1,0,0)),this.add(n);const o=new mr(Gl,Hl,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ee(-1,0,0)),this.add(o);const s=new mr(Gl,Hl,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new ee(0,1,0)),this.add(s);const a=new mr(Gl,Hl,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ee(0,-1,0)),this.add(a);const l=new mr(Gl,Hl,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ee(0,0,1)),this.add(l);const u=new mr(Gl,Hl,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ee(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[n,o,s,a,l,u]=this.children,c=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=es,e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,n),e.setRenderTarget(i,1),e.render(t,o),e.setRenderTarget(i,2),e.render(t,s),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class AM extends xr{constructor(e,t,i,n,o,s,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:Tu,super(e,t,i,n,o,s,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class a3 extends nl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},n=[i,i,i,i,i,i];this.texture=new AM(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:gr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new td(5,5,5),o=new rl({name:"CubemapFromEquirect",uniforms:Au(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Sr,blending:$s});o.uniforms.tEquirect.value=t;const s=new Qi(n,o),a=t.minFilter;return t.minFilter===Tg&&(t.minFilter=gr),new s3(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,n){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,n);e.setRenderTarget(o)}}const Jm=new ee,l3=new ee,u3=new _r;class Ma{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const n=Jm.subVectors(i,t).cross(l3.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(Jm),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/n;return o<0||o>1?null:t.copy(i).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||u3.getNormalMatrix(e),n=this.coplanarPoint(Jm).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Wl=new Pg,np=new ee;class DM{constructor(e=new Ma,t=new Ma,i=new Ma,n=new Ma,o=new Ma,s=new Ma){this.planes=[e,t,i,n,o,s]}set(e,t,i,n,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(n),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,n=i[0],o=i[1],s=i[2],a=i[3],l=i[4],u=i[5],c=i[6],h=i[7],d=i[8],p=i[9],f=i[10],m=i[11],g=i[12],y=i[13],C=i[14],w=i[15];return t[0].setComponents(a-n,h-l,m-d,w-g).normalize(),t[1].setComponents(a+n,h+l,m+d,w+g).normalize(),t[2].setComponents(a+o,h+u,m+p,w+y).normalize(),t[3].setComponents(a-o,h-u,m-p,w-y).normalize(),t[4].setComponents(a-s,h-c,m-f,w-C).normalize(),t[5].setComponents(a+s,h+c,m+f,w+C).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Wl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Wl)}intersectsSprite(e){return Wl.center.set(0,0,0),Wl.radius=.7071067811865476,Wl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Wl)}intersectsSphere(e){const t=this.planes,i=e.center,n=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(np.x=n.normal.x>0?e.max.x:e.min.x,np.y=n.normal.y>0?e.max.y:e.min.y,np.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(np)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function IM(){let r=null,e=!1,t=null,i=null;function n(o,s){t(o,s),i=r.requestAnimationFrame(n)}return{start:function(){e!==!0&&t!==null&&(i=r.requestAnimationFrame(n),e=!0)},stop:function(){r.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){r=o}}}function c3(r,e){const t=e.isWebGL2,i=new WeakMap;function n(u,c){const h=u.array,d=u.usage,p=r.createBuffer();r.bindBuffer(c,p),r.bufferData(c,h,d),u.onUploadCallback();let f;if(h instanceof Float32Array)f=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)f=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else f=5123;else if(h instanceof Int16Array)f=5122;else if(h instanceof Uint32Array)f=5125;else if(h instanceof Int32Array)f=5124;else if(h instanceof Int8Array)f=5120;else if(h instanceof Uint8Array)f=5121;else if(h instanceof Uint8ClampedArray)f=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:f,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,h){const d=c.array,p=c.updateRange;r.bindBuffer(h,u),p.count===-1?r.bufferSubData(h,0,d):(t?r.bufferSubData(h,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):r.bufferSubData(h,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=i.get(u);c&&(r.deleteBuffer(c.buffer),i.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=i.get(u);(!d||d.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h===void 0?i.set(u,n(u,c)):h.version<u.version&&(o(h.buffer,u,c),h.version=u.version)}return{get:s,remove:a,update:l}}class Og extends or{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};const o=e/2,s=t/2,a=Math.floor(i),l=Math.floor(n),u=a+1,c=l+1,h=e/a,d=t/l,p=[],f=[],m=[],g=[];for(let y=0;y<c;y++){const C=y*d-s;for(let w=0;w<u;w++){const S=w*h-o;f.push(S,-C,0),m.push(0,0,1),g.push(w/a),g.push(1-y/l)}}for(let y=0;y<l;y++)for(let C=0;C<a;C++){const w=C+u*y,S=C+u*(y+1),b=C+1+u*(y+1),T=C+1+u*y;p.push(w,S,T),p.push(S,b,T)}this.setIndex(p),this.setAttribute("position",new mn(f,3)),this.setAttribute("normal",new mn(m,3)),this.setAttribute("uv",new mn(g,2))}static fromJSON(e){return new Og(e.width,e.height,e.widthSegments,e.heightSegments)}}var h3=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,d3=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,p3=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,f3=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,g3=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,m3=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,v3="vec3 transformed = vec3( position );",y3=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_3=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,C3=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,w3=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,S3=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,E3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,x3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,R3=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,b3=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,M3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,T3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,P3=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,O3=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,A3=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,D3=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,I3=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,L3=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,F3=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,N3=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,G3="gl_FragColor = linearToOutputTexel( gl_FragColor );",H3=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,W3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,V3=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,k3=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,B3=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,U3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,z3=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,j3=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$3=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Y3=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,K3=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,X3=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,q3=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Z3=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,J3=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,Q3=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eH=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,tH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,iH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,nH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,oH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,sH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,aH=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,uH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,cH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,pH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,fH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_H=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,CH=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,SH=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,EH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,xH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,RH=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,bH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,MH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,TH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,PH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,OH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,AH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,DH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,IH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,LH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,FH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,NH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,GH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,HH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,WH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,VH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,BH=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,UH=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zH=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,jH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$H=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,KH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,qH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,JH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,QH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,tW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,iW=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,nW=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,rW=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,oW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,sW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,aW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,lW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cW=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,hW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gW=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,yW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_W=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,CW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,SW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,EW=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,xW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MW=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,TW=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,OW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,AW=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DW=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IW=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,LW=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FW=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,HW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WW=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,kW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wt={alphamap_fragment:h3,alphamap_pars_fragment:d3,alphatest_fragment:p3,alphatest_pars_fragment:f3,aomap_fragment:g3,aomap_pars_fragment:m3,begin_vertex:v3,beginnormal_vertex:y3,bsdfs:_3,iridescence_fragment:C3,bumpmap_pars_fragment:w3,clipping_planes_fragment:S3,clipping_planes_pars_fragment:E3,clipping_planes_pars_vertex:x3,clipping_planes_vertex:R3,color_fragment:b3,color_pars_fragment:M3,color_pars_vertex:T3,color_vertex:P3,common:O3,cube_uv_reflection_fragment:A3,defaultnormal_vertex:D3,displacementmap_pars_vertex:I3,displacementmap_vertex:L3,emissivemap_fragment:F3,emissivemap_pars_fragment:N3,encodings_fragment:G3,encodings_pars_fragment:H3,envmap_fragment:W3,envmap_common_pars_fragment:V3,envmap_pars_fragment:k3,envmap_pars_vertex:B3,envmap_physical_pars_fragment:eH,envmap_vertex:U3,fog_vertex:z3,fog_pars_vertex:j3,fog_fragment:$3,fog_pars_fragment:Y3,gradientmap_pars_fragment:K3,lightmap_fragment:X3,lightmap_pars_fragment:q3,lights_lambert_fragment:Z3,lights_lambert_pars_fragment:J3,lights_pars_begin:Q3,lights_toon_fragment:tH,lights_toon_pars_fragment:iH,lights_phong_fragment:nH,lights_phong_pars_fragment:rH,lights_physical_fragment:oH,lights_physical_pars_fragment:sH,lights_fragment_begin:aH,lights_fragment_maps:lH,lights_fragment_end:uH,logdepthbuf_fragment:cH,logdepthbuf_pars_fragment:hH,logdepthbuf_pars_vertex:dH,logdepthbuf_vertex:pH,map_fragment:fH,map_pars_fragment:gH,map_particle_fragment:mH,map_particle_pars_fragment:vH,metalnessmap_fragment:yH,metalnessmap_pars_fragment:_H,morphcolor_vertex:CH,morphnormal_vertex:wH,morphtarget_pars_vertex:SH,morphtarget_vertex:EH,normal_fragment_begin:xH,normal_fragment_maps:RH,normal_pars_fragment:bH,normal_pars_vertex:MH,normal_vertex:TH,normalmap_pars_fragment:PH,clearcoat_normal_fragment_begin:OH,clearcoat_normal_fragment_maps:AH,clearcoat_pars_fragment:DH,iridescence_pars_fragment:IH,output_fragment:LH,packing:FH,premultiplied_alpha_fragment:NH,project_vertex:GH,dithering_fragment:HH,dithering_pars_fragment:WH,roughnessmap_fragment:VH,roughnessmap_pars_fragment:kH,shadowmap_pars_fragment:BH,shadowmap_pars_vertex:UH,shadowmap_vertex:zH,shadowmask_pars_fragment:jH,skinbase_vertex:$H,skinning_pars_vertex:YH,skinning_vertex:KH,skinnormal_vertex:XH,specularmap_fragment:qH,specularmap_pars_fragment:ZH,tonemapping_fragment:JH,tonemapping_pars_fragment:QH,transmission_fragment:eW,transmission_pars_fragment:tW,uv_pars_fragment:iW,uv_pars_vertex:nW,uv_vertex:rW,uv2_pars_fragment:oW,uv2_pars_vertex:sW,uv2_vertex:aW,worldpos_vertex:lW,background_vert:uW,background_frag:cW,backgroundCube_vert:hW,backgroundCube_frag:dW,cube_vert:pW,cube_frag:fW,depth_vert:gW,depth_frag:mW,distanceRGBA_vert:vW,distanceRGBA_frag:yW,equirect_vert:_W,equirect_frag:CW,linedashed_vert:wW,linedashed_frag:SW,meshbasic_vert:EW,meshbasic_frag:xW,meshlambert_vert:RW,meshlambert_frag:bW,meshmatcap_vert:MW,meshmatcap_frag:TW,meshnormal_vert:PW,meshnormal_frag:OW,meshphong_vert:AW,meshphong_frag:DW,meshphysical_vert:IW,meshphysical_frag:LW,meshtoon_vert:FW,meshtoon_frag:NW,points_vert:GW,points_frag:HW,shadow_vert:WW,shadow_frag:VW,sprite_vert:kW,sprite_frag:BW},Pe={common:{diffuse:{value:new ai(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _r},uv2Transform:{value:new _r},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new jt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ai(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ai(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _r}},sprite:{diffuse:{value:new ai(16777215)},opacity:{value:1},center:{value:new jt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _r}}},lo={basic:{uniforms:_n([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.fog]),vertexShader:wt.meshbasic_vert,fragmentShader:wt.meshbasic_frag},lambert:{uniforms:_n([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new ai(0)}}]),vertexShader:wt.meshlambert_vert,fragmentShader:wt.meshlambert_frag},phong:{uniforms:_n([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new ai(0)},specular:{value:new ai(1118481)},shininess:{value:30}}]),vertexShader:wt.meshphong_vert,fragmentShader:wt.meshphong_frag},standard:{uniforms:_n([Pe.common,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.roughnessmap,Pe.metalnessmap,Pe.fog,Pe.lights,{emissive:{value:new ai(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wt.meshphysical_vert,fragmentShader:wt.meshphysical_frag},toon:{uniforms:_n([Pe.common,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.gradientmap,Pe.fog,Pe.lights,{emissive:{value:new ai(0)}}]),vertexShader:wt.meshtoon_vert,fragmentShader:wt.meshtoon_frag},matcap:{uniforms:_n([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,{matcap:{value:null}}]),vertexShader:wt.meshmatcap_vert,fragmentShader:wt.meshmatcap_frag},points:{uniforms:_n([Pe.points,Pe.fog]),vertexShader:wt.points_vert,fragmentShader:wt.points_frag},dashed:{uniforms:_n([Pe.common,Pe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wt.linedashed_vert,fragmentShader:wt.linedashed_frag},depth:{uniforms:_n([Pe.common,Pe.displacementmap]),vertexShader:wt.depth_vert,fragmentShader:wt.depth_frag},normal:{uniforms:_n([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,{opacity:{value:1}}]),vertexShader:wt.meshnormal_vert,fragmentShader:wt.meshnormal_frag},sprite:{uniforms:_n([Pe.sprite,Pe.fog]),vertexShader:wt.sprite_vert,fragmentShader:wt.sprite_frag},background:{uniforms:{uvTransform:{value:new _r},t2D:{value:null}},vertexShader:wt.background_vert,fragmentShader:wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:wt.backgroundCube_vert,fragmentShader:wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wt.cube_vert,fragmentShader:wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wt.equirect_vert,fragmentShader:wt.equirect_frag},distanceRGBA:{uniforms:_n([Pe.common,Pe.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wt.distanceRGBA_vert,fragmentShader:wt.distanceRGBA_frag},shadow:{uniforms:_n([Pe.lights,Pe.fog,{color:{value:new ai(0)},opacity:{value:1}}]),vertexShader:wt.shadow_vert,fragmentShader:wt.shadow_frag}};lo.physical={uniforms:_n([lo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new jt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ai(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new jt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ai(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ai(1,1,1)},specularColorMap:{value:null}}]),vertexShader:wt.meshphysical_vert,fragmentShader:wt.meshphysical_frag};function UW(r,e,t,i,n,o,s){const a=new ai(0);let l=o===!0?0:1,u,c,h=null,d=0,p=null;function f(g,y){let C=!1,w=y.isScene===!0?y.background:null;w&&w.isTexture&&(w=(y.backgroundBlurriness>0?t:e).get(w));const S=r.xr,b=S.getSession&&S.getSession();b&&b.environmentBlendMode==="additive"&&(w=null),w===null?m(a,l):w&&w.isColor&&(m(w,1),C=!0),(r.autoClear||C)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Mg)?(c===void 0&&(c=new Qi(new td(1,1,1),new rl({name:"BackgroundCubeMaterial",uniforms:Au(lo.backgroundCube.uniforms),vertexShader:lo.backgroundCube.vertexShader,fragmentShader:lo.backgroundCube.fragmentShader,side:Sr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,F,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,(h!==w||d!==w.version||p!==r.toneMapping)&&(c.material.needsUpdate=!0,h=w,d=w.version,p=r.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Qi(new Og(2,2),new rl({name:"BackgroundMaterial",uniforms:Au(lo.background.uniforms),vertexShader:lo.background.vertexShader,fragmentShader:lo.background.fragmentShader,side:Mu,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(u)),u.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||d!==w.version||p!==r.toneMapping)&&(u.material.needsUpdate=!0,h=w,d=w.version,p=r.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null))}function m(g,y){i.buffers.color.setClear(g.r,g.g,g.b,y,s)}return{getClearColor:function(){return a},setClearColor:function(g,y=1){a.set(g),l=y,m(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,m(a,l)},render:f}}function zW(r,e,t,i){const n=r.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||o!==null,a={},l=g(null);let u=l,c=!1;function h(Y,U,Z,J,ie){let K=!1;if(s){const H=m(J,Z,U);u!==H&&(u=H,p(u.object)),K=y(Y,J,Z,ie),K&&C(Y,J,Z,ie)}else{const H=U.wireframe===!0;(u.geometry!==J.id||u.program!==Z.id||u.wireframe!==H)&&(u.geometry=J.id,u.program=Z.id,u.wireframe=H,K=!0)}ie!==null&&t.update(ie,34963),(K||c)&&(c=!1,R(Y,U,Z,J),ie!==null&&r.bindBuffer(34963,t.get(ie).buffer))}function d(){return i.isWebGL2?r.createVertexArray():o.createVertexArrayOES()}function p(Y){return i.isWebGL2?r.bindVertexArray(Y):o.bindVertexArrayOES(Y)}function f(Y){return i.isWebGL2?r.deleteVertexArray(Y):o.deleteVertexArrayOES(Y)}function m(Y,U,Z){const J=Z.wireframe===!0;let ie=a[Y.id];ie===void 0&&(ie={},a[Y.id]=ie);let K=ie[U.id];K===void 0&&(K={},ie[U.id]=K);let H=K[J];return H===void 0&&(H=g(d()),K[J]=H),H}function g(Y){const U=[],Z=[],J=[];for(let ie=0;ie<n;ie++)U[ie]=0,Z[ie]=0,J[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:Z,attributeDivisors:J,object:Y,attributes:{},index:null}}function y(Y,U,Z,J){const ie=u.attributes,K=U.attributes;let H=0;const ge=Z.getAttributes();for(const V in ge)if(ge[V].location>=0){const Ce=ie[V];let W=K[V];if(W===void 0&&(V==="instanceMatrix"&&Y.instanceMatrix&&(W=Y.instanceMatrix),V==="instanceColor"&&Y.instanceColor&&(W=Y.instanceColor)),Ce===void 0||Ce.attribute!==W||W&&Ce.data!==W.data)return!0;H++}return u.attributesNum!==H||u.index!==J}function C(Y,U,Z,J){const ie={},K=U.attributes;let H=0;const ge=Z.getAttributes();for(const V in ge)if(ge[V].location>=0){let Ce=K[V];Ce===void 0&&(V==="instanceMatrix"&&Y.instanceMatrix&&(Ce=Y.instanceMatrix),V==="instanceColor"&&Y.instanceColor&&(Ce=Y.instanceColor));const W={};W.attribute=Ce,Ce&&Ce.data&&(W.data=Ce.data),ie[V]=W,H++}u.attributes=ie,u.attributesNum=H,u.index=J}function w(){const Y=u.newAttributes;for(let U=0,Z=Y.length;U<Z;U++)Y[U]=0}function S(Y){b(Y,0)}function b(Y,U){const Z=u.newAttributes,J=u.enabledAttributes,ie=u.attributeDivisors;Z[Y]=1,J[Y]===0&&(r.enableVertexAttribArray(Y),J[Y]=1),ie[Y]!==U&&((i.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,U),ie[Y]=U)}function T(){const Y=u.newAttributes,U=u.enabledAttributes;for(let Z=0,J=U.length;Z<J;Z++)U[Z]!==Y[Z]&&(r.disableVertexAttribArray(Z),U[Z]=0)}function F(Y,U,Z,J,ie,K){i.isWebGL2===!0&&(Z===5124||Z===5125)?r.vertexAttribIPointer(Y,U,Z,ie,K):r.vertexAttribPointer(Y,U,Z,J,ie,K)}function R(Y,U,Z,J){if(i.isWebGL2===!1&&(Y.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const ie=J.attributes,K=Z.getAttributes(),H=U.defaultAttributeValues;for(const ge in K){const V=K[ge];if(V.location>=0){let ye=ie[ge];if(ye===void 0&&(ge==="instanceMatrix"&&Y.instanceMatrix&&(ye=Y.instanceMatrix),ge==="instanceColor"&&Y.instanceColor&&(ye=Y.instanceColor)),ye!==void 0){const Ce=ye.normalized,W=ye.itemSize,ce=t.get(ye);if(ce===void 0)continue;const it=ce.buffer,Ne=ce.type,$e=ce.bytesPerElement;if(ye.isInterleavedBufferAttribute){const xe=ye.data,yt=xe.stride,nt=ye.offset;if(xe.isInstancedInterleavedBuffer){for(let Ke=0;Ke<V.locationSize;Ke++)b(V.location+Ke,xe.meshPerAttribute);Y.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ke=0;Ke<V.locationSize;Ke++)S(V.location+Ke);r.bindBuffer(34962,it);for(let Ke=0;Ke<V.locationSize;Ke++)F(V.location+Ke,W/V.locationSize,Ne,Ce,yt*$e,(nt+W/V.locationSize*Ke)*$e)}else{if(ye.isInstancedBufferAttribute){for(let xe=0;xe<V.locationSize;xe++)b(V.location+xe,ye.meshPerAttribute);Y.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let xe=0;xe<V.locationSize;xe++)S(V.location+xe);r.bindBuffer(34962,it);for(let xe=0;xe<V.locationSize;xe++)F(V.location+xe,W/V.locationSize,Ne,Ce,W*$e,W/V.locationSize*xe*$e)}}else if(H!==void 0){const Ce=H[ge];if(Ce!==void 0)switch(Ce.length){case 2:r.vertexAttrib2fv(V.location,Ce);break;case 3:r.vertexAttrib3fv(V.location,Ce);break;case 4:r.vertexAttrib4fv(V.location,Ce);break;default:r.vertexAttrib1fv(V.location,Ce)}}}}T()}function P(){te();for(const Y in a){const U=a[Y];for(const Z in U){const J=U[Z];for(const ie in J)f(J[ie].object),delete J[ie];delete U[Z]}delete a[Y]}}function G(Y){if(a[Y.id]===void 0)return;const U=a[Y.id];for(const Z in U){const J=U[Z];for(const ie in J)f(J[ie].object),delete J[ie];delete U[Z]}delete a[Y.id]}function q(Y){for(const U in a){const Z=a[U];if(Z[Y.id]===void 0)continue;const J=Z[Y.id];for(const ie in J)f(J[ie].object),delete J[ie];delete Z[Y.id]}}function te(){j(),c=!0,u!==l&&(u=l,p(u.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:te,resetDefaultState:j,dispose:P,releaseStatesOfGeometry:G,releaseStatesOfProgram:q,initAttributes:w,enableAttribute:S,disableUnusedAttributes:T}}function jW(r,e,t,i){const n=i.isWebGL2;let o;function s(u){o=u}function a(u,c){r.drawArrays(o,u,c),t.update(c,o,1)}function l(u,c,h){if(h===0)return;let d,p;if(n)d=r,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](o,u,c,h),t.update(c,o,h)}this.setMode=s,this.render=a,this.renderInstances=l}function $W(r,e,t){let i;function n(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(F){if(F==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";F="mediump"}return F==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&r instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=s||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,h=r.getParameter(34930),d=r.getParameter(35660),p=r.getParameter(3379),f=r.getParameter(34076),m=r.getParameter(34921),g=r.getParameter(36347),y=r.getParameter(36348),C=r.getParameter(36349),w=d>0,S=s||e.has("OES_texture_float"),b=w&&S,T=s?r.getParameter(36183):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:n,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:f,maxAttributes:m,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:C,vertexTextures:w,floatFragmentTextures:S,floatVertexTextures:b,maxSamples:T}}function YW(r){const e=this;let t=null,i=0,n=!1,o=!1;const s=new Ma,a=new _r,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d,p){const f=h.length!==0||d||i!==0||n;return n=d,t=c(h,p,0),i=h.length,f},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(h,d,p){const f=h.clippingPlanes,m=h.clipIntersection,g=h.clipShadows,y=r.get(h);if(!n||f===null||f.length===0||o&&!g)o?c(null):u();else{const C=o?0:i,w=C*4;let S=y.clippingState||null;l.value=S,S=c(f,d,w,p);for(let b=0;b!==w;++b)S[b]=t[b];y.clippingState=S,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=C}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(h,d,p,f){const m=h!==null?h.length:0;let g=null;if(m!==0){if(g=l.value,f!==!0||g===null){const y=p+m*4,C=d.matrixWorldInverse;a.getNormalMatrix(C),(g===null||g.length<y)&&(g=new Float32Array(y));for(let w=0,S=p;w!==m;++w,S+=4)s.copy(h[w]).applyMatrix4(C,a),s.normal.toArray(g,S),g[S+3]=s.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}}function KW(r){let e=new WeakMap;function t(s,a){return a===Fy?s.mapping=Tu:a===Ny&&(s.mapping=Pu),s}function i(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===Fy||a===Ny)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new a3(l.height/2);return u.fromEquirectangularTexture(r,s),e.set(s,u),s.addEventListener("dispose",n),t(u.texture,s.mapping)}else return null}}return s}function n(s){const a=s.target;a.removeEventListener("dispose",n);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}class XW extends OM{constructor(e=-1,t=1,i=1,n=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let o=i-e,s=i+e,a=n+t,l=n-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const ru=4,pE=[.125,.215,.35,.446,.526,.582],Aa=20,Qm=new XW,fE=new ai;let ev=null;const Ta=(1+Math.sqrt(5))/2,Vl=1/Ta,gE=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,Ta,Vl),new ee(0,Ta,-Vl),new ee(Vl,0,Ta),new ee(-Vl,0,Ta),new ee(Ta,Vl,0),new ee(-Ta,Vl,0)];class mE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,n=100){ev=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,i,n,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_E(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ev),e.scissorTest=!1,rp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Tu||e.mapping===Pu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ev=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:gr,minFilter:gr,generateMipmaps:!1,type:Oh,format:Hr,encoding:il,depthBuffer:!1},n=vE(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=vE(e,t,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qW(o)),this._blurMaterial=ZW(o,e,t)}return n}_compileMaterial(e){const t=new Qi(this._lodPlanes[0],e);this._renderer.compile(t,Qm)}_sceneToCubeUV(e,t,i,n){const a=new mr(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,d=c.toneMapping;c.getClearColor(fE),c.toneMapping=es,c.autoClear=!1;const p=new ao({name:"PMREM.Background",side:Sr,depthWrite:!1,depthTest:!1}),f=new Qi(new td,p);let m=!1;const g=e.background;g?g.isColor&&(p.color.copy(g),e.background=null,m=!0):(p.color.copy(fE),m=!0);for(let y=0;y<6;y++){const C=y%3;C===0?(a.up.set(0,l[y],0),a.lookAt(u[y],0,0)):C===1?(a.up.set(0,0,l[y]),a.lookAt(0,u[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,u[y]));const w=this._cubeSize;rp(n,C*w,y>2?w:0,w,w),c.setRenderTarget(n),m&&c.render(f,a),c.render(e,a)}f.geometry.dispose(),f.material.dispose(),c.toneMapping=d,c.autoClear=h,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,n=e.mapping===Tu||e.mapping===Pu;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=_E()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yE());const o=n?this._cubemapMaterial:this._equirectMaterial,s=new Qi(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;rp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(s,Qm)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const o=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),s=gE[(n-1)%gE.length];this._blur(e,n-1,n,o,s)}t.autoClear=i}_blur(e,t,i,n,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,n,"latitudinal",o),this._halfBlur(s,e,i,i,n,"longitudinal",o)}_halfBlur(e,t,i,n,o,s,a){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,h=new Qi(this._lodPlanes[n],u),d=u.uniforms,p=this._sizeLods[i]-1,f=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*Aa-1),m=o/f,g=isFinite(o)?1+Math.floor(c*m):Aa;g>Aa&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Aa}`);const y=[];let C=0;for(let F=0;F<Aa;++F){const R=F/m,P=Math.exp(-R*R/2);y.push(P),F===0?C+=P:F<g&&(C+=2*P)}for(let F=0;F<y.length;F++)y[F]=y[F]/C;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=y,d.latitudinal.value=s==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=f,d.mipInt.value=w-i;const S=this._sizeLods[n],b=3*S*(n>w-ru?n-w+ru:0),T=4*(this._cubeSize-S);rp(t,b,T,3*S,2*S),l.setRenderTarget(t),l.render(h,Qm)}}function qW(r){const e=[],t=[],i=[];let n=r;const o=r-ru+1+pE.length;for(let s=0;s<o;s++){const a=Math.pow(2,n);t.push(a);let l=1/a;s>r-ru?l=pE[s-r+ru-1]:s===0&&(l=0),i.push(l);const u=1/(a-2),c=-u,h=1+u,d=[c,c,h,c,h,h,c,c,h,h,c,h],p=6,f=6,m=3,g=2,y=1,C=new Float32Array(m*f*p),w=new Float32Array(g*f*p),S=new Float32Array(y*f*p);for(let T=0;T<p;T++){const F=T%3*2/3-1,R=T>2?0:-1,P=[F,R,0,F+2/3,R,0,F+2/3,R+1,0,F,R,0,F+2/3,R+1,0,F,R+1,0];C.set(P,m*f*T),w.set(d,g*f*T);const G=[T,T,T,T,T,T];S.set(G,y*f*T)}const b=new or;b.setAttribute("position",new _o(C,m)),b.setAttribute("uv",new _o(w,g)),b.setAttribute("faceIndex",new _o(S,y)),e.push(b),n>ru&&n--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function vE(r,e,t){const i=new nl(r,e,t);return i.texture.mapping=Mg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rp(r,e,t,i,n){r.viewport.set(e,t,i,n),r.scissor.set(e,t,i,n)}function ZW(r,e,t){const i=new Float32Array(Aa),n=new ee(0,1,0);return new rl({name:"SphericalGaussianBlur",defines:{n:Aa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:LC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$s,depthTest:!1,depthWrite:!1})}function yE(){return new rl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:LC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$s,depthTest:!1,depthWrite:!1})}function _E(){return new rl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:LC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$s,depthTest:!1,depthWrite:!1})}function LC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function JW(r){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===Fy||l===Ny,c=l===Tu||l===Pu;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new mE(r)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||c&&h&&n(h)){t===null&&(t=new mE(r));const d=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",o),d.texture}else return null}}}return a}function n(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function QW(r){const e={};function t(i){if(e[i]!==void 0)return e[i];let n;switch(i){case"WEBGL_depth_texture":n=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=r.getExtension(i)}return e[i]=n,n}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const n=t(i);return n===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),n}}}function eV(r,e,t,i){const n={},o=new WeakMap;function s(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const f in d.attributes)e.remove(d.attributes[f]);d.removeEventListener("dispose",s),delete n[d.id];const p=o.get(d);p&&(e.remove(p),o.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(h,d){return n[d.id]===!0||(d.addEventListener("dispose",s),n[d.id]=!0,t.memory.geometries++),d}function l(h){const d=h.attributes;for(const f in d)e.update(d[f],34962);const p=h.morphAttributes;for(const f in p){const m=p[f];for(let g=0,y=m.length;g<y;g++)e.update(m[g],34962)}}function u(h){const d=[],p=h.index,f=h.attributes.position;let m=0;if(p!==null){const C=p.array;m=p.version;for(let w=0,S=C.length;w<S;w+=3){const b=C[w+0],T=C[w+1],F=C[w+2];d.push(b,T,T,F,F,b)}}else{const C=f.array;m=f.version;for(let w=0,S=C.length/3-1;w<S;w+=3){const b=w+0,T=w+1,F=w+2;d.push(b,T,T,F,F,b)}}const g=new(EM(d)?PM:TM)(d,1);g.version=m;const y=o.get(h);y&&e.remove(y),o.set(h,g)}function c(h){const d=o.get(h);if(d){const p=h.index;p!==null&&d.version<p.version&&u(h)}else u(h);return o.get(h)}return{get:a,update:l,getWireframeAttribute:c}}function tV(r,e,t,i){const n=i.isWebGL2;let o;function s(d){o=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,p){r.drawElements(o,p,a,d*l),t.update(p,o,1)}function h(d,p,f){if(f===0)return;let m,g;if(n)m=r,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](o,p,a,d*l,f),t.update(p,o,f)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=h}function iV(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function n(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:n,update:i}}function nV(r,e){return r[0]-e[0]}function rV(r,e){return Math.abs(e[1])-Math.abs(r[1])}function oV(r,e,t){const i={},n=new Float32Array(8),o=new WeakMap,s=new tn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,h,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const f=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=f!==void 0?f.length:0;let g=o.get(c);if(g===void 0||g.count!==m){let U=function(){j.dispose(),o.delete(c),c.removeEventListener("dispose",U)};g!==void 0&&g.texture.dispose();const w=c.morphAttributes.position!==void 0,S=c.morphAttributes.normal!==void 0,b=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],F=c.morphAttributes.normal||[],R=c.morphAttributes.color||[];let P=0;w===!0&&(P=1),S===!0&&(P=2),b===!0&&(P=3);let G=c.attributes.position.count*P,q=1;G>e.maxTextureSize&&(q=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const te=new Float32Array(G*q*4*m),j=new MM(te,G,q,m);j.type=Ha,j.needsUpdate=!0;const Y=P*4;for(let Z=0;Z<m;Z++){const J=T[Z],ie=F[Z],K=R[Z],H=G*q*4*Z;for(let ge=0;ge<J.count;ge++){const V=ge*Y;w===!0&&(s.fromBufferAttribute(J,ge),te[H+V+0]=s.x,te[H+V+1]=s.y,te[H+V+2]=s.z,te[H+V+3]=0),S===!0&&(s.fromBufferAttribute(ie,ge),te[H+V+4]=s.x,te[H+V+5]=s.y,te[H+V+6]=s.z,te[H+V+7]=0),b===!0&&(s.fromBufferAttribute(K,ge),te[H+V+8]=s.x,te[H+V+9]=s.y,te[H+V+10]=s.z,te[H+V+11]=K.itemSize===4?s.w:1)}}g={count:m,texture:j,size:new jt(G,q)},o.set(c,g),c.addEventListener("dispose",U)}let y=0;for(let w=0;w<p.length;w++)y+=p[w];const C=c.morphTargetsRelative?1:1-y;d.getUniforms().setValue(r,"morphTargetBaseInfluence",C),d.getUniforms().setValue(r,"morphTargetInfluences",p),d.getUniforms().setValue(r,"morphTargetsTexture",g.texture,t),d.getUniforms().setValue(r,"morphTargetsTextureSize",g.size)}else{const f=p===void 0?0:p.length;let m=i[c.id];if(m===void 0||m.length!==f){m=[];for(let S=0;S<f;S++)m[S]=[S,0];i[c.id]=m}for(let S=0;S<f;S++){const b=m[S];b[0]=S,b[1]=p[S]}m.sort(rV);for(let S=0;S<8;S++)S<f&&m[S][1]?(a[S][0]=m[S][0],a[S][1]=m[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(nV);const g=c.morphAttributes.position,y=c.morphAttributes.normal;let C=0;for(let S=0;S<8;S++){const b=a[S],T=b[0],F=b[1];T!==Number.MAX_SAFE_INTEGER&&F?(g&&c.getAttribute("morphTarget"+S)!==g[T]&&c.setAttribute("morphTarget"+S,g[T]),y&&c.getAttribute("morphNormal"+S)!==y[T]&&c.setAttribute("morphNormal"+S,y[T]),n[S]=F,C+=F):(g&&c.hasAttribute("morphTarget"+S)===!0&&c.deleteAttribute("morphTarget"+S),y&&c.hasAttribute("morphNormal"+S)===!0&&c.deleteAttribute("morphNormal"+S),n[S]=0)}const w=c.morphTargetsRelative?1:1-C;d.getUniforms().setValue(r,"morphTargetBaseInfluence",w),d.getUniforms().setValue(r,"morphTargetInfluences",n)}}return{update:l}}function sV(r,e,t,i){let n=new WeakMap;function o(l){const u=i.render.frame,c=l.geometry,h=e.get(l,c);return n.get(h)!==u&&(e.update(h),n.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function s(){n=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:o,dispose:s}}const LM=new xr,FM=new MM,NM=new j2,GM=new AM,CE=[],wE=[],SE=new Float32Array(16),EE=new Float32Array(9),xE=new Float32Array(4);function ec(r,e,t){const i=r[0];if(i<=0||i>0)return r;const n=e*t;let o=CE[n];if(o===void 0&&(o=new Float32Array(n),CE[n]=o),e!==0){i.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,r[s].toArray(o,a)}return o}function Ni(r,e){if(r.length!==e.length)return!1;for(let t=0,i=r.length;t<i;t++)if(r[t]!==e[t])return!1;return!0}function Gi(r,e){for(let t=0,i=e.length;t<i;t++)r[t]=e[t]}function Ag(r,e){let t=wE[e];t===void 0&&(t=new Int32Array(e),wE[e]=t);for(let i=0;i!==e;++i)t[i]=r.allocateTextureUnit();return t}function aV(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function lV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ni(t,e))return;r.uniform2fv(this.addr,e),Gi(t,e)}}function uV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ni(t,e))return;r.uniform3fv(this.addr,e),Gi(t,e)}}function cV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ni(t,e))return;r.uniform4fv(this.addr,e),Gi(t,e)}}function hV(r,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ni(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),Gi(t,e)}else{if(Ni(t,i))return;xE.set(i),r.uniformMatrix2fv(this.addr,!1,xE),Gi(t,i)}}function dV(r,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ni(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),Gi(t,e)}else{if(Ni(t,i))return;EE.set(i),r.uniformMatrix3fv(this.addr,!1,EE),Gi(t,i)}}function pV(r,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ni(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),Gi(t,e)}else{if(Ni(t,i))return;SE.set(i),r.uniformMatrix4fv(this.addr,!1,SE),Gi(t,i)}}function fV(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function gV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ni(t,e))return;r.uniform2iv(this.addr,e),Gi(t,e)}}function mV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ni(t,e))return;r.uniform3iv(this.addr,e),Gi(t,e)}}function vV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ni(t,e))return;r.uniform4iv(this.addr,e),Gi(t,e)}}function yV(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function _V(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ni(t,e))return;r.uniform2uiv(this.addr,e),Gi(t,e)}}function CV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ni(t,e))return;r.uniform3uiv(this.addr,e),Gi(t,e)}}function wV(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ni(t,e))return;r.uniform4uiv(this.addr,e),Gi(t,e)}}function SV(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture2D(e||LM,n)}function EV(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture3D(e||NM,n)}function xV(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTextureCube(e||GM,n)}function RV(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture2DArray(e||FM,n)}function bV(r){switch(r){case 5126:return aV;case 35664:return lV;case 35665:return uV;case 35666:return cV;case 35674:return hV;case 35675:return dV;case 35676:return pV;case 5124:case 35670:return fV;case 35667:case 35671:return gV;case 35668:case 35672:return mV;case 35669:case 35673:return vV;case 5125:return yV;case 36294:return _V;case 36295:return CV;case 36296:return wV;case 35678:case 36198:case 36298:case 36306:case 35682:return SV;case 35679:case 36299:case 36307:return EV;case 35680:case 36300:case 36308:case 36293:return xV;case 36289:case 36303:case 36311:case 36292:return RV}}function MV(r,e){r.uniform1fv(this.addr,e)}function TV(r,e){const t=ec(e,this.size,2);r.uniform2fv(this.addr,t)}function PV(r,e){const t=ec(e,this.size,3);r.uniform3fv(this.addr,t)}function OV(r,e){const t=ec(e,this.size,4);r.uniform4fv(this.addr,t)}function AV(r,e){const t=ec(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function DV(r,e){const t=ec(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function IV(r,e){const t=ec(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function LV(r,e){r.uniform1iv(this.addr,e)}function FV(r,e){r.uniform2iv(this.addr,e)}function NV(r,e){r.uniform3iv(this.addr,e)}function GV(r,e){r.uniform4iv(this.addr,e)}function HV(r,e){r.uniform1uiv(this.addr,e)}function WV(r,e){r.uniform2uiv(this.addr,e)}function VV(r,e){r.uniform3uiv(this.addr,e)}function kV(r,e){r.uniform4uiv(this.addr,e)}function BV(r,e,t){const i=this.cache,n=e.length,o=Ag(t,n);Ni(i,o)||(r.uniform1iv(this.addr,o),Gi(i,o));for(let s=0;s!==n;++s)t.setTexture2D(e[s]||LM,o[s])}function UV(r,e,t){const i=this.cache,n=e.length,o=Ag(t,n);Ni(i,o)||(r.uniform1iv(this.addr,o),Gi(i,o));for(let s=0;s!==n;++s)t.setTexture3D(e[s]||NM,o[s])}function zV(r,e,t){const i=this.cache,n=e.length,o=Ag(t,n);Ni(i,o)||(r.uniform1iv(this.addr,o),Gi(i,o));for(let s=0;s!==n;++s)t.setTextureCube(e[s]||GM,o[s])}function jV(r,e,t){const i=this.cache,n=e.length,o=Ag(t,n);Ni(i,o)||(r.uniform1iv(this.addr,o),Gi(i,o));for(let s=0;s!==n;++s)t.setTexture2DArray(e[s]||FM,o[s])}function $V(r){switch(r){case 5126:return MV;case 35664:return TV;case 35665:return PV;case 35666:return OV;case 35674:return AV;case 35675:return DV;case 35676:return IV;case 5124:case 35670:return LV;case 35667:case 35671:return FV;case 35668:case 35672:return NV;case 35669:case 35673:return GV;case 5125:return HV;case 36294:return WV;case 36295:return VV;case 36296:return kV;case 35678:case 36198:case 36298:case 36306:case 35682:return BV;case 35679:case 36299:case 36307:return UV;case 35680:case 36300:case 36308:case 36293:return zV;case 36289:case 36303:case 36311:case 36292:return jV}}class YV{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=bV(t.type)}}class KV{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=$V(t.type)}}class XV{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const n=this.seq;for(let o=0,s=n.length;o!==s;++o){const a=n[o];a.setValue(e,t[a.id],i)}}}const tv=/(\w+)(\])?(\[|\.)?/g;function RE(r,e){r.seq.push(e),r.map[e.id]=e}function qV(r,e,t){const i=r.name,n=i.length;for(tv.lastIndex=0;;){const o=tv.exec(i),s=tv.lastIndex;let a=o[1];const l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===n){RE(t,u===void 0?new YV(a,r,e):new KV(a,r,e));break}else{let h=t.map[a];h===void 0&&(h=new XV(a),RE(t,h)),t=h}}}class $p{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let n=0;n<i;++n){const o=e.getActiveUniform(t,n),s=e.getUniformLocation(t,o.name);qV(o,s,this)}}setValue(e,t,i,n){const o=this.map[t];o!==void 0&&o.setValue(e,i,n)}setOptional(e,t,i){const n=t[i];n!==void 0&&this.setValue(e,i,n)}static upload(e,t,i,n){for(let o=0,s=t.length;o!==s;++o){const a=t[o],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,n)}}static seqWithValue(e,t){const i=[];for(let n=0,o=e.length;n!==o;++n){const s=e[n];s.id in t&&i.push(s)}return i}}function bE(r,e,t){const i=r.createShader(e);return r.shaderSource(i,t),r.compileShader(i),i}let ZV=0;function JV(r,e){const t=r.split(`
`),i=[],n=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=n;s<o;s++){const a=s+1;i.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return i.join(`
`)}function QV(r){switch(r){case il:return["Linear","( value )"];case yi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function ME(r,e,t){const i=r.getShaderParameter(e,35713),n=r.getShaderInfoLog(e).trim();if(i&&n==="")return"";const o=/ERROR: 0:(\d+)/.exec(n);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+n+`

`+JV(r.getShaderSource(e),s)}else return n}function ek(r,e){const t=QV(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function tk(r,e){let t;switch(e){case r2:t="Linear";break;case o2:t="Reinhard";break;case s2:t="OptimizedCineon";break;case a2:t="ACESFilmic";break;case l2:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function ik(r){return[r.extensionDerivatives||!!r.envMapCubeUVHeight||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Yc).join(`
`)}function nk(r){const e=[];for(const t in r){const i=r[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function rk(r,e){const t={},i=r.getProgramParameter(e,35721);for(let n=0;n<i;n++){const o=r.getActiveAttrib(e,n),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),t[s]={type:o.type,location:r.getAttribLocation(e,s),locationSize:a}}return t}function Yc(r){return r!==""}function TE(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function PE(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ok=/^[ \t]*#include +<([\w\d./]+)>/gm;function By(r){return r.replace(ok,sk)}function sk(r,e){const t=wt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return By(t)}const ak=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function OE(r){return r.replace(ak,lk)}function lk(r,e,t,i){let n="";for(let o=parseInt(e);o<parseInt(t);o++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return n}function AE(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uk(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===vM?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===NG?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===jc&&(e="SHADOWMAP_TYPE_VSM"),e}function ck(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Tu:case Pu:e="ENVMAP_TYPE_CUBE";break;case Mg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function hk(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Pu:e="ENVMAP_MODE_REFRACTION";break}return e}function dk(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case CM:e="ENVMAP_BLENDING_MULTIPLY";break;case i2:e="ENVMAP_BLENDING_MIX";break;case n2:e="ENVMAP_BLENDING_ADD";break}return e}function pk(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function fk(r,e,t,i){const n=r.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=uk(t),u=ck(t),c=hk(t),h=dk(t),d=pk(t),p=t.isWebGL2?"":ik(t),f=nk(o),m=n.createProgram();let g,y,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=[f].filter(Yc).join(`
`),g.length>0&&(g+=`
`),y=[p,f].filter(Yc).join(`
`),y.length>0&&(y+=`
`)):(g=[AE(t),"#define SHADER_NAME "+t.shaderName,f,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Yc).join(`
`),y=[p,AE(t),"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==es?"#define TONE_MAPPING":"",t.toneMapping!==es?wt.tonemapping_pars_fragment:"",t.toneMapping!==es?tk("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wt.encodings_pars_fragment,ek("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Yc).join(`
`)),s=By(s),s=TE(s,t),s=PE(s,t),a=By(a),a=TE(a,t),a=PE(a,t),s=OE(s),a=OE(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",t.glslVersion===tE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===tE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const w=C+g+s,S=C+y+a,b=bE(n,35633,w),T=bE(n,35632,S);if(n.attachShader(m,b),n.attachShader(m,T),t.index0AttributeName!==void 0?n.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&n.bindAttribLocation(m,0,"position"),n.linkProgram(m),r.debug.checkShaderErrors){const P=n.getProgramInfoLog(m).trim(),G=n.getShaderInfoLog(b).trim(),q=n.getShaderInfoLog(T).trim();let te=!0,j=!0;if(n.getProgramParameter(m,35714)===!1){te=!1;const Y=ME(n,b,"vertex"),U=ME(n,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(m,35715)+`

Program Info Log: `+P+`
`+Y+`
`+U)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(G===""||q==="")&&(j=!1);j&&(this.diagnostics={runnable:te,programLog:P,vertexShader:{log:G,prefix:g},fragmentShader:{log:q,prefix:y}})}n.deleteShader(b),n.deleteShader(T);let F;this.getUniforms=function(){return F===void 0&&(F=new $p(n,m)),F};let R;return this.getAttributes=function(){return R===void 0&&(R=rk(n,m)),R},this.destroy=function(){i.releaseStatesOfProgram(this),n.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=ZV++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=T,this}let gk=0;class mk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,n=this._getShaderStage(t),o=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(n)===!1&&(s.add(n),n.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new vk(e),t.set(e,i)),i}}class vk{constructor(e){this.id=gk++,this.code=e,this.usedTimes=0}}function yk(r,e,t,i,n,o,s){const a=new IC,l=new mk,u=[],c=n.isWebGL2,h=n.logarithmicDepthBuffer,d=n.vertexTextures;let p=n.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(R,P,G,q,te){const j=q.fog,Y=te.geometry,U=R.isMeshStandardMaterial?q.environment:null,Z=(R.isMeshStandardMaterial?t:e).get(R.envMap||U),J=!!Z&&Z.mapping===Mg?Z.image.height:null,ie=f[R.type];R.precision!==null&&(p=n.getMaxPrecision(R.precision),p!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",p,"instead."));const K=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,H=K!==void 0?K.length:0;let ge=0;Y.morphAttributes.position!==void 0&&(ge=1),Y.morphAttributes.normal!==void 0&&(ge=2),Y.morphAttributes.color!==void 0&&(ge=3);let V,ye,Ce,W;if(ie){const yt=lo[ie];V=yt.vertexShader,ye=yt.fragmentShader}else V=R.vertexShader,ye=R.fragmentShader,l.update(R),Ce=l.getVertexShaderID(R),W=l.getFragmentShaderID(R);const ce=r.getRenderTarget(),it=R.alphaTest>0,Ne=R.clearcoat>0,$e=R.iridescence>0;return{isWebGL2:c,shaderID:ie,shaderName:R.type,vertexShader:V,fragmentShader:ye,defines:R.defines,customVertexShaderID:Ce,customFragmentShaderID:W,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:p,instancing:te.isInstancedMesh===!0,instancingColor:te.isInstancedMesh===!0&&te.instanceColor!==null,supportsVertexTextures:d,outputEncoding:ce===null?r.outputEncoding:ce.isXRRenderTarget===!0?ce.texture.encoding:il,map:!!R.map,matcap:!!R.matcap,envMap:!!Z,envMapMode:Z&&Z.mapping,envMapCubeUVHeight:J,lightMap:!!R.lightMap,aoMap:!!R.aoMap,emissiveMap:!!R.emissiveMap,bumpMap:!!R.bumpMap,normalMap:!!R.normalMap,objectSpaceNormalMap:R.normalMapType===T2,tangentSpaceNormalMap:R.normalMapType===M2,decodeVideoTexture:!!R.map&&R.map.isVideoTexture===!0&&R.map.encoding===yi,clearcoat:Ne,clearcoatMap:Ne&&!!R.clearcoatMap,clearcoatRoughnessMap:Ne&&!!R.clearcoatRoughnessMap,clearcoatNormalMap:Ne&&!!R.clearcoatNormalMap,iridescence:$e,iridescenceMap:$e&&!!R.iridescenceMap,iridescenceThicknessMap:$e&&!!R.iridescenceThicknessMap,displacementMap:!!R.displacementMap,roughnessMap:!!R.roughnessMap,metalnessMap:!!R.metalnessMap,specularMap:!!R.specularMap,specularIntensityMap:!!R.specularIntensityMap,specularColorMap:!!R.specularColorMap,opaque:R.transparent===!1&&R.blending===vu,alphaMap:!!R.alphaMap,alphaTest:it,gradientMap:!!R.gradientMap,sheen:R.sheen>0,sheenColorMap:!!R.sheenColorMap,sheenRoughnessMap:!!R.sheenRoughnessMap,transmission:R.transmission>0,transmissionMap:!!R.transmissionMap,thicknessMap:!!R.thicknessMap,combine:R.combine,vertexTangents:!!R.normalMap&&!!Y.attributes.tangent,vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,vertexUvs:!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatMap||!!R.clearcoatRoughnessMap||!!R.clearcoatNormalMap||!!R.iridescenceMap||!!R.iridescenceThicknessMap||!!R.displacementMap||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheenColorMap||!!R.sheenRoughnessMap,uvsVertexOnly:!(!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatNormalMap||!!R.iridescenceMap||!!R.iridescenceThicknessMap||R.transmission>0||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||R.sheen>0||!!R.sheenColorMap||!!R.sheenRoughnessMap)&&!!R.displacementMap,fog:!!j,useFog:R.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:!!R.flatShading,sizeAttenuation:R.sizeAttenuation,logarithmicDepthBuffer:h,skinning:te.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:ge,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:R.dithering,shadowMapEnabled:r.shadowMap.enabled&&G.length>0,shadowMapType:r.shadowMap.type,toneMapping:R.toneMapped?r.toneMapping:es,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===pn,flipSided:R.side===Sr,useDepthPacking:!!R.depthPacking,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:R.extensions&&R.extensions.derivatives,extensionFragDepth:R.extensions&&R.extensions.fragDepth,extensionDrawBuffers:R.extensions&&R.extensions.drawBuffers,extensionShaderTextureLOD:R.extensions&&R.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function g(R){const P=[];if(R.shaderID?P.push(R.shaderID):(P.push(R.customVertexShaderID),P.push(R.customFragmentShaderID)),R.defines!==void 0)for(const G in R.defines)P.push(G),P.push(R.defines[G]);return R.isRawShaderMaterial===!1&&(y(P,R),C(P,R),P.push(r.outputEncoding)),P.push(R.customProgramCacheKey),P.join()}function y(R,P){R.push(P.precision),R.push(P.outputEncoding),R.push(P.envMapMode),R.push(P.envMapCubeUVHeight),R.push(P.combine),R.push(P.vertexUvs),R.push(P.fogExp2),R.push(P.sizeAttenuation),R.push(P.morphTargetsCount),R.push(P.morphAttributeCount),R.push(P.numDirLights),R.push(P.numPointLights),R.push(P.numSpotLights),R.push(P.numSpotLightMaps),R.push(P.numHemiLights),R.push(P.numRectAreaLights),R.push(P.numDirLightShadows),R.push(P.numPointLightShadows),R.push(P.numSpotLightShadows),R.push(P.numSpotLightShadowsWithMaps),R.push(P.shadowMapType),R.push(P.toneMapping),R.push(P.numClippingPlanes),R.push(P.numClipIntersection),R.push(P.depthPacking)}function C(R,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.iridescence&&a.enable(18),P.iridescenceMap&&a.enable(19),P.iridescenceThicknessMap&&a.enable(20),P.displacementMap&&a.enable(21),P.specularMap&&a.enable(22),P.roughnessMap&&a.enable(23),P.metalnessMap&&a.enable(24),P.gradientMap&&a.enable(25),P.alphaMap&&a.enable(26),P.alphaTest&&a.enable(27),P.vertexColors&&a.enable(28),P.vertexAlphas&&a.enable(29),P.vertexUvs&&a.enable(30),P.vertexTangents&&a.enable(31),P.uvsVertexOnly&&a.enable(32),R.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),R.push(a.mask)}function w(R){const P=f[R.type];let G;if(P){const q=lo[P];G=n3.clone(q.uniforms)}else G=R.uniforms;return G}function S(R,P){let G;for(let q=0,te=u.length;q<te;q++){const j=u[q];if(j.cacheKey===P){G=j,++G.usedTimes;break}}return G===void 0&&(G=new fk(r,P,R,o),u.push(G)),G}function b(R){if(--R.usedTimes===0){const P=u.indexOf(R);u[P]=u[u.length-1],u.pop(),R.destroy()}}function T(R){l.remove(R)}function F(){l.dispose()}return{getParameters:m,getProgramCacheKey:g,getUniforms:w,acquireProgram:S,releaseProgram:b,releaseShaderCache:T,programs:u,dispose:F}}function _k(){let r=new WeakMap;function e(o){let s=r.get(o);return s===void 0&&(s={},r.set(o,s)),s}function t(o){r.delete(o)}function i(o,s,a){r.get(o)[s]=a}function n(){r=new WeakMap}return{get:e,remove:t,update:i,dispose:n}}function Ck(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function DE(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function IE(){const r=[];let e=0;const t=[],i=[],n=[];function o(){e=0,t.length=0,i.length=0,n.length=0}function s(h,d,p,f,m,g){let y=r[e];return y===void 0?(y={id:h.id,object:h,geometry:d,material:p,groupOrder:f,renderOrder:h.renderOrder,z:m,group:g},r[e]=y):(y.id=h.id,y.object=h,y.geometry=d,y.material=p,y.groupOrder=f,y.renderOrder=h.renderOrder,y.z=m,y.group=g),e++,y}function a(h,d,p,f,m,g){const y=s(h,d,p,f,m,g);p.transmission>0?i.push(y):p.transparent===!0?n.push(y):t.push(y)}function l(h,d,p,f,m,g){const y=s(h,d,p,f,m,g);p.transmission>0?i.unshift(y):p.transparent===!0?n.unshift(y):t.unshift(y)}function u(h,d){t.length>1&&t.sort(h||Ck),i.length>1&&i.sort(d||DE),n.length>1&&n.sort(d||DE)}function c(){for(let h=e,d=r.length;h<d;h++){const p=r[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:i,transparent:n,init:o,push:a,unshift:l,finish:c,sort:u}}function wk(){let r=new WeakMap;function e(i,n){const o=r.get(i);let s;return o===void 0?(s=new IE,r.set(i,[s])):n>=o.length?(s=new IE,o.push(s)):s=o[n],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function Sk(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new ai};break;case"SpotLight":t={position:new ee,direction:new ee,color:new ai,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new ai,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new ai,groundColor:new ai};break;case"RectAreaLight":t={color:new ai,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return r[e.id]=t,t}}}function Ek(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let xk=0;function Rk(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function bk(r,e){const t=new Sk,i=Ek(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)n.probe.push(new ee);const o=new ee,s=new Yi,a=new Yi;function l(c,h){let d=0,p=0,f=0;for(let q=0;q<9;q++)n.probe[q].set(0,0,0);let m=0,g=0,y=0,C=0,w=0,S=0,b=0,T=0,F=0,R=0;c.sort(Rk);const P=h!==!0?Math.PI:1;for(let q=0,te=c.length;q<te;q++){const j=c[q],Y=j.color,U=j.intensity,Z=j.distance,J=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)d+=Y.r*U*P,p+=Y.g*U*P,f+=Y.b*U*P;else if(j.isLightProbe)for(let ie=0;ie<9;ie++)n.probe[ie].addScaledVector(j.sh.coefficients[ie],U);else if(j.isDirectionalLight){const ie=t.get(j);if(ie.color.copy(j.color).multiplyScalar(j.intensity*P),j.castShadow){const K=j.shadow,H=i.get(j);H.shadowBias=K.bias,H.shadowNormalBias=K.normalBias,H.shadowRadius=K.radius,H.shadowMapSize=K.mapSize,n.directionalShadow[m]=H,n.directionalShadowMap[m]=J,n.directionalShadowMatrix[m]=j.shadow.matrix,S++}n.directional[m]=ie,m++}else if(j.isSpotLight){const ie=t.get(j);ie.position.setFromMatrixPosition(j.matrixWorld),ie.color.copy(Y).multiplyScalar(U*P),ie.distance=Z,ie.coneCos=Math.cos(j.angle),ie.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),ie.decay=j.decay,n.spot[y]=ie;const K=j.shadow;if(j.map&&(n.spotLightMap[F]=j.map,F++,K.updateMatrices(j),j.castShadow&&R++),n.spotLightMatrix[y]=K.matrix,j.castShadow){const H=i.get(j);H.shadowBias=K.bias,H.shadowNormalBias=K.normalBias,H.shadowRadius=K.radius,H.shadowMapSize=K.mapSize,n.spotShadow[y]=H,n.spotShadowMap[y]=J,T++}y++}else if(j.isRectAreaLight){const ie=t.get(j);ie.color.copy(Y).multiplyScalar(U),ie.halfWidth.set(j.width*.5,0,0),ie.halfHeight.set(0,j.height*.5,0),n.rectArea[C]=ie,C++}else if(j.isPointLight){const ie=t.get(j);if(ie.color.copy(j.color).multiplyScalar(j.intensity*P),ie.distance=j.distance,ie.decay=j.decay,j.castShadow){const K=j.shadow,H=i.get(j);H.shadowBias=K.bias,H.shadowNormalBias=K.normalBias,H.shadowRadius=K.radius,H.shadowMapSize=K.mapSize,H.shadowCameraNear=K.camera.near,H.shadowCameraFar=K.camera.far,n.pointShadow[g]=H,n.pointShadowMap[g]=J,n.pointShadowMatrix[g]=j.shadow.matrix,b++}n.point[g]=ie,g++}else if(j.isHemisphereLight){const ie=t.get(j);ie.skyColor.copy(j.color).multiplyScalar(U*P),ie.groundColor.copy(j.groundColor).multiplyScalar(U*P),n.hemi[w]=ie,w++}}C>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Pe.LTC_FLOAT_1,n.rectAreaLTC2=Pe.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=Pe.LTC_HALF_1,n.rectAreaLTC2=Pe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=d,n.ambient[1]=p,n.ambient[2]=f;const G=n.hash;(G.directionalLength!==m||G.pointLength!==g||G.spotLength!==y||G.rectAreaLength!==C||G.hemiLength!==w||G.numDirectionalShadows!==S||G.numPointShadows!==b||G.numSpotShadows!==T||G.numSpotMaps!==F)&&(n.directional.length=m,n.spot.length=y,n.rectArea.length=C,n.point.length=g,n.hemi.length=w,n.directionalShadow.length=S,n.directionalShadowMap.length=S,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=T,n.spotShadowMap.length=T,n.directionalShadowMatrix.length=S,n.pointShadowMatrix.length=b,n.spotLightMatrix.length=T+F-R,n.spotLightMap.length=F,n.numSpotLightShadowsWithMaps=R,G.directionalLength=m,G.pointLength=g,G.spotLength=y,G.rectAreaLength=C,G.hemiLength=w,G.numDirectionalShadows=S,G.numPointShadows=b,G.numSpotShadows=T,G.numSpotMaps=F,n.version=xk++)}function u(c,h){let d=0,p=0,f=0,m=0,g=0;const y=h.matrixWorldInverse;for(let C=0,w=c.length;C<w;C++){const S=c[C];if(S.isDirectionalLight){const b=n.directional[d];b.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),b.direction.sub(o),b.direction.transformDirection(y),d++}else if(S.isSpotLight){const b=n.spot[f];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(y),b.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),b.direction.sub(o),b.direction.transformDirection(y),f++}else if(S.isRectAreaLight){const b=n.rectArea[m];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(y),a.identity(),s.copy(S.matrixWorld),s.premultiply(y),a.extractRotation(s),b.halfWidth.set(S.width*.5,0,0),b.halfHeight.set(0,S.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),m++}else if(S.isPointLight){const b=n.point[p];b.position.setFromMatrixPosition(S.matrixWorld),b.position.applyMatrix4(y),p++}else if(S.isHemisphereLight){const b=n.hemi[g];b.direction.setFromMatrixPosition(S.matrixWorld),b.direction.transformDirection(y),g++}}}return{setup:l,setupView:u,state:n}}function LE(r,e){const t=new bk(r,e),i=[],n=[];function o(){i.length=0,n.length=0}function s(h){i.push(h)}function a(h){n.push(h)}function l(h){t.setup(i,h)}function u(h){t.setupView(i,h)}return{init:o,state:{lightsArray:i,shadowsArray:n,lights:t},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function Mk(r,e){let t=new WeakMap;function i(o,s=0){const a=t.get(o);let l;return a===void 0?(l=new LE(r,e),t.set(o,[l])):s>=a.length?(l=new LE(r,e),a.push(l)):l=a[s],l}function n(){t=new WeakMap}return{get:i,dispose:n}}class Tk extends ed{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=R2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Pk extends ed{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Ok=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ak=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Dk(r,e,t){let i=new DM;const n=new jt,o=new jt,s=new tn,a=new Tk({depthPacking:b2}),l=new Pk,u={},c=t.maxTextureSize,h={0:Sr,1:Mu,2:pn},d=new rl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new jt},radius:{value:4}},vertexShader:Ok,fragmentShader:Ak}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const f=new or;f.setAttribute("position",new _o(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Qi(f,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vM,this.render=function(S,b,T){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||S.length===0)return;const F=r.getRenderTarget(),R=r.getActiveCubeFace(),P=r.getActiveMipmapLevel(),G=r.state;G.setBlending($s),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let q=0,te=S.length;q<te;q++){const j=S[q],Y=j.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;n.copy(Y.mapSize);const U=Y.getFrameExtents();if(n.multiply(U),o.copy(Y.mapSize),(n.x>c||n.y>c)&&(n.x>c&&(o.x=Math.floor(c/U.x),n.x=o.x*U.x,Y.mapSize.x=o.x),n.y>c&&(o.y=Math.floor(c/U.y),n.y=o.y*U.y,Y.mapSize.y=o.y)),Y.map===null){const J=this.type!==jc?{minFilter:Gn,magFilter:Gn}:{};Y.map=new nl(n.x,n.y,J),Y.map.texture.name=j.name+".shadowMap",Y.camera.updateProjectionMatrix()}r.setRenderTarget(Y.map),r.clear();const Z=Y.getViewportCount();for(let J=0;J<Z;J++){const ie=Y.getViewport(J);s.set(o.x*ie.x,o.y*ie.y,o.x*ie.z,o.y*ie.w),G.viewport(s),Y.updateMatrices(j,J),i=Y.getFrustum(),w(b,T,Y.camera,j,this.type)}Y.isPointLightShadow!==!0&&this.type===jc&&y(Y,T),Y.needsUpdate=!1}g.needsUpdate=!1,r.setRenderTarget(F,R,P)};function y(S,b){const T=e.update(m);d.defines.VSM_SAMPLES!==S.blurSamples&&(d.defines.VSM_SAMPLES=S.blurSamples,p.defines.VSM_SAMPLES=S.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new nl(n.x,n.y)),d.uniforms.shadow_pass.value=S.map.texture,d.uniforms.resolution.value=S.mapSize,d.uniforms.radius.value=S.radius,r.setRenderTarget(S.mapPass),r.clear(),r.renderBufferDirect(b,null,T,d,m,null),p.uniforms.shadow_pass.value=S.mapPass.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,r.setRenderTarget(S.map),r.clear(),r.renderBufferDirect(b,null,T,p,m,null)}function C(S,b,T,F,R,P){let G=null;const q=T.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(q!==void 0?G=q:G=T.isPointLight===!0?l:a,r.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0){const te=G.uuid,j=b.uuid;let Y=u[te];Y===void 0&&(Y={},u[te]=Y);let U=Y[j];U===void 0&&(U=G.clone(),Y[j]=U),G=U}return G.visible=b.visible,G.wireframe=b.wireframe,P===jc?G.side=b.shadowSide!==null?b.shadowSide:b.side:G.side=b.shadowSide!==null?b.shadowSide:h[b.side],G.alphaMap=b.alphaMap,G.alphaTest=b.alphaTest,G.clipShadows=b.clipShadows,G.clippingPlanes=b.clippingPlanes,G.clipIntersection=b.clipIntersection,G.displacementMap=b.displacementMap,G.displacementScale=b.displacementScale,G.displacementBias=b.displacementBias,G.wireframeLinewidth=b.wireframeLinewidth,G.linewidth=b.linewidth,T.isPointLight===!0&&G.isMeshDistanceMaterial===!0&&(G.referencePosition.setFromMatrixPosition(T.matrixWorld),G.nearDistance=F,G.farDistance=R),G}function w(S,b,T,F,R){if(S.visible===!1)return;if(S.layers.test(b.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&R===jc)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld);const q=e.update(S),te=S.material;if(Array.isArray(te)){const j=q.groups;for(let Y=0,U=j.length;Y<U;Y++){const Z=j[Y],J=te[Z.materialIndex];if(J&&J.visible){const ie=C(S,J,F,T.near,T.far,R);r.renderBufferDirect(T,null,q,ie,S,Z)}}}else if(te.visible){const j=C(S,te,F,T.near,T.far,R);r.renderBufferDirect(T,null,q,j,S,null)}}const G=S.children;for(let q=0,te=G.length;q<te;q++)w(G[q],b,T,F,R)}}function Ik(r,e,t){const i=t.isWebGL2;function n(){let B=!1;const ae=new tn;let ve=null;const Te=new tn(0,0,0,0);return{setMask:function(ke){ve!==ke&&!B&&(r.colorMask(ke,ke,ke,ke),ve=ke)},setLocked:function(ke){B=ke},setClear:function(ke,rt,ht,ri,Ft){Ft===!0&&(ke*=ri,rt*=ri,ht*=ri),ae.set(ke,rt,ht,ri),Te.equals(ae)===!1&&(r.clearColor(ke,rt,ht,ri),Te.copy(ae))},reset:function(){B=!1,ve=null,Te.set(-1,0,0,0)}}}function o(){let B=!1,ae=null,ve=null,Te=null;return{setTest:function(ke){ke?it(2929):Ne(2929)},setMask:function(ke){ae!==ke&&!B&&(r.depthMask(ke),ae=ke)},setFunc:function(ke){if(ve!==ke){switch(ke){case XG:r.depthFunc(512);break;case qG:r.depthFunc(519);break;case ZG:r.depthFunc(513);break;case Ly:r.depthFunc(515);break;case JG:r.depthFunc(514);break;case QG:r.depthFunc(518);break;case e2:r.depthFunc(516);break;case t2:r.depthFunc(517);break;default:r.depthFunc(515)}ve=ke}},setLocked:function(ke){B=ke},setClear:function(ke){Te!==ke&&(r.clearDepth(ke),Te=ke)},reset:function(){B=!1,ae=null,ve=null,Te=null}}}function s(){let B=!1,ae=null,ve=null,Te=null,ke=null,rt=null,ht=null,ri=null,Ft=null;return{setTest:function(_t){B||(_t?it(2960):Ne(2960))},setMask:function(_t){ae!==_t&&!B&&(r.stencilMask(_t),ae=_t)},setFunc:function(_t,Jt,Pi){(ve!==_t||Te!==Jt||ke!==Pi)&&(r.stencilFunc(_t,Jt,Pi),ve=_t,Te=Jt,ke=Pi)},setOp:function(_t,Jt,Pi){(rt!==_t||ht!==Jt||ri!==Pi)&&(r.stencilOp(_t,Jt,Pi),rt=_t,ht=Jt,ri=Pi)},setLocked:function(_t){B=_t},setClear:function(_t){Ft!==_t&&(r.clearStencil(_t),Ft=_t)},reset:function(){B=!1,ae=null,ve=null,Te=null,ke=null,rt=null,ht=null,ri=null,Ft=null}}}const a=new n,l=new o,u=new s,c=new WeakMap,h=new WeakMap;let d={},p={},f=new WeakMap,m=[],g=null,y=!1,C=null,w=null,S=null,b=null,T=null,F=null,R=null,P=!1,G=null,q=null,te=null,j=null,Y=null;const U=r.getParameter(35661);let Z=!1,J=0;const ie=r.getParameter(7938);ie.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(ie)[1]),Z=J>=1):ie.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),Z=J>=2);let K=null,H={};const ge=r.getParameter(3088),V=r.getParameter(2978),ye=new tn().fromArray(ge),Ce=new tn().fromArray(V);function W(B,ae,ve){const Te=new Uint8Array(4),ke=r.createTexture();r.bindTexture(B,ke),r.texParameteri(B,10241,9728),r.texParameteri(B,10240,9728);for(let rt=0;rt<ve;rt++)r.texImage2D(ae+rt,0,6408,1,1,0,6408,5121,Te);return ke}const ce={};ce[3553]=W(3553,3553,1),ce[34067]=W(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),it(2929),l.setFunc(Ly),Yt(!1),Si(RS),it(2884),$t($s);function it(B){d[B]!==!0&&(r.enable(B),d[B]=!0)}function Ne(B){d[B]!==!1&&(r.disable(B),d[B]=!1)}function $e(B,ae){return p[B]!==ae?(r.bindFramebuffer(B,ae),p[B]=ae,i&&(B===36009&&(p[36160]=ae),B===36160&&(p[36009]=ae)),!0):!1}function xe(B,ae){let ve=m,Te=!1;if(B)if(ve=f.get(ae),ve===void 0&&(ve=[],f.set(ae,ve)),B.isWebGLMultipleRenderTargets){const ke=B.texture;if(ve.length!==ke.length||ve[0]!==36064){for(let rt=0,ht=ke.length;rt<ht;rt++)ve[rt]=36064+rt;ve.length=ke.length,Te=!0}}else ve[0]!==36064&&(ve[0]=36064,Te=!0);else ve[0]!==1029&&(ve[0]=1029,Te=!0);Te&&(t.isWebGL2?r.drawBuffers(ve):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ve))}function yt(B){return g!==B?(r.useProgram(B),g=B,!0):!1}const nt={[Ql]:32774,[HG]:32778,[WG]:32779};if(i)nt[PS]=32775,nt[OS]=32776;else{const B=e.get("EXT_blend_minmax");B!==null&&(nt[PS]=B.MIN_EXT,nt[OS]=B.MAX_EXT)}const Ke={[VG]:0,[kG]:1,[BG]:768,[yM]:770,[KG]:776,[$G]:774,[zG]:772,[UG]:769,[_M]:771,[YG]:775,[jG]:773};function $t(B,ae,ve,Te,ke,rt,ht,ri){if(B===$s){y===!0&&(Ne(3042),y=!1);return}if(y===!1&&(it(3042),y=!0),B!==GG){if(B!==C||ri!==P){if((w!==Ql||T!==Ql)&&(r.blendEquation(32774),w=Ql,T=Ql),ri)switch(B){case vu:r.blendFuncSeparate(1,771,1,771);break;case bS:r.blendFunc(1,1);break;case MS:r.blendFuncSeparate(0,769,0,1);break;case TS:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",B);break}else switch(B){case vu:r.blendFuncSeparate(770,771,1,771);break;case bS:r.blendFunc(770,1);break;case MS:r.blendFuncSeparate(0,769,0,1);break;case TS:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",B);break}S=null,b=null,F=null,R=null,C=B,P=ri}return}ke=ke||ae,rt=rt||ve,ht=ht||Te,(ae!==w||ke!==T)&&(r.blendEquationSeparate(nt[ae],nt[ke]),w=ae,T=ke),(ve!==S||Te!==b||rt!==F||ht!==R)&&(r.blendFuncSeparate(Ke[ve],Ke[Te],Ke[rt],Ke[ht]),S=ve,b=Te,F=rt,R=ht),C=B,P=null}function ii(B,ae){B.side===pn?Ne(2884):it(2884);let ve=B.side===Sr;ae&&(ve=!ve),Yt(ve),B.blending===vu&&B.transparent===!1?$t($s):$t(B.blending,B.blendEquation,B.blendSrc,B.blendDst,B.blendEquationAlpha,B.blendSrcAlpha,B.blendDstAlpha,B.premultipliedAlpha),l.setFunc(B.depthFunc),l.setTest(B.depthTest),l.setMask(B.depthWrite),a.setMask(B.colorWrite);const Te=B.stencilWrite;u.setTest(Te),Te&&(u.setMask(B.stencilWriteMask),u.setFunc(B.stencilFunc,B.stencilRef,B.stencilFuncMask),u.setOp(B.stencilFail,B.stencilZFail,B.stencilZPass)),Qe(B.polygonOffset,B.polygonOffsetFactor,B.polygonOffsetUnits),B.alphaToCoverage===!0?it(32926):Ne(32926)}function Yt(B){G!==B&&(B?r.frontFace(2304):r.frontFace(2305),G=B)}function Si(B){B!==LG?(it(2884),B!==q&&(B===RS?r.cullFace(1029):B===FG?r.cullFace(1028):r.cullFace(1032))):Ne(2884),q=B}function Zt(B){B!==te&&(Z&&r.lineWidth(B),te=B)}function Qe(B,ae,ve){B?(it(32823),(j!==ae||Y!==ve)&&(r.polygonOffset(ae,ve),j=ae,Y=ve)):Ne(32823)}function gi(B){B?it(3089):Ne(3089)}function Kt(B){B===void 0&&(B=33984+U-1),K!==B&&(r.activeTexture(B),K=B)}function I(B,ae,ve){ve===void 0&&(K===null?ve=33984+U-1:ve=K);let Te=H[ve];Te===void 0&&(Te={type:void 0,texture:void 0},H[ve]=Te),(Te.type!==B||Te.texture!==ae)&&(K!==ve&&(r.activeTexture(ve),K=ve),r.bindTexture(B,ae||ce[B]),Te.type=B,Te.texture=ae)}function O(){const B=H[K];B!==void 0&&B.type!==void 0&&(r.bindTexture(B.type,null),B.type=void 0,B.texture=void 0)}function oe(){try{r.compressedTexImage2D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function _e(){try{r.compressedTexImage3D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ee(){try{r.texSubImage2D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Me(){try{r.texSubImage3D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ye(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function be(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function le(){try{r.texStorage2D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ae(){try{r.texStorage3D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function ze(){try{r.texImage2D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function We(){try{r.texImage3D.apply(r,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function je(B){ye.equals(B)===!1&&(r.scissor(B.x,B.y,B.z,B.w),ye.copy(B))}function Ve(B){Ce.equals(B)===!1&&(r.viewport(B.x,B.y,B.z,B.w),Ce.copy(B))}function xt(B,ae){let ve=h.get(ae);ve===void 0&&(ve=new WeakMap,h.set(ae,ve));let Te=ve.get(B);Te===void 0&&(Te=r.getUniformBlockIndex(ae,B.name),ve.set(B,Te))}function Lt(B,ae){const Te=h.get(ae).get(B);c.get(B)!==Te&&(r.uniformBlockBinding(ae,Te,B.__bindingPointIndex),c.set(B,Te))}function ni(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),i===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),d={},K=null,H={},p={},f=new WeakMap,m=[],g=null,y=!1,C=null,w=null,S=null,b=null,T=null,F=null,R=null,P=!1,G=null,q=null,te=null,j=null,Y=null,ye.set(0,0,r.canvas.width,r.canvas.height),Ce.set(0,0,r.canvas.width,r.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:it,disable:Ne,bindFramebuffer:$e,drawBuffers:xe,useProgram:yt,setBlending:$t,setMaterial:ii,setFlipSided:Yt,setCullFace:Si,setLineWidth:Zt,setPolygonOffset:Qe,setScissorTest:gi,activeTexture:Kt,bindTexture:I,unbindTexture:O,compressedTexImage2D:oe,compressedTexImage3D:_e,texImage2D:ze,texImage3D:We,updateUBOMapping:xt,uniformBlockBinding:Lt,texStorage2D:le,texStorage3D:Ae,texSubImage2D:Ee,texSubImage3D:Me,compressedTexSubImage2D:Ye,compressedTexSubImage3D:be,scissor:je,viewport:Ve,reset:ni}}function Lk(r,e,t,i,n,o,s){const a=n.isWebGL2,l=n.maxTextures,u=n.maxCubemapSize,c=n.maxTextureSize,h=n.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),f=new WeakMap;let m;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(I,O){return y?new OffscreenCanvas(I,O):Ah("canvas")}function w(I,O,oe,_e){let Ee=1;if((I.width>_e||I.height>_e)&&(Ee=_e/Math.max(I.width,I.height)),Ee<1||O===!0)if(typeof HTMLImageElement<"u"&&I instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&I instanceof ImageBitmap){const Me=O?Ef:Math.floor,Ye=Me(Ee*I.width),be=Me(Ee*I.height);m===void 0&&(m=C(Ye,be));const le=oe?C(Ye,be):m;return le.width=Ye,le.height=be,le.getContext("2d").drawImage(I,0,0,Ye,be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+I.width+"x"+I.height+") to ("+Ye+"x"+be+")."),le}else return"data"in I&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+I.width+"x"+I.height+")."),I;return I}function S(I){return Vy(I.width)&&Vy(I.height)}function b(I){return a?!1:I.wrapS!==Gr||I.wrapT!==Gr||I.minFilter!==Gn&&I.minFilter!==gr}function T(I,O){return I.generateMipmaps&&O&&I.minFilter!==Gn&&I.minFilter!==gr}function F(I){r.generateMipmap(I)}function R(I,O,oe,_e,Ee=!1){if(a===!1)return O;if(I!==null){if(r[I]!==void 0)return r[I];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+I+"'")}let Me=O;return O===6403&&(oe===5126&&(Me=33326),oe===5131&&(Me=33325),oe===5121&&(Me=33321)),O===33319&&(oe===5126&&(Me=33328),oe===5131&&(Me=33327),oe===5121&&(Me=33323)),O===6408&&(oe===5126&&(Me=34836),oe===5131&&(Me=34842),oe===5121&&(Me=_e===yi&&Ee===!1?35907:32856),oe===32819&&(Me=32854),oe===32820&&(Me=32855)),(Me===33325||Me===33326||Me===33327||Me===33328||Me===34842||Me===34836)&&e.get("EXT_color_buffer_float"),Me}function P(I,O,oe){return T(I,oe)===!0||I.isFramebufferTexture&&I.minFilter!==Gn&&I.minFilter!==gr?Math.log2(Math.max(O.width,O.height))+1:I.mipmaps!==void 0&&I.mipmaps.length>0?I.mipmaps.length:I.isCompressedTexture&&Array.isArray(I.image)?O.mipmaps.length:1}function G(I){return I===Gn||I===AS||I===DS?9728:9729}function q(I){const O=I.target;O.removeEventListener("dispose",q),j(O),O.isVideoTexture&&f.delete(O)}function te(I){const O=I.target;O.removeEventListener("dispose",te),U(O)}function j(I){const O=i.get(I);if(O.__webglInit===void 0)return;const oe=I.source,_e=g.get(oe);if(_e){const Ee=_e[O.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&Y(I),Object.keys(_e).length===0&&g.delete(oe)}i.remove(I)}function Y(I){const O=i.get(I);r.deleteTexture(O.__webglTexture);const oe=I.source,_e=g.get(oe);delete _e[O.__cacheKey],s.memory.textures--}function U(I){const O=I.texture,oe=i.get(I),_e=i.get(O);if(_e.__webglTexture!==void 0&&(r.deleteTexture(_e.__webglTexture),s.memory.textures--),I.depthTexture&&I.depthTexture.dispose(),I.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++)r.deleteFramebuffer(oe.__webglFramebuffer[Ee]),oe.__webglDepthbuffer&&r.deleteRenderbuffer(oe.__webglDepthbuffer[Ee]);else{if(r.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&r.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&r.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Ee=0;Ee<oe.__webglColorRenderbuffer.length;Ee++)oe.__webglColorRenderbuffer[Ee]&&r.deleteRenderbuffer(oe.__webglColorRenderbuffer[Ee]);oe.__webglDepthRenderbuffer&&r.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(I.isWebGLMultipleRenderTargets)for(let Ee=0,Me=O.length;Ee<Me;Ee++){const Ye=i.get(O[Ee]);Ye.__webglTexture&&(r.deleteTexture(Ye.__webglTexture),s.memory.textures--),i.remove(O[Ee])}i.remove(O),i.remove(I)}let Z=0;function J(){Z=0}function ie(){const I=Z;return I>=l&&console.warn("THREE.WebGLTextures: Trying to use "+I+" texture units while this GPU supports only "+l),Z+=1,I}function K(I){const O=[];return O.push(I.wrapS),O.push(I.wrapT),O.push(I.wrapR||0),O.push(I.magFilter),O.push(I.minFilter),O.push(I.anisotropy),O.push(I.internalFormat),O.push(I.format),O.push(I.type),O.push(I.generateMipmaps),O.push(I.premultiplyAlpha),O.push(I.flipY),O.push(I.unpackAlignment),O.push(I.encoding),O.join()}function H(I,O){const oe=i.get(I);if(I.isVideoTexture&&gi(I),I.isRenderTargetTexture===!1&&I.version>0&&oe.__version!==I.version){const _e=I.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ne(oe,I,O);return}}t.bindTexture(3553,oe.__webglTexture,33984+O)}function ge(I,O){const oe=i.get(I);if(I.version>0&&oe.__version!==I.version){Ne(oe,I,O);return}t.bindTexture(35866,oe.__webglTexture,33984+O)}function V(I,O){const oe=i.get(I);if(I.version>0&&oe.__version!==I.version){Ne(oe,I,O);return}t.bindTexture(32879,oe.__webglTexture,33984+O)}function ye(I,O){const oe=i.get(I);if(I.version>0&&oe.__version!==I.version){$e(oe,I,O);return}t.bindTexture(34067,oe.__webglTexture,33984+O)}const Ce={[Gy]:10497,[Gr]:33071,[Hy]:33648},W={[Gn]:9728,[AS]:9984,[DS]:9986,[gr]:9729,[u2]:9985,[Tg]:9987};function ce(I,O,oe){if(oe?(r.texParameteri(I,10242,Ce[O.wrapS]),r.texParameteri(I,10243,Ce[O.wrapT]),(I===32879||I===35866)&&r.texParameteri(I,32882,Ce[O.wrapR]),r.texParameteri(I,10240,W[O.magFilter]),r.texParameteri(I,10241,W[O.minFilter])):(r.texParameteri(I,10242,33071),r.texParameteri(I,10243,33071),(I===32879||I===35866)&&r.texParameteri(I,32882,33071),(O.wrapS!==Gr||O.wrapT!==Gr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(I,10240,G(O.magFilter)),r.texParameteri(I,10241,G(O.minFilter)),O.minFilter!==Gn&&O.minFilter!==gr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(O.type===Ha&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===Oh&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||i.get(O).__currentAnisotropy)&&(r.texParameterf(I,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,n.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy)}}function it(I,O){let oe=!1;I.__webglInit===void 0&&(I.__webglInit=!0,O.addEventListener("dispose",q));const _e=O.source;let Ee=g.get(_e);Ee===void 0&&(Ee={},g.set(_e,Ee));const Me=K(O);if(Me!==I.__cacheKey){Ee[Me]===void 0&&(Ee[Me]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,oe=!0),Ee[Me].usedTimes++;const Ye=Ee[I.__cacheKey];Ye!==void 0&&(Ee[I.__cacheKey].usedTimes--,Ye.usedTimes===0&&Y(O)),I.__cacheKey=Me,I.__webglTexture=Ee[Me].texture}return oe}function Ne(I,O,oe){let _e=3553;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(_e=35866),O.isData3DTexture&&(_e=32879);const Ee=it(I,O),Me=O.source;t.bindTexture(_e,I.__webglTexture,33984+oe);const Ye=i.get(Me);if(Me.version!==Ye.__version||Ee===!0){t.activeTexture(33984+oe),r.pixelStorei(37440,O.flipY),r.pixelStorei(37441,O.premultiplyAlpha),r.pixelStorei(3317,O.unpackAlignment),r.pixelStorei(37443,0);const be=b(O)&&S(O.image)===!1;let le=w(O.image,be,!1,c);le=Kt(O,le);const Ae=S(le)||a,ze=o.convert(O.format,O.encoding);let We=o.convert(O.type),je=R(O.internalFormat,ze,We,O.encoding,O.isVideoTexture);ce(_e,O,Ae);let Ve;const xt=O.mipmaps,Lt=a&&O.isVideoTexture!==!0,ni=Ye.__version===void 0||Ee===!0,B=P(O,le,Ae);if(O.isDepthTexture)je=6402,a?O.type===Ha?je=36012:O.type===Ga?je=33190:O.type===yu?je=35056:je=33189:O.type===Ha&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===ja&&je===6402&&O.type!==SM&&O.type!==Ga&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=Ga,We=o.convert(O.type)),O.format===Ou&&je===6402&&(je=34041,O.type!==yu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=yu,We=o.convert(O.type))),ni&&(Lt?t.texStorage2D(3553,1,je,le.width,le.height):t.texImage2D(3553,0,je,le.width,le.height,0,ze,We,null));else if(O.isDataTexture)if(xt.length>0&&Ae){Lt&&ni&&t.texStorage2D(3553,B,je,xt[0].width,xt[0].height);for(let ae=0,ve=xt.length;ae<ve;ae++)Ve=xt[ae],Lt?t.texSubImage2D(3553,ae,0,0,Ve.width,Ve.height,ze,We,Ve.data):t.texImage2D(3553,ae,je,Ve.width,Ve.height,0,ze,We,Ve.data);O.generateMipmaps=!1}else Lt?(ni&&t.texStorage2D(3553,B,je,le.width,le.height),t.texSubImage2D(3553,0,0,0,le.width,le.height,ze,We,le.data)):t.texImage2D(3553,0,je,le.width,le.height,0,ze,We,le.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Lt&&ni&&t.texStorage3D(35866,B,je,xt[0].width,xt[0].height,le.depth);for(let ae=0,ve=xt.length;ae<ve;ae++)Ve=xt[ae],O.format!==Hr?ze!==null?Lt?t.compressedTexSubImage3D(35866,ae,0,0,0,Ve.width,Ve.height,le.depth,ze,Ve.data,0,0):t.compressedTexImage3D(35866,ae,je,Ve.width,Ve.height,le.depth,0,Ve.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?t.texSubImage3D(35866,ae,0,0,0,Ve.width,Ve.height,le.depth,ze,We,Ve.data):t.texImage3D(35866,ae,je,Ve.width,Ve.height,le.depth,0,ze,We,Ve.data)}else{Lt&&ni&&t.texStorage2D(3553,B,je,xt[0].width,xt[0].height);for(let ae=0,ve=xt.length;ae<ve;ae++)Ve=xt[ae],O.format!==Hr?ze!==null?Lt?t.compressedTexSubImage2D(3553,ae,0,0,Ve.width,Ve.height,ze,Ve.data):t.compressedTexImage2D(3553,ae,je,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?t.texSubImage2D(3553,ae,0,0,Ve.width,Ve.height,ze,We,Ve.data):t.texImage2D(3553,ae,je,Ve.width,Ve.height,0,ze,We,Ve.data)}else if(O.isDataArrayTexture)Lt?(ni&&t.texStorage3D(35866,B,je,le.width,le.height,le.depth),t.texSubImage3D(35866,0,0,0,0,le.width,le.height,le.depth,ze,We,le.data)):t.texImage3D(35866,0,je,le.width,le.height,le.depth,0,ze,We,le.data);else if(O.isData3DTexture)Lt?(ni&&t.texStorage3D(32879,B,je,le.width,le.height,le.depth),t.texSubImage3D(32879,0,0,0,0,le.width,le.height,le.depth,ze,We,le.data)):t.texImage3D(32879,0,je,le.width,le.height,le.depth,0,ze,We,le.data);else if(O.isFramebufferTexture){if(ni)if(Lt)t.texStorage2D(3553,B,je,le.width,le.height);else{let ae=le.width,ve=le.height;for(let Te=0;Te<B;Te++)t.texImage2D(3553,Te,je,ae,ve,0,ze,We,null),ae>>=1,ve>>=1}}else if(xt.length>0&&Ae){Lt&&ni&&t.texStorage2D(3553,B,je,xt[0].width,xt[0].height);for(let ae=0,ve=xt.length;ae<ve;ae++)Ve=xt[ae],Lt?t.texSubImage2D(3553,ae,0,0,ze,We,Ve):t.texImage2D(3553,ae,je,ze,We,Ve);O.generateMipmaps=!1}else Lt?(ni&&t.texStorage2D(3553,B,je,le.width,le.height),t.texSubImage2D(3553,0,0,0,ze,We,le)):t.texImage2D(3553,0,je,ze,We,le);T(O,Ae)&&F(_e),Ye.__version=Me.version,O.onUpdate&&O.onUpdate(O)}I.__version=O.version}function $e(I,O,oe){if(O.image.length!==6)return;const _e=it(I,O),Ee=O.source;t.bindTexture(34067,I.__webglTexture,33984+oe);const Me=i.get(Ee);if(Ee.version!==Me.__version||_e===!0){t.activeTexture(33984+oe),r.pixelStorei(37440,O.flipY),r.pixelStorei(37441,O.premultiplyAlpha),r.pixelStorei(3317,O.unpackAlignment),r.pixelStorei(37443,0);const Ye=O.isCompressedTexture||O.image[0].isCompressedTexture,be=O.image[0]&&O.image[0].isDataTexture,le=[];for(let ae=0;ae<6;ae++)!Ye&&!be?le[ae]=w(O.image[ae],!1,!0,u):le[ae]=be?O.image[ae].image:O.image[ae],le[ae]=Kt(O,le[ae]);const Ae=le[0],ze=S(Ae)||a,We=o.convert(O.format,O.encoding),je=o.convert(O.type),Ve=R(O.internalFormat,We,je,O.encoding),xt=a&&O.isVideoTexture!==!0,Lt=Me.__version===void 0||_e===!0;let ni=P(O,Ae,ze);ce(34067,O,ze);let B;if(Ye){xt&&Lt&&t.texStorage2D(34067,ni,Ve,Ae.width,Ae.height);for(let ae=0;ae<6;ae++){B=le[ae].mipmaps;for(let ve=0;ve<B.length;ve++){const Te=B[ve];O.format!==Hr?We!==null?xt?t.compressedTexSubImage2D(34069+ae,ve,0,0,Te.width,Te.height,We,Te.data):t.compressedTexImage2D(34069+ae,ve,Ve,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xt?t.texSubImage2D(34069+ae,ve,0,0,Te.width,Te.height,We,je,Te.data):t.texImage2D(34069+ae,ve,Ve,Te.width,Te.height,0,We,je,Te.data)}}}else{B=O.mipmaps,xt&&Lt&&(B.length>0&&ni++,t.texStorage2D(34067,ni,Ve,le[0].width,le[0].height));for(let ae=0;ae<6;ae++)if(be){xt?t.texSubImage2D(34069+ae,0,0,0,le[ae].width,le[ae].height,We,je,le[ae].data):t.texImage2D(34069+ae,0,Ve,le[ae].width,le[ae].height,0,We,je,le[ae].data);for(let ve=0;ve<B.length;ve++){const ke=B[ve].image[ae].image;xt?t.texSubImage2D(34069+ae,ve+1,0,0,ke.width,ke.height,We,je,ke.data):t.texImage2D(34069+ae,ve+1,Ve,ke.width,ke.height,0,We,je,ke.data)}}else{xt?t.texSubImage2D(34069+ae,0,0,0,We,je,le[ae]):t.texImage2D(34069+ae,0,Ve,We,je,le[ae]);for(let ve=0;ve<B.length;ve++){const Te=B[ve];xt?t.texSubImage2D(34069+ae,ve+1,0,0,We,je,Te.image[ae]):t.texImage2D(34069+ae,ve+1,Ve,We,je,Te.image[ae])}}}T(O,ze)&&F(34067),Me.__version=Ee.version,O.onUpdate&&O.onUpdate(O)}I.__version=O.version}function xe(I,O,oe,_e,Ee){const Me=o.convert(oe.format,oe.encoding),Ye=o.convert(oe.type),be=R(oe.internalFormat,Me,Ye,oe.encoding);i.get(O).__hasExternalTextures||(Ee===32879||Ee===35866?t.texImage3D(Ee,0,be,O.width,O.height,O.depth,0,Me,Ye,null):t.texImage2D(Ee,0,be,O.width,O.height,0,Me,Ye,null)),t.bindFramebuffer(36160,I),Qe(O)?d.framebufferTexture2DMultisampleEXT(36160,_e,Ee,i.get(oe).__webglTexture,0,Zt(O)):(Ee===3553||Ee>=34069&&Ee<=34074)&&r.framebufferTexture2D(36160,_e,Ee,i.get(oe).__webglTexture,0),t.bindFramebuffer(36160,null)}function yt(I,O,oe){if(r.bindRenderbuffer(36161,I),O.depthBuffer&&!O.stencilBuffer){let _e=33189;if(oe||Qe(O)){const Ee=O.depthTexture;Ee&&Ee.isDepthTexture&&(Ee.type===Ha?_e=36012:Ee.type===Ga&&(_e=33190));const Me=Zt(O);Qe(O)?d.renderbufferStorageMultisampleEXT(36161,Me,_e,O.width,O.height):r.renderbufferStorageMultisample(36161,Me,_e,O.width,O.height)}else r.renderbufferStorage(36161,_e,O.width,O.height);r.framebufferRenderbuffer(36160,36096,36161,I)}else if(O.depthBuffer&&O.stencilBuffer){const _e=Zt(O);oe&&Qe(O)===!1?r.renderbufferStorageMultisample(36161,_e,35056,O.width,O.height):Qe(O)?d.renderbufferStorageMultisampleEXT(36161,_e,35056,O.width,O.height):r.renderbufferStorage(36161,34041,O.width,O.height),r.framebufferRenderbuffer(36160,33306,36161,I)}else{const _e=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let Ee=0;Ee<_e.length;Ee++){const Me=_e[Ee],Ye=o.convert(Me.format,Me.encoding),be=o.convert(Me.type),le=R(Me.internalFormat,Ye,be,Me.encoding),Ae=Zt(O);oe&&Qe(O)===!1?r.renderbufferStorageMultisample(36161,Ae,le,O.width,O.height):Qe(O)?d.renderbufferStorageMultisampleEXT(36161,Ae,le,O.width,O.height):r.renderbufferStorage(36161,le,O.width,O.height)}}r.bindRenderbuffer(36161,null)}function nt(I,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,I),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),H(O.depthTexture,0);const _e=i.get(O.depthTexture).__webglTexture,Ee=Zt(O);if(O.depthTexture.format===ja)Qe(O)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,_e,0,Ee):r.framebufferTexture2D(36160,36096,3553,_e,0);else if(O.depthTexture.format===Ou)Qe(O)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,_e,0,Ee):r.framebufferTexture2D(36160,33306,3553,_e,0);else throw new Error("Unknown depthTexture format")}function Ke(I){const O=i.get(I),oe=I.isWebGLCubeRenderTarget===!0;if(I.depthTexture&&!O.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");nt(O.__webglFramebuffer,I)}else if(oe){O.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)t.bindFramebuffer(36160,O.__webglFramebuffer[_e]),O.__webglDepthbuffer[_e]=r.createRenderbuffer(),yt(O.__webglDepthbuffer[_e],I,!1)}else t.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=r.createRenderbuffer(),yt(O.__webglDepthbuffer,I,!1);t.bindFramebuffer(36160,null)}function $t(I,O,oe){const _e=i.get(I);O!==void 0&&xe(_e.__webglFramebuffer,I,I.texture,36064,3553),oe!==void 0&&Ke(I)}function ii(I){const O=I.texture,oe=i.get(I),_e=i.get(O);I.addEventListener("dispose",te),I.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=r.createTexture()),_e.__version=O.version,s.memory.textures++);const Ee=I.isWebGLCubeRenderTarget===!0,Me=I.isWebGLMultipleRenderTargets===!0,Ye=S(I)||a;if(Ee){oe.__webglFramebuffer=[];for(let be=0;be<6;be++)oe.__webglFramebuffer[be]=r.createFramebuffer()}else{if(oe.__webglFramebuffer=r.createFramebuffer(),Me)if(n.drawBuffers){const be=I.texture;for(let le=0,Ae=be.length;le<Ae;le++){const ze=i.get(be[le]);ze.__webglTexture===void 0&&(ze.__webglTexture=r.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&I.samples>0&&Qe(I)===!1){const be=Me?O:[O];oe.__webglMultisampledFramebuffer=r.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer);for(let le=0;le<be.length;le++){const Ae=be[le];oe.__webglColorRenderbuffer[le]=r.createRenderbuffer(),r.bindRenderbuffer(36161,oe.__webglColorRenderbuffer[le]);const ze=o.convert(Ae.format,Ae.encoding),We=o.convert(Ae.type),je=R(Ae.internalFormat,ze,We,Ae.encoding,I.isXRRenderTarget===!0),Ve=Zt(I);r.renderbufferStorageMultisample(36161,Ve,je,I.width,I.height),r.framebufferRenderbuffer(36160,36064+le,36161,oe.__webglColorRenderbuffer[le])}r.bindRenderbuffer(36161,null),I.depthBuffer&&(oe.__webglDepthRenderbuffer=r.createRenderbuffer(),yt(oe.__webglDepthRenderbuffer,I,!0)),t.bindFramebuffer(36160,null)}}if(Ee){t.bindTexture(34067,_e.__webglTexture),ce(34067,O,Ye);for(let be=0;be<6;be++)xe(oe.__webglFramebuffer[be],I,O,36064,34069+be);T(O,Ye)&&F(34067),t.unbindTexture()}else if(Me){const be=I.texture;for(let le=0,Ae=be.length;le<Ae;le++){const ze=be[le],We=i.get(ze);t.bindTexture(3553,We.__webglTexture),ce(3553,ze,Ye),xe(oe.__webglFramebuffer,I,ze,36064+le,3553),T(ze,Ye)&&F(3553)}t.unbindTexture()}else{let be=3553;(I.isWebGL3DRenderTarget||I.isWebGLArrayRenderTarget)&&(a?be=I.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(be,_e.__webglTexture),ce(be,O,Ye),xe(oe.__webglFramebuffer,I,O,36064,be),T(O,Ye)&&F(be),t.unbindTexture()}I.depthBuffer&&Ke(I)}function Yt(I){const O=S(I)||a,oe=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let _e=0,Ee=oe.length;_e<Ee;_e++){const Me=oe[_e];if(T(Me,O)){const Ye=I.isWebGLCubeRenderTarget?34067:3553,be=i.get(Me).__webglTexture;t.bindTexture(Ye,be),F(Ye),t.unbindTexture()}}}function Si(I){if(a&&I.samples>0&&Qe(I)===!1){const O=I.isWebGLMultipleRenderTargets?I.texture:[I.texture],oe=I.width,_e=I.height;let Ee=16384;const Me=[],Ye=I.stencilBuffer?33306:36096,be=i.get(I),le=I.isWebGLMultipleRenderTargets===!0;if(le)for(let Ae=0;Ae<O.length;Ae++)t.bindFramebuffer(36160,be.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+Ae,36161,null),t.bindFramebuffer(36160,be.__webglFramebuffer),r.framebufferTexture2D(36009,36064+Ae,3553,null,0);t.bindFramebuffer(36008,be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,be.__webglFramebuffer);for(let Ae=0;Ae<O.length;Ae++){Me.push(36064+Ae),I.depthBuffer&&Me.push(Ye);const ze=be.__ignoreDepthValues!==void 0?be.__ignoreDepthValues:!1;if(ze===!1&&(I.depthBuffer&&(Ee|=256),I.stencilBuffer&&(Ee|=1024)),le&&r.framebufferRenderbuffer(36008,36064,36161,be.__webglColorRenderbuffer[Ae]),ze===!0&&(r.invalidateFramebuffer(36008,[Ye]),r.invalidateFramebuffer(36009,[Ye])),le){const We=i.get(O[Ae]).__webglTexture;r.framebufferTexture2D(36009,36064,3553,We,0)}r.blitFramebuffer(0,0,oe,_e,0,0,oe,_e,Ee,9728),p&&r.invalidateFramebuffer(36008,Me)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),le)for(let Ae=0;Ae<O.length;Ae++){t.bindFramebuffer(36160,be.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+Ae,36161,be.__webglColorRenderbuffer[Ae]);const ze=i.get(O[Ae]).__webglTexture;t.bindFramebuffer(36160,be.__webglFramebuffer),r.framebufferTexture2D(36009,36064+Ae,3553,ze,0)}t.bindFramebuffer(36009,be.__webglMultisampledFramebuffer)}}function Zt(I){return Math.min(h,I.samples)}function Qe(I){const O=i.get(I);return a&&I.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function gi(I){const O=s.render.frame;f.get(I)!==O&&(f.set(I,O),I.update())}function Kt(I,O){const oe=I.encoding,_e=I.format,Ee=I.type;return I.isCompressedTexture===!0||I.isVideoTexture===!0||I.format===Wy||oe!==il&&(oe===yi?a===!1?e.has("EXT_sRGB")===!0&&_e===Hr?(I.format=Wy,I.minFilter=gr,I.generateMipmaps=!1):O=RM.sRGBToLinear(O):(_e!==Hr||Ee!==tl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",oe)),O}this.allocateTextureUnit=ie,this.resetTextureUnits=J,this.setTexture2D=H,this.setTexture2DArray=ge,this.setTexture3D=V,this.setTextureCube=ye,this.rebindTextures=$t,this.setupRenderTarget=ii,this.updateRenderTargetMipmap=Yt,this.updateMultisampleRenderTarget=Si,this.setupDepthRenderbuffer=Ke,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Qe}function Fk(r,e,t){const i=t.isWebGL2;function n(o,s=null){let a;if(o===tl)return 5121;if(o===p2)return 32819;if(o===f2)return 32820;if(o===c2)return 5120;if(o===h2)return 5122;if(o===SM)return 5123;if(o===d2)return 5124;if(o===Ga)return 5125;if(o===Ha)return 5126;if(o===Oh)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===g2)return 6406;if(o===Hr)return 6408;if(o===v2)return 6409;if(o===y2)return 6410;if(o===ja)return 6402;if(o===Ou)return 34041;if(o===_2)return 6403;if(o===m2)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===Wy)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===C2)return 36244;if(o===w2)return 33319;if(o===S2)return 33320;if(o===E2)return 36249;if(o===Mm||o===Tm||o===Pm||o===Om)if(s===yi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===Mm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Tm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Pm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Om)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===Mm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Tm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Pm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Om)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===IS||o===LS||o===FS||o===NS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===IS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===LS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===FS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===NS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===x2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===GS||o===HS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===GS)return s===yi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===HS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===WS||o===VS||o===kS||o===BS||o===US||o===zS||o===jS||o===$S||o===YS||o===KS||o===XS||o===qS||o===ZS||o===JS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===WS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===VS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===kS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===BS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===US)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===zS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===jS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===$S)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===YS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===KS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===XS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===qS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===ZS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===JS)return s===yi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===QS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===QS)return s===yi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return o===yu?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):r[o]!==void 0?r[o]:null}return{convert:n}}class Nk extends mr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vs extends $i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gk={type:"move"};class iv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let n=null,o=null,s=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,i);if(u.joints[m.jointName]===void 0){const C=new Vs;C.matrixAutoUpdate=!1,C.visible=!1,u.joints[m.jointName]=C,u.add(C)}const y=u.joints[m.jointName];g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=g.radius),y.visible=g!==null}const c=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],d=c.position.distanceTo(h.position),p=.02,f=.005;u.inputState.pinching&&d>p+f?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=p-f&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(n=t.getPose(e.targetRaySpace,i),n===null&&o!==null&&(n=o),n!==null&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Gk)))}return a!==null&&(a.visible=n!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}}class Hk extends xr{constructor(e,t,i,n,o,s,a,l,u,c){if(c=c!==void 0?c:ja,c!==ja&&c!==Ou)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===ja&&(i=Ga),i===void 0&&c===Ou&&(i=yu),super(null,n,o,s,a,l,c,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Gn,this.minFilter=l!==void 0?l:Gn,this.flipY=!1,this.generateMipmaps=!1}}class Wk extends Ju{constructor(e,t){super();const i=this;let n=null,o=1,s=null,a="local-floor",l=null,u=null,c=null,h=null,d=null,p=null;const f=t.getContextAttributes();let m=null,g=null;const y=[],C=[],w=new mr;w.layers.enable(1),w.viewport=new tn;const S=new mr;S.layers.enable(2),S.viewport=new tn;const b=[w,S],T=new Nk;T.layers.enable(1),T.layers.enable(2);let F=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let H=y[K];return H===void 0&&(H=new iv,y[K]=H),H.getTargetRaySpace()},this.getControllerGrip=function(K){let H=y[K];return H===void 0&&(H=new iv,y[K]=H),H.getGripSpace()},this.getHand=function(K){let H=y[K];return H===void 0&&(H=new iv,y[K]=H),H.getHandSpace()};function P(K){const H=C.indexOf(K.inputSource);if(H===-1)return;const ge=y[H];ge!==void 0&&ge.dispatchEvent({type:K.type,data:K.inputSource})}function G(){n.removeEventListener("select",P),n.removeEventListener("selectstart",P),n.removeEventListener("selectend",P),n.removeEventListener("squeeze",P),n.removeEventListener("squeezestart",P),n.removeEventListener("squeezeend",P),n.removeEventListener("end",G),n.removeEventListener("inputsourceschange",q);for(let K=0;K<y.length;K++){const H=C[K];H!==null&&(C[K]=null,y[K].disconnect(H))}F=null,R=null,e.setRenderTarget(m),d=null,h=null,c=null,n=null,g=null,ie.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){o=K,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(K){l=K},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return c},this.getFrame=function(){return p},this.getSession=function(){return n},this.setSession=async function(K){if(n=K,n!==null){if(m=e.getRenderTarget(),n.addEventListener("select",P),n.addEventListener("selectstart",P),n.addEventListener("selectend",P),n.addEventListener("squeeze",P),n.addEventListener("squeezestart",P),n.addEventListener("squeezeend",P),n.addEventListener("end",G),n.addEventListener("inputsourceschange",q),f.xrCompatible!==!0&&await t.makeXRCompatible(),n.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:n.renderState.layers===void 0?f.antialias:!0,alpha:f.alpha,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(n,t,H),n.updateRenderState({baseLayer:d}),g=new nl(d.framebufferWidth,d.framebufferHeight,{format:Hr,type:tl,encoding:e.outputEncoding,stencilBuffer:f.stencil})}else{let H=null,ge=null,V=null;f.depth&&(V=f.stencil?35056:33190,H=f.stencil?Ou:ja,ge=f.stencil?yu:Ga);const ye={colorFormat:32856,depthFormat:V,scaleFactor:o};c=new XRWebGLBinding(n,t),h=c.createProjectionLayer(ye),n.updateRenderState({layers:[h]}),g=new nl(h.textureWidth,h.textureHeight,{format:Hr,type:tl,depthTexture:new Hk(h.textureWidth,h.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:f.stencil,encoding:e.outputEncoding,samples:f.antialias?4:0});const Ce=e.properties.get(g);Ce.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,s=await n.requestReferenceSpace(a),ie.setContext(n),ie.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function q(K){for(let H=0;H<K.removed.length;H++){const ge=K.removed[H],V=C.indexOf(ge);V>=0&&(C[V]=null,y[V].dispatchEvent({type:"disconnected",data:ge}))}for(let H=0;H<K.added.length;H++){const ge=K.added[H];let V=C.indexOf(ge);if(V===-1){for(let Ce=0;Ce<y.length;Ce++)if(Ce>=C.length){C.push(ge),V=Ce;break}else if(C[Ce]===null){C[Ce]=ge,V=Ce;break}if(V===-1)break}const ye=y[V];ye&&ye.dispatchEvent({type:"connected",data:ge})}}const te=new ee,j=new ee;function Y(K,H,ge){te.setFromMatrixPosition(H.matrixWorld),j.setFromMatrixPosition(ge.matrixWorld);const V=te.distanceTo(j),ye=H.projectionMatrix.elements,Ce=ge.projectionMatrix.elements,W=ye[14]/(ye[10]-1),ce=ye[14]/(ye[10]+1),it=(ye[9]+1)/ye[5],Ne=(ye[9]-1)/ye[5],$e=(ye[8]-1)/ye[0],xe=(Ce[8]+1)/Ce[0],yt=W*$e,nt=W*xe,Ke=V/(-$e+xe),$t=Ke*-$e;H.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX($t),K.translateZ(Ke),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const ii=W+Ke,Yt=ce+Ke,Si=yt-$t,Zt=nt+(V-$t),Qe=it*ce/Yt*ii,gi=Ne*ce/Yt*ii;K.projectionMatrix.makePerspective(Si,Zt,Qe,gi,ii,Yt)}function U(K,H){H===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(H.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(n===null)return;T.near=S.near=w.near=K.near,T.far=S.far=w.far=K.far,(F!==T.near||R!==T.far)&&(n.updateRenderState({depthNear:T.near,depthFar:T.far}),F=T.near,R=T.far);const H=K.parent,ge=T.cameras;U(T,H);for(let ye=0;ye<ge.length;ye++)U(ge[ye],H);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),K.matrix.copy(T.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale);const V=K.children;for(let ye=0,Ce=V.length;ye<Ce;ye++)V[ye].updateMatrixWorld(!0);ge.length===2?Y(T,w,S):T.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(K){h!==null&&(h.fixedFoveation=K),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=K)};let Z=null;function J(K,H){if(u=H.getViewerPose(l||s),p=H,u!==null){const ge=u.views;d!==null&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let V=!1;ge.length!==T.cameras.length&&(T.cameras.length=0,V=!0);for(let ye=0;ye<ge.length;ye++){const Ce=ge[ye];let W=null;if(d!==null)W=d.getViewport(Ce);else{const it=c.getViewSubImage(h,Ce);W=it.viewport,ye===0&&(e.setRenderTargetTextures(g,it.colorTexture,h.ignoreDepthValues?void 0:it.depthStencilTexture),e.setRenderTarget(g))}let ce=b[ye];ce===void 0&&(ce=new mr,ce.layers.enable(ye),ce.viewport=new tn,b[ye]=ce),ce.matrix.fromArray(Ce.transform.matrix),ce.projectionMatrix.fromArray(Ce.projectionMatrix),ce.viewport.set(W.x,W.y,W.width,W.height),ye===0&&T.matrix.copy(ce.matrix),V===!0&&T.cameras.push(ce)}}for(let ge=0;ge<y.length;ge++){const V=C[ge],ye=y[ge];V!==null&&ye!==void 0&&ye.update(V,H,l||s)}Z&&Z(K,H),p=null}const ie=new IM;ie.setAnimationLoop(J),this.setAnimationLoop=function(K){Z=K},this.dispose=function(){}}}function Vk(r,e){function t(m,g){m.fogColor.value.copy(g.color),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)}function i(m,g,y,C,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?n(m,g):g.isMeshToonMaterial?(n(m,g),c(m,g)):g.isMeshPhongMaterial?(n(m,g),u(m,g)):g.isMeshStandardMaterial?(n(m,g),h(m,g),g.isMeshPhysicalMaterial&&d(m,g,w)):g.isMeshMatcapMaterial?(n(m,g),p(m,g)):g.isMeshDepthMaterial?n(m,g):g.isMeshDistanceMaterial?(n(m,g),f(m,g)):g.isMeshNormalMaterial?n(m,g):g.isLineBasicMaterial?(o(m,g),g.isLineDashedMaterial&&s(m,g)):g.isPointsMaterial?a(m,g,y,C):g.isSpriteMaterial?l(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function n(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,g.side===Sr&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),g.side===Sr&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const y=e.get(g).envMap;if(y&&(m.envMap.value=y,m.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;const S=r.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*S}g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity);let C;g.map?C=g.map:g.specularMap?C=g.specularMap:g.displacementMap?C=g.displacementMap:g.normalMap?C=g.normalMap:g.bumpMap?C=g.bumpMap:g.roughnessMap?C=g.roughnessMap:g.metalnessMap?C=g.metalnessMap:g.alphaMap?C=g.alphaMap:g.emissiveMap?C=g.emissiveMap:g.clearcoatMap?C=g.clearcoatMap:g.clearcoatNormalMap?C=g.clearcoatNormalMap:g.clearcoatRoughnessMap?C=g.clearcoatRoughnessMap:g.iridescenceMap?C=g.iridescenceMap:g.iridescenceThicknessMap?C=g.iridescenceThicknessMap:g.specularIntensityMap?C=g.specularIntensityMap:g.specularColorMap?C=g.specularColorMap:g.transmissionMap?C=g.transmissionMap:g.thicknessMap?C=g.thicknessMap:g.sheenColorMap?C=g.sheenColorMap:g.sheenRoughnessMap&&(C=g.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),m.uvTransform.value.copy(C.matrix));let w;g.aoMap?w=g.aoMap:g.lightMap&&(w=g.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),m.uv2Transform.value.copy(w.matrix))}function o(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}function s(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}function a(m,g,y,C){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*y,m.scale.value=C*.5,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let w;g.map?w=g.map:g.alphaMap&&(w=g.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),m.uvTransform.value.copy(w.matrix))}function l(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let y;g.map?y=g.map:g.alphaMap&&(y=g.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix))}function u(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}function c(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}function h(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}function d(m,g,y){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Sr&&m.clearcoatNormalScale.value.negate())),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}function p(m,g){g.matcap&&(m.matcap.value=g.matcap)}function f(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function kk(r,e,t,i){let n={},o={},s=[];const a=t.isWebGL2?r.getParameter(35375):0;function l(C,w){const S=w.program;i.uniformBlockBinding(C,S)}function u(C,w){let S=n[C.id];S===void 0&&(f(C),S=c(C),n[C.id]=S,C.addEventListener("dispose",g));const b=w.program;i.updateUBOMapping(C,b);const T=e.render.frame;o[C.id]!==T&&(d(C),o[C.id]=T)}function c(C){const w=h();C.__bindingPointIndex=w;const S=r.createBuffer(),b=C.__size,T=C.usage;return r.bindBuffer(35345,S),r.bufferData(35345,b,T),r.bindBuffer(35345,null),r.bindBufferBase(35345,w,S),S}function h(){for(let C=0;C<a;C++)if(s.indexOf(C)===-1)return s.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(C){const w=n[C.id],S=C.uniforms,b=C.__cache;r.bindBuffer(35345,w);for(let T=0,F=S.length;T<F;T++){const R=S[T];if(p(R,T,b)===!0){const P=R.value,G=R.__offset;typeof P=="number"?(R.__data[0]=P,r.bufferSubData(35345,G,R.__data)):(R.value.isMatrix3?(R.__data[0]=R.value.elements[0],R.__data[1]=R.value.elements[1],R.__data[2]=R.value.elements[2],R.__data[3]=R.value.elements[0],R.__data[4]=R.value.elements[3],R.__data[5]=R.value.elements[4],R.__data[6]=R.value.elements[5],R.__data[7]=R.value.elements[0],R.__data[8]=R.value.elements[6],R.__data[9]=R.value.elements[7],R.__data[10]=R.value.elements[8],R.__data[11]=R.value.elements[0]):P.toArray(R.__data),r.bufferSubData(35345,G,R.__data))}}r.bindBuffer(35345,null)}function p(C,w,S){const b=C.value;if(S[w]===void 0)return typeof b=="number"?S[w]=b:S[w]=b.clone(),!0;if(typeof b=="number"){if(S[w]!==b)return S[w]=b,!0}else{const T=S[w];if(T.equals(b)===!1)return T.copy(b),!0}return!1}function f(C){const w=C.uniforms;let S=0;const b=16;let T=0;for(let F=0,R=w.length;F<R;F++){const P=w[F],G=m(P);if(P.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=S,F>0){T=S%b;const q=b-T;T!==0&&q-G.boundary<0&&(S+=b-T,P.__offset=S)}S+=G.storage}return T=S%b,T>0&&(S+=b-T),C.__size=S,C.__cache={},this}function m(C){const w=C.value,S={boundary:0,storage:0};return typeof w=="number"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function g(C){const w=C.target;w.removeEventListener("dispose",g);const S=s.indexOf(w.__bindingPointIndex);s.splice(S,1),r.deleteBuffer(n[w.id]),delete n[w.id],delete o[w.id]}function y(){for(const C in n)r.deleteBuffer(n[C]);s=[],n={},o={}}return{bind:l,update:u,dispose:y}}function Bk(){const r=Ah("canvas");return r.style.display="block",r}function HM(r={}){this.isWebGLRenderer=!0;const e=r.canvas!==void 0?r.canvas:Bk(),t=r.context!==void 0?r.context:null,i=r.depth!==void 0?r.depth:!0,n=r.stencil!==void 0?r.stencil:!0,o=r.antialias!==void 0?r.antialias:!1,s=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,a=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,l=r.powerPreference!==void 0?r.powerPreference:"default",u=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=r.alpha!==void 0?r.alpha:!1;let h=null,d=null;const p=[],f=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=il,this.physicallyCorrectLights=!1,this.toneMapping=es,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let g=!1,y=0,C=0,w=null,S=-1,b=null;const T=new tn,F=new tn;let R=null,P=e.width,G=e.height,q=1,te=null,j=null;const Y=new tn(0,0,P,G),U=new tn(0,0,P,G);let Z=!1;const J=new DM;let ie=!1,K=!1,H=null;const ge=new Yi,V=new jt,ye=new ee,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return w===null?q:1}let ce=t;function it(D,X){for(let ue=0;ue<D.length;ue++){const Q=D[ue],he=e.getContext(Q,X);if(he!==null)return he}return null}try{const D={alpha:!0,depth:i,stencil:n,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${OC}`),e.addEventListener("webglcontextlost",je,!1),e.addEventListener("webglcontextrestored",Ve,!1),e.addEventListener("webglcontextcreationerror",xt,!1),ce===null){const X=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&X.shift(),ce=it(X,D),ce===null)throw it(X)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ce.getShaderPrecisionFormat===void 0&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}let Ne,$e,xe,yt,nt,Ke,$t,ii,Yt,Si,Zt,Qe,gi,Kt,I,O,oe,_e,Ee,Me,Ye,be,le,Ae;function ze(){Ne=new QW(ce),$e=new $W(ce,Ne,r),Ne.init($e),be=new Fk(ce,Ne,$e),xe=new Ik(ce,Ne,$e),yt=new iV,nt=new _k,Ke=new Lk(ce,Ne,xe,nt,$e,be,yt),$t=new KW(m),ii=new JW(m),Yt=new c3(ce,$e),le=new zW(ce,Ne,Yt,$e),Si=new eV(ce,Yt,yt,le),Zt=new sV(ce,Si,Yt,yt),Ee=new oV(ce,$e,Ke),O=new YW(nt),Qe=new yk(m,$t,ii,Ne,$e,le,O),gi=new Vk(m,nt),Kt=new wk,I=new Mk(Ne,$e),_e=new UW(m,$t,ii,xe,Zt,c,s),oe=new Dk(m,Zt,$e),Ae=new kk(ce,yt,$e,xe),Me=new jW(ce,Ne,yt,$e),Ye=new tV(ce,Ne,yt,$e),yt.programs=Qe.programs,m.capabilities=$e,m.extensions=Ne,m.properties=nt,m.renderLists=Kt,m.shadowMap=oe,m.state=xe,m.info=yt}ze();const We=new Wk(m,ce);this.xr=We,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const D=Ne.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=Ne.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(D){D!==void 0&&(q=D,this.setSize(P,G,!1))},this.getSize=function(D){return D.set(P,G)},this.setSize=function(D,X,ue){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=D,G=X,e.width=Math.floor(D*q),e.height=Math.floor(X*q),ue!==!1&&(e.style.width=D+"px",e.style.height=X+"px"),this.setViewport(0,0,D,X)},this.getDrawingBufferSize=function(D){return D.set(P*q,G*q).floor()},this.setDrawingBufferSize=function(D,X,ue){P=D,G=X,q=ue,e.width=Math.floor(D*ue),e.height=Math.floor(X*ue),this.setViewport(0,0,D,X)},this.getCurrentViewport=function(D){return D.copy(T)},this.getViewport=function(D){return D.copy(Y)},this.setViewport=function(D,X,ue,Q){D.isVector4?Y.set(D.x,D.y,D.z,D.w):Y.set(D,X,ue,Q),xe.viewport(T.copy(Y).multiplyScalar(q).floor())},this.getScissor=function(D){return D.copy(U)},this.setScissor=function(D,X,ue,Q){D.isVector4?U.set(D.x,D.y,D.z,D.w):U.set(D,X,ue,Q),xe.scissor(F.copy(U).multiplyScalar(q).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(D){xe.setScissorTest(Z=D)},this.setOpaqueSort=function(D){te=D},this.setTransparentSort=function(D){j=D},this.getClearColor=function(D){return D.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(D=!0,X=!0,ue=!0){let Q=0;D&&(Q|=16384),X&&(Q|=256),ue&&(Q|=1024),ce.clear(Q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",je,!1),e.removeEventListener("webglcontextrestored",Ve,!1),e.removeEventListener("webglcontextcreationerror",xt,!1),Kt.dispose(),I.dispose(),nt.dispose(),$t.dispose(),ii.dispose(),Zt.dispose(),le.dispose(),Ae.dispose(),Qe.dispose(),We.dispose(),We.removeEventListener("sessionstart",Te),We.removeEventListener("sessionend",ke),H&&(H.dispose(),H=null),rt.stop()};function je(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const D=yt.autoReset,X=oe.enabled,ue=oe.autoUpdate,Q=oe.needsUpdate,he=oe.type;ze(),yt.autoReset=D,oe.enabled=X,oe.autoUpdate=ue,oe.needsUpdate=Q,oe.type=he}function xt(D){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",D.statusMessage)}function Lt(D){const X=D.target;X.removeEventListener("dispose",Lt),ni(X)}function ni(D){B(D),nt.remove(D)}function B(D){const X=nt.get(D).programs;X!==void 0&&(X.forEach(function(ue){Qe.releaseProgram(ue)}),D.isShaderMaterial&&Qe.releaseShaderCache(D))}this.renderBufferDirect=function(D,X,ue,Q,he,Ge){X===null&&(X=Ce);const ot=he.isMesh&&he.matrixWorld.determinant()<0,gt=Xt(D,X,ue,Q,he);xe.setMaterial(Q,ot);let dt=ue.index;const At=ue.attributes.position;if(dt===null){if(At===void 0||At.count===0)return}else if(dt.count===0)return;let Rt=1;Q.wireframe===!0&&(dt=Si.getWireframeAttribute(ue),Rt=2),le.setup(he,Q,gt,ue,dt);let bt,li=Me;dt!==null&&(bt=Yt.get(dt),li=Ye,li.setIndex(bt));const Po=dt!==null?dt.count:At.count,On=ue.drawRange.start*Rt,ss=ue.drawRange.count*Rt,sr=Ge!==null?Ge.start*Rt:0,Gt=Ge!==null?Ge.count*Rt:1/0,as=Math.max(On,sr),mi=Math.min(Po,On+ss,sr+Gt)-1,rn=Math.max(0,mi-as+1);if(rn!==0){if(he.isMesh)Q.wireframe===!0?(xe.setLineWidth(Q.wireframeLinewidth*W()),li.setMode(1)):li.setMode(4);else if(he.isLine){let Qr=Q.linewidth;Qr===void 0&&(Qr=1),xe.setLineWidth(Qr*W()),he.isLineSegments?li.setMode(1):he.isLineLoop?li.setMode(2):li.setMode(3)}else he.isPoints?li.setMode(0):he.isSprite&&li.setMode(4);if(he.isInstancedMesh)li.renderInstances(as,rn,he.count);else if(ue.isInstancedBufferGeometry){const Qr=Math.min(ue.instanceCount,ue._maxInstanceCount);li.renderInstances(as,rn,Qr)}else li.render(as,rn)}},this.compile=function(D,X){function ue(Q,he,Ge){Q.transparent===!0&&Q.side===pn?(Q.side=Sr,Q.needsUpdate=!0,Pi(Q,he,Ge),Q.side=Mu,Q.needsUpdate=!0,Pi(Q,he,Ge),Q.side=pn):Pi(Q,he,Ge)}d=I.get(D),d.init(),f.push(d),D.traverseVisible(function(Q){Q.isLight&&Q.layers.test(X.layers)&&(d.pushLight(Q),Q.castShadow&&d.pushShadow(Q))}),d.setupLights(m.physicallyCorrectLights),D.traverse(function(Q){const he=Q.material;if(he)if(Array.isArray(he))for(let Ge=0;Ge<he.length;Ge++){const ot=he[Ge];ue(ot,D,Q)}else ue(he,D,Q)}),f.pop(),d=null};let ae=null;function ve(D){ae&&ae(D)}function Te(){rt.stop()}function ke(){rt.start()}const rt=new IM;rt.setAnimationLoop(ve),typeof self<"u"&&rt.setContext(self),this.setAnimationLoop=function(D){ae=D,We.setAnimationLoop(D),D===null?rt.stop():rt.start()},We.addEventListener("sessionstart",Te),We.addEventListener("sessionend",ke),this.render=function(D,X){if(X!==void 0&&X.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;D.matrixWorldAutoUpdate===!0&&D.updateMatrixWorld(),X.parent===null&&X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(X),X=We.getCamera()),D.isScene===!0&&D.onBeforeRender(m,D,X,w),d=I.get(D,f.length),d.init(),f.push(d),ge.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),J.setFromProjectionMatrix(ge),K=this.localClippingEnabled,ie=O.init(this.clippingPlanes,K,X),h=Kt.get(D,p.length),h.init(),p.push(h),ht(D,X,0,m.sortObjects),h.finish(),m.sortObjects===!0&&h.sort(te,j),ie===!0&&O.beginShadows();const ue=d.state.shadowsArray;if(oe.render(ue,D,X),ie===!0&&O.endShadows(),this.info.autoReset===!0&&this.info.reset(),_e.render(h,D),d.setupLights(m.physicallyCorrectLights),X.isArrayCamera){const Q=X.cameras;for(let he=0,Ge=Q.length;he<Ge;he++){const ot=Q[he];ri(h,D,ot,ot.viewport)}}else ri(h,D,X);w!==null&&(Ke.updateMultisampleRenderTarget(w),Ke.updateRenderTargetMipmap(w)),D.isScene===!0&&D.onAfterRender(m,D,X),le.resetDefaultState(),S=-1,b=null,f.pop(),f.length>0?d=f[f.length-1]:d=null,p.pop(),p.length>0?h=p[p.length-1]:h=null};function ht(D,X,ue,Q){if(D.visible===!1)return;if(D.layers.test(X.layers)){if(D.isGroup)ue=D.renderOrder;else if(D.isLOD)D.autoUpdate===!0&&D.update(X);else if(D.isLight)d.pushLight(D),D.castShadow&&d.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||J.intersectsSprite(D)){Q&&ye.setFromMatrixPosition(D.matrixWorld).applyMatrix4(ge);const ot=Zt.update(D),gt=D.material;gt.visible&&h.push(D,ot,gt,ue,ye.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(D.isSkinnedMesh&&D.skeleton.frame!==yt.render.frame&&(D.skeleton.update(),D.skeleton.frame=yt.render.frame),!D.frustumCulled||J.intersectsObject(D))){Q&&ye.setFromMatrixPosition(D.matrixWorld).applyMatrix4(ge);const ot=Zt.update(D),gt=D.material;if(Array.isArray(gt)){const dt=ot.groups;for(let At=0,Rt=dt.length;At<Rt;At++){const bt=dt[At],li=gt[bt.materialIndex];li&&li.visible&&h.push(D,ot,li,ue,ye.z,bt)}}else gt.visible&&h.push(D,ot,gt,ue,ye.z,null)}}const Ge=D.children;for(let ot=0,gt=Ge.length;ot<gt;ot++)ht(Ge[ot],X,ue,Q)}function ri(D,X,ue,Q){const he=D.opaque,Ge=D.transmissive,ot=D.transparent;d.setupLightsView(ue),Ge.length>0&&Ft(he,X,ue),Q&&xe.viewport(T.copy(Q)),he.length>0&&_t(he,X,ue),Ge.length>0&&_t(Ge,X,ue),ot.length>0&&_t(ot,X,ue),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function Ft(D,X,ue){const Q=$e.isWebGL2;H===null&&(H=new nl(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")?Oh:tl,minFilter:Tg,samples:Q&&o===!0?4:0})),m.getDrawingBufferSize(V),Q?H.setSize(V.x,V.y):H.setSize(Ef(V.x),Ef(V.y));const he=m.getRenderTarget();m.setRenderTarget(H),m.clear();const Ge=m.toneMapping;m.toneMapping=es,_t(D,X,ue),m.toneMapping=Ge,Ke.updateMultisampleRenderTarget(H),Ke.updateRenderTargetMipmap(H),m.setRenderTarget(he)}function _t(D,X,ue){const Q=X.isScene===!0?X.overrideMaterial:null;for(let he=0,Ge=D.length;he<Ge;he++){const ot=D[he],gt=ot.object,dt=ot.geometry,At=Q===null?ot.material:Q,Rt=ot.group;gt.layers.test(ue.layers)&&Jt(gt,X,ue,dt,At,Rt)}}function Jt(D,X,ue,Q,he,Ge){D.onBeforeRender(m,X,ue,Q,he,Ge),D.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),he.onBeforeRender(m,X,ue,Q,D,Ge),he.transparent===!0&&he.side===pn?(he.side=Sr,he.needsUpdate=!0,m.renderBufferDirect(ue,X,Q,he,D,Ge),he.side=Mu,he.needsUpdate=!0,m.renderBufferDirect(ue,X,Q,he,D,Ge),he.side=pn):m.renderBufferDirect(ue,X,Q,he,D,Ge),D.onAfterRender(m,X,ue,Q,he,Ge)}function Pi(D,X,ue){X.isScene!==!0&&(X=Ce);const Q=nt.get(D),he=d.state.lights,Ge=d.state.shadowsArray,ot=he.state.version,gt=Qe.getParameters(D,he.state,Ge,X,ue),dt=Qe.getProgramCacheKey(gt);let At=Q.programs;Q.environment=D.isMeshStandardMaterial?X.environment:null,Q.fog=X.fog,Q.envMap=(D.isMeshStandardMaterial?ii:$t).get(D.envMap||Q.environment),At===void 0&&(D.addEventListener("dispose",Lt),At=new Map,Q.programs=At);let Rt=At.get(dt);if(Rt!==void 0){if(Q.currentProgram===Rt&&Q.lightsStateVersion===ot)return ft(D,gt),Rt}else gt.uniforms=Qe.getUniforms(D),D.onBuild(ue,gt,m),D.onBeforeCompile(gt,m),Rt=Qe.acquireProgram(gt,dt),At.set(dt,Rt),Q.uniforms=gt.uniforms;const bt=Q.uniforms;(!D.isShaderMaterial&&!D.isRawShaderMaterial||D.clipping===!0)&&(bt.clippingPlanes=O.uniform),ft(D,gt),Q.needsLights=Di(D),Q.lightsStateVersion=ot,Q.needsLights&&(bt.ambientLightColor.value=he.state.ambient,bt.lightProbe.value=he.state.probe,bt.directionalLights.value=he.state.directional,bt.directionalLightShadows.value=he.state.directionalShadow,bt.spotLights.value=he.state.spot,bt.spotLightShadows.value=he.state.spotShadow,bt.rectAreaLights.value=he.state.rectArea,bt.ltc_1.value=he.state.rectAreaLTC1,bt.ltc_2.value=he.state.rectAreaLTC2,bt.pointLights.value=he.state.point,bt.pointLightShadows.value=he.state.pointShadow,bt.hemisphereLights.value=he.state.hemi,bt.directionalShadowMap.value=he.state.directionalShadowMap,bt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,bt.spotShadowMap.value=he.state.spotShadowMap,bt.spotLightMatrix.value=he.state.spotLightMatrix,bt.spotLightMap.value=he.state.spotLightMap,bt.pointShadowMap.value=he.state.pointShadowMap,bt.pointShadowMatrix.value=he.state.pointShadowMatrix);const li=Rt.getUniforms(),Po=$p.seqWithValue(li.seq,bt);return Q.currentProgram=Rt,Q.uniformsList=Po,Rt}function ft(D,X){const ue=nt.get(D);ue.outputEncoding=X.outputEncoding,ue.instancing=X.instancing,ue.skinning=X.skinning,ue.morphTargets=X.morphTargets,ue.morphNormals=X.morphNormals,ue.morphColors=X.morphColors,ue.morphTargetsCount=X.morphTargetsCount,ue.numClippingPlanes=X.numClippingPlanes,ue.numIntersection=X.numClipIntersection,ue.vertexAlphas=X.vertexAlphas,ue.vertexTangents=X.vertexTangents,ue.toneMapping=X.toneMapping}function Xt(D,X,ue,Q,he){X.isScene!==!0&&(X=Ce),Ke.resetTextureUnits();const Ge=X.fog,ot=Q.isMeshStandardMaterial?X.environment:null,gt=w===null?m.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:il,dt=(Q.isMeshStandardMaterial?ii:$t).get(Q.envMap||ot),At=Q.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,Rt=!!Q.normalMap&&!!ue.attributes.tangent,bt=!!ue.morphAttributes.position,li=!!ue.morphAttributes.normal,Po=!!ue.morphAttributes.color,On=Q.toneMapped?m.toneMapping:es,ss=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,sr=ss!==void 0?ss.length:0,Gt=nt.get(Q),as=d.state.lights;if(ie===!0&&(K===!0||D!==b)){const qi=D===b&&Q.id===S;O.setState(Q,D,qi)}let mi=!1;Q.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==as.state.version||Gt.outputEncoding!==gt||he.isInstancedMesh&&Gt.instancing===!1||!he.isInstancedMesh&&Gt.instancing===!0||he.isSkinnedMesh&&Gt.skinning===!1||!he.isSkinnedMesh&&Gt.skinning===!0||Gt.envMap!==dt||Q.fog===!0&&Gt.fog!==Ge||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==O.numPlanes||Gt.numIntersection!==O.numIntersection)||Gt.vertexAlphas!==At||Gt.vertexTangents!==Rt||Gt.morphTargets!==bt||Gt.morphNormals!==li||Gt.morphColors!==Po||Gt.toneMapping!==On||$e.isWebGL2===!0&&Gt.morphTargetsCount!==sr)&&(mi=!0):(mi=!0,Gt.__version=Q.version);let rn=Gt.currentProgram;mi===!0&&(rn=Pi(Q,X,he));let Qr=!1,da=!1,Mr=!1;const Xi=rn.getUniforms(),Oo=Gt.uniforms;if(xe.useProgram(rn.program)&&(Qr=!0,da=!0,Mr=!0),Q.id!==S&&(S=Q.id,da=!0),Qr||b!==D){if(Xi.setValue(ce,"projectionMatrix",D.projectionMatrix),$e.logarithmicDepthBuffer&&Xi.setValue(ce,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),b!==D&&(b=D,da=!0,Mr=!0),Q.isShaderMaterial||Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshStandardMaterial||Q.envMap){const qi=Xi.map.cameraPosition;qi!==void 0&&qi.setValue(ce,ye.setFromMatrixPosition(D.matrixWorld))}(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial)&&Xi.setValue(ce,"isOrthographic",D.isOrthographicCamera===!0),(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial||Q.isShadowMaterial||he.isSkinnedMesh)&&Xi.setValue(ce,"viewMatrix",D.matrixWorldInverse)}if(he.isSkinnedMesh){Xi.setOptional(ce,he,"bindMatrix"),Xi.setOptional(ce,he,"bindMatrixInverse");const qi=he.skeleton;qi&&($e.floatVertexTextures?(qi.boneTexture===null&&qi.computeBoneTexture(),Xi.setValue(ce,"boneTexture",qi.boneTexture,Ke),Xi.setValue(ce,"boneTextureSize",qi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const lc=ue.morphAttributes;if((lc.position!==void 0||lc.normal!==void 0||lc.color!==void 0&&$e.isWebGL2===!0)&&Ee.update(he,ue,Q,rn),(da||Gt.receiveShadow!==he.receiveShadow)&&(Gt.receiveShadow=he.receiveShadow,Xi.setValue(ce,"receiveShadow",he.receiveShadow)),Q.isMeshGouraudMaterial&&Q.envMap!==null&&(Oo.envMap.value=dt,Oo.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),da&&(Xi.setValue(ce,"toneMappingExposure",m.toneMappingExposure),Gt.needsLights&&hi(Oo,Mr),Ge&&Q.fog===!0&&gi.refreshFogUniforms(Oo,Ge),gi.refreshMaterialUniforms(Oo,Q,q,G,H),$p.upload(ce,Gt.uniformsList,Oo,Ke)),Q.isShaderMaterial&&Q.uniformsNeedUpdate===!0&&($p.upload(ce,Gt.uniformsList,Oo,Ke),Q.uniformsNeedUpdate=!1),Q.isSpriteMaterial&&Xi.setValue(ce,"center",he.center),Xi.setValue(ce,"modelViewMatrix",he.modelViewMatrix),Xi.setValue(ce,"normalMatrix",he.normalMatrix),Xi.setValue(ce,"modelMatrix",he.matrixWorld),Q.isShaderMaterial||Q.isRawShaderMaterial){const qi=Q.uniformsGroups;for(let uc=0,tm=qi.length;uc<tm;uc++)if($e.isWebGL2){const dd=qi[uc];Ae.update(dd,rn),Ae.bind(dd,rn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return rn}function hi(D,X){D.ambientLightColor.needsUpdate=X,D.lightProbe.needsUpdate=X,D.directionalLights.needsUpdate=X,D.directionalLightShadows.needsUpdate=X,D.pointLights.needsUpdate=X,D.pointLightShadows.needsUpdate=X,D.spotLights.needsUpdate=X,D.spotLightShadows.needsUpdate=X,D.rectAreaLights.needsUpdate=X,D.hemisphereLights.needsUpdate=X}function Di(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&D.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(D,X,ue){nt.get(D.texture).__webglTexture=X,nt.get(D.depthTexture).__webglTexture=ue;const Q=nt.get(D);Q.__hasExternalTextures=!0,Q.__hasExternalTextures&&(Q.__autoAllocateDepthBuffer=ue===void 0,Q.__autoAllocateDepthBuffer||Ne.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(D,X){const ue=nt.get(D);ue.__webglFramebuffer=X,ue.__useDefaultFramebuffer=X===void 0},this.setRenderTarget=function(D,X=0,ue=0){w=D,y=X,C=ue;let Q=!0,he=null,Ge=!1,ot=!1;if(D){const dt=nt.get(D);dt.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),Q=!1):dt.__webglFramebuffer===void 0?Ke.setupRenderTarget(D):dt.__hasExternalTextures&&Ke.rebindTextures(D,nt.get(D.texture).__webglTexture,nt.get(D.depthTexture).__webglTexture);const At=D.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(ot=!0);const Rt=nt.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(he=Rt[X],Ge=!0):$e.isWebGL2&&D.samples>0&&Ke.useMultisampledRTT(D)===!1?he=nt.get(D).__webglMultisampledFramebuffer:he=Rt,T.copy(D.viewport),F.copy(D.scissor),R=D.scissorTest}else T.copy(Y).multiplyScalar(q).floor(),F.copy(U).multiplyScalar(q).floor(),R=Z;if(xe.bindFramebuffer(36160,he)&&$e.drawBuffers&&Q&&xe.drawBuffers(D,he),xe.viewport(T),xe.scissor(F),xe.setScissorTest(R),Ge){const dt=nt.get(D.texture);ce.framebufferTexture2D(36160,36064,34069+X,dt.__webglTexture,ue)}else if(ot){const dt=nt.get(D.texture),At=X||0;ce.framebufferTextureLayer(36160,36064,dt.__webglTexture,ue||0,At)}S=-1},this.readRenderTargetPixels=function(D,X,ue,Q,he,Ge,ot){if(!(D&&D.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=nt.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&ot!==void 0&&(gt=gt[ot]),gt){xe.bindFramebuffer(36160,gt);try{const dt=D.texture,At=dt.format,Rt=dt.type;if(At!==Hr&&be.convert(At)!==ce.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const bt=Rt===Oh&&(Ne.has("EXT_color_buffer_half_float")||$e.isWebGL2&&Ne.has("EXT_color_buffer_float"));if(Rt!==tl&&be.convert(Rt)!==ce.getParameter(35738)&&!(Rt===Ha&&($e.isWebGL2||Ne.has("OES_texture_float")||Ne.has("WEBGL_color_buffer_float")))&&!bt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}X>=0&&X<=D.width-Q&&ue>=0&&ue<=D.height-he&&ce.readPixels(X,ue,Q,he,be.convert(At),be.convert(Rt),Ge)}finally{const dt=w!==null?nt.get(w).__webglFramebuffer:null;xe.bindFramebuffer(36160,dt)}}},this.copyFramebufferToTexture=function(D,X,ue=0){const Q=Math.pow(2,-ue),he=Math.floor(X.image.width*Q),Ge=Math.floor(X.image.height*Q);Ke.setTexture2D(X,0),ce.copyTexSubImage2D(3553,ue,0,0,D.x,D.y,he,Ge),xe.unbindTexture()},this.copyTextureToTexture=function(D,X,ue,Q=0){const he=X.image.width,Ge=X.image.height,ot=be.convert(ue.format),gt=be.convert(ue.type);Ke.setTexture2D(ue,0),ce.pixelStorei(37440,ue.flipY),ce.pixelStorei(37441,ue.premultiplyAlpha),ce.pixelStorei(3317,ue.unpackAlignment),X.isDataTexture?ce.texSubImage2D(3553,Q,D.x,D.y,he,Ge,ot,gt,X.image.data):X.isCompressedTexture?ce.compressedTexSubImage2D(3553,Q,D.x,D.y,X.mipmaps[0].width,X.mipmaps[0].height,ot,X.mipmaps[0].data):ce.texSubImage2D(3553,Q,D.x,D.y,ot,gt,X.image),Q===0&&ue.generateMipmaps&&ce.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(D,X,ue,Q,he=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ge=D.max.x-D.min.x+1,ot=D.max.y-D.min.y+1,gt=D.max.z-D.min.z+1,dt=be.convert(Q.format),At=be.convert(Q.type);let Rt;if(Q.isData3DTexture)Ke.setTexture3D(Q,0),Rt=32879;else if(Q.isDataArrayTexture)Ke.setTexture2DArray(Q,0),Rt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ce.pixelStorei(37440,Q.flipY),ce.pixelStorei(37441,Q.premultiplyAlpha),ce.pixelStorei(3317,Q.unpackAlignment);const bt=ce.getParameter(3314),li=ce.getParameter(32878),Po=ce.getParameter(3316),On=ce.getParameter(3315),ss=ce.getParameter(32877),sr=ue.isCompressedTexture?ue.mipmaps[0]:ue.image;ce.pixelStorei(3314,sr.width),ce.pixelStorei(32878,sr.height),ce.pixelStorei(3316,D.min.x),ce.pixelStorei(3315,D.min.y),ce.pixelStorei(32877,D.min.z),ue.isDataTexture||ue.isData3DTexture?ce.texSubImage3D(Rt,he,X.x,X.y,X.z,Ge,ot,gt,dt,At,sr.data):ue.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(Rt,he,X.x,X.y,X.z,Ge,ot,gt,dt,sr.data)):ce.texSubImage3D(Rt,he,X.x,X.y,X.z,Ge,ot,gt,dt,At,sr),ce.pixelStorei(3314,bt),ce.pixelStorei(32878,li),ce.pixelStorei(3316,Po),ce.pixelStorei(3315,On),ce.pixelStorei(32877,ss),he===0&&Q.generateMipmaps&&ce.generateMipmap(Rt),xe.unbindTexture()},this.initTexture=function(D){D.isCubeTexture?Ke.setTextureCube(D,0):D.isData3DTexture?Ke.setTexture3D(D,0):D.isDataArrayTexture||D.isCompressedArrayTexture?Ke.setTexture2DArray(D,0):Ke.setTexture2D(D,0),xe.unbindTexture()},this.resetState=function(){y=0,C=0,w=null,xe.reset(),le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Uk extends HM{}Uk.prototype.isWebGL1Renderer=!0;class zk extends $i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Dg extends ed{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ai(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const FE=new ee,NE=new ee,GE=new Yi,nv=new DC,op=new Pg;class xf extends $i{constructor(e=new or,t=new Dg){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let n=1,o=t.count;n<o;n++)FE.fromBufferAttribute(t,n-1),NE.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=FE.distanceTo(NE);e.setAttribute("lineDistance",new mn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,o=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),op.copy(i.boundingSphere),op.applyMatrix4(n),op.radius+=o,e.ray.intersectsSphere(op)===!1)return;GE.copy(n).invert(),nv.copy(e.ray).applyMatrix4(GE);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new ee,c=new ee,h=new ee,d=new ee,p=this.isLineSegments?2:1,f=i.index,g=i.attributes.position;if(f!==null){const y=Math.max(0,s.start),C=Math.min(f.count,s.start+s.count);for(let w=y,S=C-1;w<S;w+=p){const b=f.getX(w),T=f.getX(w+1);if(u.fromBufferAttribute(g,b),c.fromBufferAttribute(g,T),nv.distanceSqToSegment(u,c,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(d);R<e.near||R>e.far||t.push({distance:R,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,s.start),C=Math.min(g.count,s.start+s.count);for(let w=y,S=C-1;w<S;w+=p){if(u.fromBufferAttribute(g,w),c.fromBufferAttribute(g,w+1),nv.distanceSqToSegment(u,c,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(d);T<e.near||T>e.far||t.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=n.length;o<s;o++){const a=n[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const HE=new ee,WE=new ee;class jk extends xf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let n=0,o=t.count;n<o;n+=2)HE.fromBufferAttribute(t,n),WE.fromBufferAttribute(t,n+1),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+HE.distanceTo(WE);e.setAttribute("lineDistance",new mn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $k extends xf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class oo extends or{constructor(e=1,t=8,i=0,n=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},t=Math.max(3,t);const o=[],s=[],a=[],l=[],u=new ee,c=new jt;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=t;h++,d+=3){const p=i+h/t*n;u.x=e*Math.cos(p),u.y=e*Math.sin(p),s.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(s[d]/e+1)/2,c.y=(s[d+1]/e+1)/2,l.push(c.x,c.y)}for(let h=1;h<=t;h++)o.push(h,h+1,0);this.setIndex(o),this.setAttribute("position",new mn(s,3)),this.setAttribute("normal",new mn(a,3)),this.setAttribute("uv",new mn(l,2))}static fromJSON(e){return new oo(e.radius,e.segments,e.thetaStart,e.thetaLength)}}const sp=new ee,ap=new ee,rv=new ee,lp=new fo;class Yk extends or{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const n=Math.pow(10,4),o=Math.cos(_u*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,u=[0,0,0],c=["a","b","c"],h=new Array(3),d={},p=[];for(let f=0;f<l;f+=3){s?(u[0]=s.getX(f),u[1]=s.getX(f+1),u[2]=s.getX(f+2)):(u[0]=f,u[1]=f+1,u[2]=f+2);const{a:m,b:g,c:y}=lp;if(m.fromBufferAttribute(a,u[0]),g.fromBufferAttribute(a,u[1]),y.fromBufferAttribute(a,u[2]),lp.getNormal(rv),h[0]=`${Math.round(m.x*n)},${Math.round(m.y*n)},${Math.round(m.z*n)}`,h[1]=`${Math.round(g.x*n)},${Math.round(g.y*n)},${Math.round(g.z*n)}`,h[2]=`${Math.round(y.x*n)},${Math.round(y.y*n)},${Math.round(y.z*n)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let C=0;C<3;C++){const w=(C+1)%3,S=h[C],b=h[w],T=lp[c[C]],F=lp[c[w]],R=`${S}_${b}`,P=`${b}_${S}`;P in d&&d[P]?(rv.dot(d[P].normal)<=o&&(p.push(T.x,T.y,T.z),p.push(F.x,F.y,F.z)),d[P]=null):R in d||(d[R]={index0:u[C],index1:u[w],normal:rv.clone()})}}for(const f in d)if(d[f]){const{index0:m,index1:g}=d[f];sp.fromBufferAttribute(a,m),ap.fromBufferAttribute(a,g),p.push(sp.x,sp.y,sp.z),p.push(ap.x,ap.y,ap.z)}this.setAttribute("position",new mn(p,3))}}}class Ig extends or{constructor(e=1,t=32,i=16,n=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(s+a,Math.PI);let u=0;const c=[],h=new ee,d=new ee,p=[],f=[],m=[],g=[];for(let y=0;y<=i;y++){const C=[],w=y/i;let S=0;y==0&&s==0?S=.5/t:y==i&&l==Math.PI&&(S=-.5/t);for(let b=0;b<=t;b++){const T=b/t;h.x=-e*Math.cos(n+T*o)*Math.sin(s+w*a),h.y=e*Math.cos(s+w*a),h.z=e*Math.sin(n+T*o)*Math.sin(s+w*a),f.push(h.x,h.y,h.z),d.copy(h).normalize(),m.push(d.x,d.y,d.z),g.push(T+S,1-w),C.push(u++)}c.push(C)}for(let y=0;y<i;y++)for(let C=0;C<t;C++){const w=c[y][C+1],S=c[y][C],b=c[y+1][C],T=c[y+1][C+1];(y!==0||s>0)&&p.push(w,S,T),(y!==i-1||l<Math.PI)&&p.push(S,b,T)}this.setIndex(p),this.setAttribute("position",new mn(f,3)),this.setAttribute("normal",new mn(m,3)),this.setAttribute("uv",new mn(g,2))}static fromJSON(e){return new Ig(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class VE extends Dg{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const Uy={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class Kk{constructor(e,t,i){const n=this;let o=!1,s=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(c){a++,o===!1&&n.onStart!==void 0&&n.onStart(c,s,a),o=!0},this.itemEnd=function(c){s++,n.onProgress!==void 0&&n.onProgress(c,s,a),s===a&&(o=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(c){n.onError!==void 0&&n.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,h){return u.push(c,h),this},this.removeHandler=function(c){const h=u.indexOf(c);return h!==-1&&u.splice(h,2),this},this.getHandler=function(c){for(let h=0,d=u.length;h<d;h+=2){const p=u[h],f=u[h+1];if(p.global&&(p.lastIndex=0),p.test(c))return f}return null}}}const Xk=new Kk;class WM{constructor(e){this.manager=e!==void 0?e:Xk,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(n,o){i.load(e,n,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}class qk extends WM{constructor(e){super(e)}load(e,t,i,n){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Uy.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=Ah("img");function l(){c(),Uy.add(e,this),t&&t(this),o.manager.itemEnd(e)}function u(h){c(),n&&n(h),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class Zk extends WM{constructor(e){super(e)}load(e,t,i,n){const o=new xr,s=new qk(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},i,n),o}}class Jk{constructor(e,t,i=0,n=1/0){this.ray=new DC(e,t),this.near=i,this.far=n,this.camera=null,this.layers=new IC,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return zy(e,this,i,t),i.sort(kE),i}intersectObjects(e,t=!0,i=[]){for(let n=0,o=e.length;n<o;n++)zy(e[n],this,i,t);return i.sort(kE),i}}function kE(r,e){return r.distance-e.distance}function zy(r,e,t,i){if(r.layers.test(e.layers)&&r.raycast(e,t),i===!0){const n=r.children;for(let o=0,s=n.length;o<s;o++)zy(n[o],e,t,!0)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:OC}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=OC);function Qk(r){r("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),r("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),r("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),r.WGS84=r["EPSG:4326"],r["EPSG:3785"]=r["EPSG:3857"],r.GOOGLE=r["EPSG:3857"],r["EPSG:900913"]=r["EPSG:3857"],r["EPSG:102113"]=r["EPSG:3857"]}var ol=1,sl=2,Yp=3,eB=4,jy=5,BE=6378137,tB=6356752314e-3,UE=.0066943799901413165,ah=484813681109536e-20,Se=Math.PI/2,iB=.16666666666666666,nB=.04722222222222222,rB=.022156084656084655,Oe=1e-10,Ji=.017453292519943295,mo=57.29577951308232,kt=Math.PI/4,Dh=Math.PI*2,Ri=3.14159265359,Bn={};Bn.greenwich=0;Bn.lisbon=-9.131906111111;Bn.paris=2.337229166667;Bn.bogota=-74.080916666667;Bn.madrid=-3.687938888889;Bn.rome=12.452333333333;Bn.bern=7.439583333333;Bn.jakarta=106.807719444444;Bn.ferro=-17.666666666667;Bn.brussels=4.367975;Bn.stockholm=18.058277777778;Bn.athens=23.7163375;Bn.oslo=10.722916666667;const oB={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var zE=/[\s_\-\/\(\)]/g;function na(r,e){if(r[e])return r[e];for(var t=Object.keys(r),i=e.toLowerCase().replace(zE,""),n=-1,o,s;++n<t.length;)if(o=t[n],s=o.toLowerCase().replace(zE,""),s===i)return r[o]}function $y(r){var e={},t=r.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var u=l.split("=");return u.push(!0),a[u[0].toLowerCase()]=u[1],a},{}),i,n,o,s={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*Ji},lat_1:function(a){e.lat1=a*Ji},lat_2:function(a){e.lat2=a*Ji},lat_ts:function(a){e.lat_ts=a*Ji},lon_0:function(a){e.long0=a*Ji},lon_1:function(a){e.long1=a*Ji},lon_2:function(a){e.long2=a*Ji},alpha:function(a){e.alpha=parseFloat(a)*Ji},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*Ji},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=na(oB,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*Ji},pm:function(a){var l=na(Bn,a);e.from_greenwich=(l||parseFloat(a))*Ji},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in t)n=t[i],i in s?(o=s[i],typeof o=="function"?o(n):e[o]=n):e[i]=n;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Ih=1,VM=2,kM=3,Rf=4,BM=5,FC=-1,sB=/\s/,aB=/[A-Za-z]/,lB=/[A-Za-z84_]/,Lg=/[,\]]/,UM=/[\d\.E\-\+]/;function os(r){if(typeof r!="string")throw new Error("not a string");this.text=r.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ih}os.prototype.readCharicter=function(){var r=this.text[this.place++];if(this.state!==Rf)for(;sB.test(r);){if(this.place>=this.text.length)return;r=this.text[this.place++]}switch(this.state){case Ih:return this.neutral(r);case VM:return this.keyword(r);case Rf:return this.quoted(r);case BM:return this.afterquote(r);case kM:return this.number(r);case FC:return}};os.prototype.afterquote=function(r){if(r==='"'){this.word+='"',this.state=Rf;return}if(Lg.test(r)){this.word=this.word.trim(),this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in afterquote yet, index '+this.place)};os.prototype.afterItem=function(r){if(r===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Ih;return}if(r==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Ih,this.currentObject=this.stack.pop(),this.currentObject||(this.state=FC);return}};os.prototype.number=function(r){if(UM.test(r)){this.word+=r;return}if(Lg.test(r)){this.word=parseFloat(this.word),this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in number yet, index '+this.place)};os.prototype.quoted=function(r){if(r==='"'){this.state=BM;return}this.word+=r};os.prototype.keyword=function(r){if(lB.test(r)){this.word+=r;return}if(r==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Ih;return}if(Lg.test(r)){this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in keyword yet, index '+this.place)};os.prototype.neutral=function(r){if(aB.test(r)){this.word=r,this.state=VM;return}if(r==='"'){this.word="",this.state=Rf;return}if(UM.test(r)){this.word=r,this.state=kM;return}if(Lg.test(r)){this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in neutral yet, index '+this.place)};os.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===FC)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function uB(r){var e=new os(r);return e.output()}function jE(r,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var i=e?{}:r,n=t.reduce(function(o,s){return ou(s,o),o},i);e&&(r[e]=n)}function ou(r,e){if(!Array.isArray(r)){e[r]=!0;return}var t=r.shift();if(t==="PARAMETER"&&(t=r.shift()),r.length===1){if(Array.isArray(r[0])){e[t]={},ou(r[0],e[t]);return}e[t]=r[0];return}if(!r.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=r;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(r);return}Array.isArray(t)||(e[t]={});var i;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:r[0].toLowerCase(),convert:r[1]},r.length===3&&ou(r[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:r[0],a:r[1],rf:r[2]},r.length===4&&ou(r[3],e[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":r[0]=["name",r[0]],jE(e,t,r);return;default:for(i=-1;++i<r.length;)if(!Array.isArray(r[i]))return ou(r,e[t]);return jE(e,t,r)}}var cB=.017453292519943295;function hB(r,e){var t=e[0],i=e[1];!(t in r)&&i in r&&(r[t]=r[i],e.length===3&&(r[t]=e[2](r[t])))}function Ho(r){return r*cB}function dB(r){if(r.type==="GEOGCS"?r.projName="longlat":r.type==="LOCAL_CS"?(r.projName="identity",r.local=!0):typeof r.PROJECTION=="object"?r.projName=Object.keys(r.PROJECTION)[0]:r.projName=r.PROJECTION,r.AXIS){for(var e="",t=0,i=r.AXIS.length;t<i;++t){var n=[r.AXIS[t][0].toLowerCase(),r.AXIS[t][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?e+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?e+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?e+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(r.axis=e)}r.UNIT&&(r.units=r.UNIT.name.toLowerCase(),r.units==="metre"&&(r.units="meter"),r.UNIT.convert&&(r.type==="GEOGCS"?r.DATUM&&r.DATUM.SPHEROID&&(r.to_meter=r.UNIT.convert*r.DATUM.SPHEROID.a):r.to_meter=r.UNIT.convert));var o=r.GEOGCS;r.type==="GEOGCS"&&(o=r),o&&(o.DATUM?r.datumCode=o.DATUM.name.toLowerCase():r.datumCode=o.name.toLowerCase(),r.datumCode.slice(0,2)==="d_"&&(r.datumCode=r.datumCode.slice(2)),(r.datumCode==="new_zealand_geodetic_datum_1949"||r.datumCode==="new_zealand_1949")&&(r.datumCode="nzgd49"),(r.datumCode==="wgs_1984"||r.datumCode==="world_geodetic_system_1984")&&(r.PROJECTION==="Mercator_Auxiliary_Sphere"&&(r.sphere=!0),r.datumCode="wgs84"),r.datumCode.slice(-6)==="_ferro"&&(r.datumCode=r.datumCode.slice(0,-6)),r.datumCode.slice(-8)==="_jakarta"&&(r.datumCode=r.datumCode.slice(0,-8)),~r.datumCode.indexOf("belge")&&(r.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(r.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),r.ellps.toLowerCase().slice(0,13)==="international"&&(r.ellps="intl"),r.a=o.DATUM.SPHEROID.a,r.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(r.datum_params=o.DATUM.TOWGS84),~r.datumCode.indexOf("osgb_1936")&&(r.datumCode="osgb36"),~r.datumCode.indexOf("osni_1952")&&(r.datumCode="osni52"),(~r.datumCode.indexOf("tm65")||~r.datumCode.indexOf("geodetic_datum_of_1965"))&&(r.datumCode="ire65"),r.datumCode==="ch1903+"&&(r.datumCode="ch1903"),~r.datumCode.indexOf("israel")&&(r.datumCode="isr93")),r.b&&!isFinite(r.b)&&(r.b=r.a);function s(u){var c=r.to_meter||1;return u*c}var a=function(u){return hB(r,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ho],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ho],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",Ho],["lat0","latitude_of_origin",Ho],["lat0","standard_parallel_1",Ho],["lat1","standard_parallel_1",Ho],["lat2","standard_parallel_2",Ho],["azimuth","Azimuth"],["alpha","azimuth",Ho],["srsCode","name"]];l.forEach(a),!r.long0&&r.longc&&(r.projName==="Albers_Conic_Equal_Area"||r.projName==="Lambert_Azimuthal_Equal_Area")&&(r.long0=r.longc),!r.lat_ts&&r.lat1&&(r.projName==="Stereographic_South_Pole"||r.projName==="Polar Stereographic (variant B)")&&(r.lat0=Ho(r.lat1>0?90:-90),r.lat_ts=r.lat1)}function zM(r){var e=uB(r),t=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",t]);var n={};return ou(e,n),dB(n),n}function Cn(r){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?Cn[r]=$y(arguments[1]):Cn[r]=zM(arguments[1]):Cn[r]=t}else if(arguments.length===1){if(Array.isArray(r))return r.map(function(i){Array.isArray(i)?Cn.apply(e,i):Cn(i)});if(typeof r=="string"){if(r in Cn)return Cn[r]}else"EPSG"in r?Cn["EPSG:"+r.EPSG]=r:"ESRI"in r?Cn["ESRI:"+r.ESRI]=r:"IAU2000"in r?Cn["IAU2000:"+r.IAU2000]=r:console.log(r);return}}Qk(Cn);function pB(r){return typeof r=="string"}function fB(r){return r in Cn}var gB=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function mB(r){return gB.some(function(e){return r.indexOf(e)>-1})}var vB=["3857","900913","3785","102113"];function yB(r){var e=na(r,"authority");if(!!e){var t=na(e,"epsg");return t&&vB.indexOf(t)>-1}}function _B(r){var e=na(r,"extension");if(!!e)return na(e,"proj4")}function CB(r){return r[0]==="+"}function wB(r){if(pB(r)){if(fB(r))return Cn[r];if(mB(r)){var e=zM(r);if(yB(e))return Cn["EPSG:3857"];var t=_B(e);return t?$y(t):e}if(CB(r))return $y(r)}else return r}function $E(r,e){r=r||{};var t,i;if(!e)return r;for(i in e)t=e[i],t!==void 0&&(r[i]=t);return r}function Ro(r,e,t){var i=r*e;return t/Math.sqrt(1-i*i)}function id(r){return r<0?-1:1}function Fe(r){return Math.abs(r)<=Ri?r:r-id(r)*Dh}function jr(r,e,t){var i=r*t,n=.5*r;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(Se-e))/i}function Lh(r,e){for(var t=.5*r,i,n,o=Se-2*Math.atan(e),s=0;s<=15;s++)if(i=r*Math.sin(o),n=Se-2*Math.atan(e*Math.pow((1-i)/(1+i),t))-o,o+=n,Math.abs(n)<=1e-10)return o;return-9999}function SB(){var r=this.b/this.a;this.es=1-r*r,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ro(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function EB(r){var e=r.x,t=r.y;if(t*mo>90&&t*mo<-90&&e*mo>180&&e*mo<-180)return null;var i,n;if(Math.abs(Math.abs(t)-Se)<=Oe)return null;if(this.sphere)i=this.x0+this.a*this.k0*Fe(e-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(kt+.5*t));else{var o=Math.sin(t),s=jr(this.e,t,o);i=this.x0+this.a*this.k0*Fe(e-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return r.x=i,r.y=n,r}function xB(r){var e=r.x-this.x0,t=r.y-this.y0,i,n;if(this.sphere)n=Se-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(n=Lh(this.e,o),n===-9999)return null}return i=Fe(this.long0+e/(this.a*this.k0)),r.x=i,r.y=n,r}var RB=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const bB={init:SB,forward:EB,inverse:xB,names:RB};function MB(){}function YE(r){return r}var TB=["longlat","identity"];const PB={init:MB,forward:YE,inverse:YE,names:TB};var OB=[bB,PB],Kp={},bf=[];function jM(r,e){var t=bf.length;return r.names?(bf[t]=r,r.names.forEach(function(i){Kp[i.toLowerCase()]=t}),this):(console.log(e),!0)}function AB(r){if(!r)return!1;var e=r.toLowerCase();if(typeof Kp[e]<"u"&&bf[Kp[e]])return bf[Kp[e]]}function DB(){OB.forEach(jM)}const IB={start:DB,add:jM,get:AB};var at={};at.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};at.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};at.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};at.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};at.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};at.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};at.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};at.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};at.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};at.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};at.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};at.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};at.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};at.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};at.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};at.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};at.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};at.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};at.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};at.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};at.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};at.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};at.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};at.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};at.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};at.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};at.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};at.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};at.hough={a:6378270,rf:297,ellipseName:"Hough"};at.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};at.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};at.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};at.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};at.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};at.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};at.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};at.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};at.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};at.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};at.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};at.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var LB=at.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};at.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function FB(r,e,t,i){var n=r*r,o=e*e,s=(n-o)/n,a=0;i?(r*=1-s*(iB+s*(nB+s*rB)),n=r*r,s=0):a=Math.sqrt(s);var l=(n-o)/o;return{es:s,e:a,ep2:l}}function NB(r,e,t,i,n){if(!r){var o=na(at,i);o||(o=LB),r=o.a,e=o.b,t=o.rf}return t&&!e&&(e=(1-1/t)*r),(t===0||Math.abs(r-e)<Oe)&&(n=!0,e=r),{a:r,b:e,rf:t,sphere:n}}var Ki={};Ki.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Ki.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Ki.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Ki.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Ki.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Ki.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Ki.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Ki.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Ki.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Ki.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Ki.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Ki.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Ki.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Ki.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Ki.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Ki.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Ki.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function GB(r,e,t,i,n,o,s){var a={};return r===void 0||r==="none"?a.datum_type=jy:a.datum_type=eB,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=ol),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=sl,a.datum_params[3]*=ah,a.datum_params[4]*=ah,a.datum_params[5]*=ah,a.datum_params[6]=a.datum_params[6]/1e6+1)),s&&(a.datum_type=Yp,a.grids=s),a.a=t,a.b=i,a.es=n,a.ep2=o,a}var $M={};function HB(r,e){var t=new DataView(e),i=kB(t),n=BB(t,i);n.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=UB(t,n,i),s={header:n,subgrids:o};return $M[r]=s,s}function WB(r){if(r===void 0)return null;var e=r.split(",");return e.map(VB)}function VB(r){if(r.length===0)return null;var e=r[0]==="@";return e&&(r=r.slice(1)),r==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:r,mandatory:!e,grid:$M[r]||null,isNull:!1}}function su(r){return r/3600*Math.PI/180}function kB(r){var e=r.getInt32(8,!1);return e===11?!1:(e=r.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function BB(r,e){return{nFields:r.getInt32(8,e),nSubgridFields:r.getInt32(24,e),nSubgrids:r.getInt32(40,e),shiftType:Yy(r,56,56+8).trim(),fromSemiMajorAxis:r.getFloat64(120,e),fromSemiMinorAxis:r.getFloat64(136,e),toSemiMajorAxis:r.getFloat64(152,e),toSemiMinorAxis:r.getFloat64(168,e)}}function Yy(r,e,t){return String.fromCharCode.apply(null,new Uint8Array(r.buffer.slice(e,t)))}function UB(r,e,t){for(var i=176,n=[],o=0;o<e.nSubgrids;o++){var s=jB(r,i,t),a=$B(r,i,s,t),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),u=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);n.push({ll:[su(s.lowerLongitude),su(s.lowerLatitude)],del:[su(s.longitudeInterval),su(s.latitudeInterval)],lim:[l,u],count:s.gridNodeCount,cvs:zB(a)})}return n}function zB(r){return r.map(function(e){return[su(e.longitudeShift),su(e.latitudeShift)]})}function jB(r,e,t){return{name:Yy(r,e+8,e+16).trim(),parent:Yy(r,e+24,e+24+8).trim(),lowerLatitude:r.getFloat64(e+72,t),upperLatitude:r.getFloat64(e+88,t),lowerLongitude:r.getFloat64(e+104,t),upperLongitude:r.getFloat64(e+120,t),latitudeInterval:r.getFloat64(e+136,t),longitudeInterval:r.getFloat64(e+152,t),gridNodeCount:r.getInt32(e+168,t)}}function $B(r,e,t,i){for(var n=e+176,o=16,s=[],a=0;a<t.gridNodeCount;a++){var l={latitudeShift:r.getFloat32(n+a*o,i),longitudeShift:r.getFloat32(n+a*o+4,i),latitudeAccuracy:r.getFloat32(n+a*o+8,i),longitudeAccuracy:r.getFloat32(n+a*o+12,i)};s.push(l)}return s}function Co(r,e){if(!(this instanceof Co))return new Co(r);e=e||function(u){if(u)throw u};var t=wB(r);if(typeof t!="object"){e(r);return}var i=Co.projections.get(t.projName);if(!i){e(r);return}if(t.datumCode&&t.datumCode!=="none"){var n=na(Ki,t.datumCode);n&&(t.datum_params=t.datum_params||(n.towgs84?n.towgs84.split(","):null),t.ellps=n.ellipse,t.datumName=n.datumName?n.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=NB(t.a,t.b,t.rf,t.ellps,t.sphere),s=FB(o.a,o.b,o.rf,t.R_A),a=WB(t.nadgrids),l=t.datum||GB(t.datumCode,t.datum_params,o.a,o.b,s.es,s.ep2,a);$E(this,t),$E(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),e(null,this)}Co.projections=IB;Co.projections.start();function YB(r,e){return r.datum_type!==e.datum_type||r.a!==e.a||Math.abs(r.es-e.es)>5e-11?!1:r.datum_type===ol?r.datum_params[0]===e.datum_params[0]&&r.datum_params[1]===e.datum_params[1]&&r.datum_params[2]===e.datum_params[2]:r.datum_type===sl?r.datum_params[0]===e.datum_params[0]&&r.datum_params[1]===e.datum_params[1]&&r.datum_params[2]===e.datum_params[2]&&r.datum_params[3]===e.datum_params[3]&&r.datum_params[4]===e.datum_params[4]&&r.datum_params[5]===e.datum_params[5]&&r.datum_params[6]===e.datum_params[6]:!0}function YM(r,e,t){var i=r.x,n=r.y,o=r.z?r.z:0,s,a,l,u;if(n<-Se&&n>-1.001*Se)n=-Se;else if(n>Se&&n<1.001*Se)n=Se;else{if(n<-Se)return{x:-1/0,y:-1/0,z:r.z};if(n>Se)return{x:1/0,y:1/0,z:r.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(n),u=Math.cos(n),l=a*a,s=t/Math.sqrt(1-e*l),{x:(s+o)*u*Math.cos(i),y:(s+o)*u*Math.sin(i),z:(s*(1-e)+o)*a}}function KM(r,e,t,i){var n=1e-12,o=n*n,s=30,a,l,u,c,h,d,p,f,m,g,y,C,w,S=r.x,b=r.y,T=r.z?r.z:0,F,R,P;if(a=Math.sqrt(S*S+b*b),l=Math.sqrt(S*S+b*b+T*T),a/t<n){if(F=0,l/t<n)return R=Se,P=-i,{x:r.x,y:r.y,z:r.z}}else F=Math.atan2(b,S);u=T/l,c=a/l,h=1/Math.sqrt(1-e*(2-e)*c*c),f=c*(1-e)*h,m=u*h,w=0;do w++,p=t/Math.sqrt(1-e*m*m),P=a*f+T*m-p*(1-e*m*m),d=e*p/(p+P),h=1/Math.sqrt(1-d*(2-d)*c*c),g=c*(1-d)*h,y=u*h,C=y*f-g*m,f=g,m=y;while(C*C>o&&w<s);return R=Math.atan(y/Math.abs(g)),{x:F,y:R,z:P}}function KB(r,e,t){if(e===ol)return{x:r.x+t[0],y:r.y+t[1],z:r.z+t[2]};if(e===sl){var i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6];return{x:u*(r.x-l*r.y+a*r.z)+i,y:u*(l*r.x+r.y-s*r.z)+n,z:u*(-a*r.x+s*r.y+r.z)+o}}}function XB(r,e,t){if(e===ol)return{x:r.x-t[0],y:r.y-t[1],z:r.z-t[2]};if(e===sl){var i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=(r.x-i)/u,h=(r.y-n)/u,d=(r.z-o)/u;return{x:c+l*h-a*d,y:-l*c+h+s*d,z:a*c-s*h+d}}}function up(r){return r===ol||r===sl}function qB(r,e,t){if(YB(r,e)||r.datum_type===jy||e.datum_type===jy)return t;var i=r.a,n=r.es;if(r.datum_type===Yp){var o=KE(r,!1,t);if(o!==0)return;i=BE,n=UE}var s=e.a,a=e.b,l=e.es;if(e.datum_type===Yp&&(s=BE,a=tB,l=UE),n===l&&i===s&&!up(r.datum_type)&&!up(e.datum_type))return t;if(t=YM(t,n,i),up(r.datum_type)&&(t=KB(t,r.datum_type,r.datum_params)),up(e.datum_type)&&(t=XB(t,e.datum_type,e.datum_params)),t=KM(t,l,s,a),e.datum_type===Yp){var u=KE(e,!0,t);if(u!==0)return}return t}function KE(r,e,t){if(r.grids===null||r.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var i={x:-t.x,y:t.y},n={x:Number.NaN,y:Number.NaN},o=[],s=0;s<r.grids.length;s++){var a=r.grids[s];if(o.push(a.name),a.isNull){n=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}var l=a.grid.subgrids[0],u=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,c=l.ll[0]-u,h=l.ll[1]-u,d=l.ll[0]+(l.lim[0]-1)*l.del[0]+u,p=l.ll[1]+(l.lim[1]-1)*l.del[1]+u;if(!(h>i.y||c>i.x||p<i.y||d<i.x)&&(n=ZB(i,e,l),!isNaN(n.x)))break}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*mo+" "+i.y*mo+" tried: '"+o+"'"),-1):(t.x=-n.x,t.y=n.y,0)}function ZB(r,e,t){var i={x:Number.NaN,y:Number.NaN};if(isNaN(r.x))return i;var n={x:r.x,y:r.y};n.x-=t.ll[0],n.y-=t.ll[1],n.x=Fe(n.x-Math.PI)+Math.PI;var o=XE(n,t);if(e){if(isNaN(o.x))return i;o.x=n.x-o.x,o.y=n.y-o.y;var s=9,a=1e-12,l,u;do{if(u=XE(o,t),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:n.x-(u.x+o.x),y:n.y-(u.y+o.y)},o.x+=l.x,o.y+=l.y}while(s--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Fe(o.x+t.ll[0]),i.y=o.y+t.ll[1]}else isNaN(o.x)||(i.x=r.x+o.x,i.y=r.y+o.y);return i}function XE(r,e){var t={x:r.x/e.del[0],y:r.y/e.del[1]},i={x:Math.floor(t.x),y:Math.floor(t.y)},n={x:t.x-1*i.x,y:t.y-1*i.y},o={x:Number.NaN,y:Number.NaN},s;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return o;s=i.y*e.lim[0]+i.x;var a={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var u={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var c={x:e.cvs[s][0],y:e.cvs[s][1]},h=n.x*n.y,d=n.x*(1-n.y),p=(1-n.x)*(1-n.y),f=(1-n.x)*n.y;return o.x=p*a.x+d*l.x+f*c.x+h*u.x,o.y=p*a.y+d*l.y+f*c.y+h*u.y,o}function qE(r,e,t){var i=t.x,n=t.y,o=t.z||0,s,a,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&t.z===void 0))switch(l===0?(s=i,"ew".indexOf(r.axis[l])!==-1?a="x":a="y"):l===1?(s=n,"ns".indexOf(r.axis[l])!==-1?a="y":a="x"):(s=o,a="z"),r.axis[l]){case"e":u[a]=s;break;case"w":u[a]=-s;break;case"n":u[a]=s;break;case"s":u[a]=-s;break;case"u":t[a]!==void 0&&(u.z=s);break;case"d":t[a]!==void 0&&(u.z=-s);break;default:return null}return u}function XM(r){var e={x:r[0],y:r[1]};return r.length>2&&(e.z=r[2]),r.length>3&&(e.m=r[3]),e}function JB(r){ZE(r.x),ZE(r.y)}function ZE(r){if(typeof Number.isFinite=="function"){if(Number.isFinite(r))return;throw new TypeError("coordinates must be finite numbers")}if(typeof r!="number"||r!==r||!isFinite(r))throw new TypeError("coordinates must be finite numbers")}function QB(r,e){return(r.datum.datum_type===ol||r.datum.datum_type===sl)&&e.datumCode!=="WGS84"||(e.datum.datum_type===ol||e.datum.datum_type===sl)&&r.datumCode!=="WGS84"}function Mf(r,e,t,i){var n;if(Array.isArray(t)&&(t=XM(t)),JB(t),r.datum&&e.datum&&QB(r,e)&&(n=new Co("WGS84"),t=Mf(r,n,t,i),r=n),i&&r.axis!=="enu"&&(t=qE(r,!1,t)),r.projName==="longlat")t={x:t.x*Ji,y:t.y*Ji,z:t.z||0};else if(r.to_meter&&(t={x:t.x*r.to_meter,y:t.y*r.to_meter,z:t.z||0}),t=r.inverse(t),!t)return;if(r.from_greenwich&&(t.x+=r.from_greenwich),t=qB(r.datum,e.datum,t),!!t)return e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*mo,y:t.y*mo,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),i&&e.axis!=="enu"?qE(e,!0,t):t}var JE=Co("WGS84");function ov(r,e,t,i){var n,o,s;return Array.isArray(t)?(n=Mf(r,e,t,i)||{x:NaN,y:NaN},t.length>2?typeof r.name<"u"&&r.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(t.splice(3)):[n.x,n.y,t[2]].concat(t.splice(3)):[n.x,n.y].concat(t.splice(2)):[n.x,n.y]):(o=Mf(r,e,t,i),s=Object.keys(t),s.length===2||s.forEach(function(a){if(typeof r.name<"u"&&r.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;o[a]=t[a]}),o)}function QE(r){return r instanceof Co?r:r.oProj?r.oProj:Co(r)}function Vn(r,e,t){r=QE(r);var i=!1,n;return typeof e>"u"?(e=r,r=JE,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(t=e,e=r,r=JE,i=!0),e=QE(e),t?ov(r,e,t):(n={forward:function(o,s){return ov(r,e,o,s)},inverse:function(o,s){return ov(e,r,o,s)}},i&&(n.oProj=e),n)}var ex=6,qM="AJSAJS",ZM="AFAFAF",au=65,Fn=73,dr=79,Kc=86,Xc=90;const eU={forward:JM,inverse:tU,toPoint:QM};function JM(r,e){return e=e||5,rU(iU({lat:r[1],lon:r[0]}),e)}function tU(r){var e=NC(tT(r.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function QM(r){var e=NC(tT(r.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function sv(r){return r*(Math.PI/180)}function tx(r){return 180*(r/Math.PI)}function iU(r){var e=r.lat,t=r.lon,i=6378137,n=.00669438,o=.9996,s,a,l,u,c,h,d,p=sv(e),f=sv(t),m,g;g=Math.floor((t+180)/6)+1,t===180&&(g=60),e>=56&&e<64&&t>=3&&t<12&&(g=32),e>=72&&e<84&&(t>=0&&t<9?g=31:t>=9&&t<21?g=33:t>=21&&t<33?g=35:t>=33&&t<42&&(g=37)),s=(g-1)*6-180+3,m=sv(s),a=n/(1-n),l=i/Math.sqrt(1-n*Math.sin(p)*Math.sin(p)),u=Math.tan(p)*Math.tan(p),c=a*Math.cos(p)*Math.cos(p),h=Math.cos(p)*(f-m),d=i*((1-n/4-3*n*n/64-5*n*n*n/256)*p-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*p)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*p)-35*n*n*n/3072*Math.sin(6*p));var y=o*l*(h+(1-u+c)*h*h*h/6+(5-18*u+u*u+72*c-58*a)*h*h*h*h*h/120)+5e5,C=o*(d+l*Math.tan(p)*(h*h/2+(5-u+9*c+4*c*c)*h*h*h*h/24+(61-58*u+u*u+600*c-330*a)*h*h*h*h*h*h/720));return e<0&&(C+=1e7),{northing:Math.round(C),easting:Math.round(y),zoneNumber:g,zoneLetter:nU(e)}}function NC(r){var e=r.northing,t=r.easting,i=r.zoneLetter,n=r.zoneNumber;if(n<0||n>60)return null;var o=.9996,s=6378137,a=.00669438,l,u=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),c,h,d,p,f,m,g,y,C,w=t-5e5,S=e;i<"N"&&(S-=1e7),g=(n-1)*6-180+3,l=a/(1-a),m=S/o,y=m/(s*(1-a/4-3*a*a/64-5*a*a*a/256)),C=y+(3*u/2-27*u*u*u/32)*Math.sin(2*y)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*y)+151*u*u*u/96*Math.sin(6*y),c=s/Math.sqrt(1-a*Math.sin(C)*Math.sin(C)),h=Math.tan(C)*Math.tan(C),d=l*Math.cos(C)*Math.cos(C),p=s*(1-a)/Math.pow(1-a*Math.sin(C)*Math.sin(C),1.5),f=w/(c*o);var b=C-c*Math.tan(C)/p*(f*f/2-(5+3*h+10*d-4*d*d-9*l)*f*f*f*f/24+(61+90*h+298*d+45*h*h-252*l-3*d*d)*f*f*f*f*f*f/720);b=tx(b);var T=(f-(1+2*h+d)*f*f*f/6+(5-2*d+28*h-3*d*d+8*l+24*h*h)*f*f*f*f*f/120)/Math.cos(C);T=g+tx(T);var F;if(r.accuracy){var R=NC({northing:r.northing+r.accuracy,easting:r.easting+r.accuracy,zoneLetter:r.zoneLetter,zoneNumber:r.zoneNumber});F={top:R.lat,right:R.lon,bottom:b,left:T}}else F={lat:b,lon:T};return F}function nU(r){var e="Z";return 84>=r&&r>=72?e="X":72>r&&r>=64?e="W":64>r&&r>=56?e="V":56>r&&r>=48?e="U":48>r&&r>=40?e="T":40>r&&r>=32?e="S":32>r&&r>=24?e="R":24>r&&r>=16?e="Q":16>r&&r>=8?e="P":8>r&&r>=0?e="N":0>r&&r>=-8?e="M":-8>r&&r>=-16?e="L":-16>r&&r>=-24?e="K":-24>r&&r>=-32?e="J":-32>r&&r>=-40?e="H":-40>r&&r>=-48?e="G":-48>r&&r>=-56?e="F":-56>r&&r>=-64?e="E":-64>r&&r>=-72?e="D":-72>r&&r>=-80&&(e="C"),e}function rU(r,e){var t="00000"+r.easting,i="00000"+r.northing;return r.zoneNumber+r.zoneLetter+oU(r.easting,r.northing,r.zoneNumber)+t.substr(t.length-5,e)+i.substr(i.length-5,e)}function oU(r,e,t){var i=eT(t),n=Math.floor(r/1e5),o=Math.floor(e/1e5)%20;return sU(n,o,i)}function eT(r){var e=r%ex;return e===0&&(e=ex),e}function sU(r,e,t){var i=t-1,n=qM.charCodeAt(i),o=ZM.charCodeAt(i),s=n+r-1,a=o+e,l=!1;s>Xc&&(s=s-Xc+au-1,l=!0),(s===Fn||n<Fn&&s>Fn||(s>Fn||n<Fn)&&l)&&s++,(s===dr||n<dr&&s>dr||(s>dr||n<dr)&&l)&&(s++,s===Fn&&s++),s>Xc&&(s=s-Xc+au-1),a>Kc?(a=a-Kc+au-1,l=!0):l=!1,(a===Fn||o<Fn&&a>Fn||(a>Fn||o<Fn)&&l)&&a++,(a===dr||o<dr&&a>dr||(a>dr||o<dr)&&l)&&(a++,a===Fn&&a++),a>Kc&&(a=a-Kc+au-1);var u=String.fromCharCode(s)+String.fromCharCode(a);return u}function tT(r){if(r&&r.length===0)throw"MGRSPoint coverting from nothing";for(var e=r.length,t=null,i="",n,o=0;!/[A-Z]/.test(n=r.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+r;i+=n,o++}var s=parseInt(i,10);if(o===0||o+3>e)throw"MGRSPoint bad conversion from: "+r;var a=r.charAt(o++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+r;t=r.substring(o,o+=2);for(var l=eT(s),u=aU(t.charAt(0),l),c=lU(t.charAt(1),l);c<uU(a);)c+=2e6;var h=e-o;if(h%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+r;var d=h/2,p=0,f=0,m,g,y,C,w;return d>0&&(m=1e5/Math.pow(10,d),g=r.substring(o,o+d),p=parseFloat(g)*m,y=r.substring(o+d),f=parseFloat(y)*m),C=p+u,w=f+c,{easting:C,northing:w,zoneLetter:a,zoneNumber:s,accuracy:m}}function aU(r,e){for(var t=qM.charCodeAt(e-1),i=1e5,n=!1;t!==r.charCodeAt(0);){if(t++,t===Fn&&t++,t===dr&&t++,t>Xc){if(n)throw"Bad character: "+r;t=au,n=!0}i+=1e5}return i}function lU(r,e){if(r>"V")throw"MGRSPoint given invalid Northing "+r;for(var t=ZM.charCodeAt(e-1),i=0,n=!1;t!==r.charCodeAt(0);){if(t++,t===Fn&&t++,t===dr&&t++,t>Kc){if(n)throw"Bad character: "+r;t=au,n=!0}i+=1e5}return i}function uU(r){var e;switch(r){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+r}function Du(r,e,t){if(!(this instanceof Du))return new Du(r,e,t);if(Array.isArray(r))this.x=r[0],this.y=r[1],this.z=r[2]||0;else if(typeof r=="object")this.x=r.x,this.y=r.y,this.z=r.z||0;else if(typeof r=="string"&&typeof e>"u"){var i=r.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=r,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Du.fromMGRS=function(r){return new Du(QM(r))};Du.prototype.toMGRS=function(r){return JM([this.x,this.y],r)};var cU=1,hU=.25,ix=.046875,nx=.01953125,rx=.01068115234375,dU=.75,pU=.46875,fU=.013020833333333334,gU=.007120768229166667,mU=.3645833333333333,vU=.005696614583333333,yU=.3076171875;function iT(r){var e=[];e[0]=cU-r*(hU+r*(ix+r*(nx+r*rx))),e[1]=r*(dU-r*(ix+r*(nx+r*rx)));var t=r*r;return e[2]=t*(pU-r*(fU+r*gU)),t*=r,e[3]=t*(mU-r*vU),e[4]=t*r*yU,e}function Fg(r,e,t,i){return t*=e,e*=e,i[0]*r-t*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var _U=20;function nT(r,e,t){for(var i=1/(1-e),n=r,o=_U;o;--o){var s=Math.sin(n),a=1-e*s*s;if(a=(Fg(n,s,Math.cos(n),t)-r)*(a*Math.sqrt(a))*i,n-=a,Math.abs(a)<Oe)return n}return n}function CU(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=iT(this.es),this.ml0=Fg(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function wU(r){var e=r.x,t=r.y,i=Fe(e-this.long0),n,o,s,a=Math.sin(t),l=Math.cos(t);if(this.es){var c=l*i,h=Math.pow(c,2),d=this.ep2*Math.pow(l,2),p=Math.pow(d,2),f=Math.abs(l)>Oe?Math.tan(t):0,m=Math.pow(f,2),g=Math.pow(m,2);n=1-this.es*Math.pow(a,2),c=c/Math.sqrt(n);var y=Fg(t,a,l,this.en);o=this.a*(this.k0*c*(1+h/6*(1-m+d+h/20*(5-18*m+g+14*d-58*m*d+h/42*(61+179*g-g*m-479*m)))))+this.x0,s=this.a*(this.k0*(y-this.ml0+a*i*c/2*(1+h/12*(5-m+9*d+4*p+h/30*(61+g-58*m+270*d-330*m*d+h/56*(1385+543*g-g*m-3111*m))))))+this.y0}else{var u=l*Math.sin(i);if(Math.abs(Math.abs(u)-1)<Oe)return 93;if(o=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,s=l*Math.cos(i)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(s),u>=1){if(u-1>Oe)return 93;s=0}else s=Math.acos(s);t<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return r.x=o,r.y=s,r}function SU(r){var e,t,i,n,o=(r.x-this.x0)*(1/this.a),s=(r.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,t=nT(e,this.es,this.en),Math.abs(t)<Se){var h=Math.sin(t),d=Math.cos(t),p=Math.abs(d)>Oe?Math.tan(t):0,f=this.ep2*Math.pow(d,2),m=Math.pow(f,2),g=Math.pow(p,2),y=Math.pow(g,2);e=1-this.es*Math.pow(h,2);var C=o*Math.sqrt(e)/this.k0,w=Math.pow(C,2);e=e*p,i=t-e*w/(1-this.es)*.5*(1-w/12*(5+3*g-9*f*g+f-4*m-w/30*(61+90*g-252*f*g+45*y+46*f-w/56*(1385+3633*g+4095*y+1574*y*g)))),n=Fe(this.long0+C*(1-w/6*(1+2*g+f-w/20*(5+28*g+24*y+8*f*g+6*f-w/42*(61+662*g+1320*y+720*y*g))))/d)}else i=Se*id(s),n=0;else{var a=Math.exp(o/this.k0),l=.5*(a-1/a),u=this.lat0+s/this.k0,c=Math.cos(u);e=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(l,2))),i=Math.asin(e),s<0&&(i=-i),l===0&&c===0?n=0:n=Fe(Math.atan2(l,c)+this.long0)}return r.x=n,r.y=i,r}var EU=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Xp={init:CU,forward:wU,inverse:SU,names:EU};function rT(r){var e=Math.exp(r);return e=(e-1/e)/2,e}function Wr(r,e){r=Math.abs(r),e=Math.abs(e);var t=Math.max(r,e),i=Math.min(r,e)/(t||1);return t*Math.sqrt(1+Math.pow(i,2))}function xU(r){var e=1+r,t=e-1;return t===0?r:r*Math.log(e)/t}function RU(r){var e=Math.abs(r);return e=xU(e*(1+e/(Wr(1,e)+1))),r<0?-e:e}function GC(r,e){for(var t=2*Math.cos(2*e),i=r.length-1,n=r[i],o=0,s;--i>=0;)s=-o+t*n+r[i],o=n,n=s;return e+s*Math.sin(2*e)}function bU(r,e){for(var t=2*Math.cos(e),i=r.length-1,n=r[i],o=0,s;--i>=0;)s=-o+t*n+r[i],o=n,n=s;return Math.sin(e)*s}function MU(r){var e=Math.exp(r);return e=(e+1/e)/2,e}function oT(r,e,t){for(var i=Math.sin(e),n=Math.cos(e),o=rT(t),s=MU(t),a=2*n*s,l=-2*i*o,u=r.length-1,c=r[u],h=0,d=0,p=0,f,m;--u>=0;)f=d,m=h,d=c,h=p,c=-f+a*d-l*h+r[u],p=-m+l*d+a*h;return a=i*s,l=n*o,[a*c-l*p,a*p+l*c]}function TU(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Xp.init.apply(this),this.forward=Xp.forward,this.inverse=Xp.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var r=this.es/(1+Math.sqrt(1-this.es)),e=r/(2-r),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var i=GC(this.cbg,this.lat0);this.Zb=-this.Qn*(i+bU(this.gtu,2*i))}function PU(r){var e=Fe(r.x-this.long0),t=r.y;t=GC(this.cbg,t);var i=Math.sin(t),n=Math.cos(t),o=Math.sin(e),s=Math.cos(e);t=Math.atan2(i,s*n),e=Math.atan2(o*n,Wr(i,n*s)),e=RU(Math.tan(e));var a=oT(this.gtu,2*t,2*e);t=t+a[0],e=e+a[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,u=1/0),r.x=l,r.y=u,r}function OU(r){var e=(r.x-this.x0)*(1/this.a),t=(r.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var i,n;if(Math.abs(e)<=2.623395162778){var o=oT(this.utg,2*t,2*e);t=t+o[0],e=e+o[1],e=Math.atan(rT(e));var s=Math.sin(t),a=Math.cos(t),l=Math.sin(e),u=Math.cos(e);t=Math.atan2(s*u,Wr(l,u*a)),e=Math.atan2(l,u*a),i=Fe(e+this.long0),n=GC(this.cgb,t)}else i=1/0,n=1/0;return r.x=i,r.y=n,r}var AU=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const qp={init:TU,forward:PU,inverse:OU,names:AU};function DU(r,e){if(r===void 0){if(r=Math.floor((Fe(e)+Math.PI)*30/Math.PI)+1,r<0)return 0;if(r>60)return 60}return r}var IU="etmerc";function LU(){var r=DU(this.zone,this.long0);if(r===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(r)-183)*Ji,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qp.init.apply(this),this.forward=qp.forward,this.inverse=qp.inverse}var FU=["Universal Transverse Mercator System","utm"];const NU={init:LU,names:FU,dependsOn:IU};function HC(r,e){return Math.pow((1-r)/(1+r),e)}var GU=20;function HU(){var r=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*r*r),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(r/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+kt)/(Math.pow(Math.tan(.5*this.lat0+kt),this.C)*HC(this.e*r,this.ratexp))}function WU(r){var e=r.x,t=r.y;return r.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+kt),this.C)*HC(this.e*Math.sin(t),this.ratexp))-Se,r.x=this.C*e,r}function VU(r){for(var e=1e-14,t=r.x/this.C,i=r.y,n=Math.pow(Math.tan(.5*i+kt)/this.K,1/this.C),o=GU;o>0&&(i=2*Math.atan(n*HC(this.e*Math.sin(r.y),-.5*this.e))-Se,!(Math.abs(i-r.y)<e));--o)r.y=i;return o?(r.x=t,r.y=i,r):null}var kU=["gauss"];const WC={init:HU,forward:WU,inverse:VU,names:kU};function BU(){WC.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function UU(r){var e,t,i,n;return r.x=Fe(r.x-this.long0),WC.forward.apply(this,[r]),e=Math.sin(r.y),t=Math.cos(r.y),i=Math.cos(r.x),n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*i),r.x=n*t*Math.sin(r.x),r.y=n*(this.cosc0*e-this.sinc0*t*i),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function zU(r){var e,t,i,n,o;if(r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,r.x/=this.k0,r.y/=this.k0,o=Math.sqrt(r.x*r.x+r.y*r.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),t=Math.cos(s),n=Math.asin(t*this.sinc0+r.y*e*this.cosc0/o),i=Math.atan2(r.x*e,o*this.cosc0*t-r.y*this.sinc0*e)}else n=this.phic0,i=0;return r.x=i,r.y=n,WC.inverse.apply(this,[r]),r.x=Fe(r.x+this.long0),r}var jU=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const $U={init:BU,forward:UU,inverse:zU,names:jU};function YU(r,e,t){return e*=t,Math.tan(.5*(Se+r))*Math.pow((1-e)/(1+e),.5*t)}function KU(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Oe&&(this.k0=.5*(1+id(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Oe&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Oe&&(this.k0=.5*this.cons*Ro(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/jr(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ro(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Se,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function XU(r){var e=r.x,t=r.y,i=Math.sin(t),n=Math.cos(t),o,s,a,l,u,c,h=Fe(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Oe&&Math.abs(t+this.lat0)<=Oe?(r.x=NaN,r.y=NaN,r):this.sphere?(o=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(h)),r.x=this.a*o*n*Math.sin(h)+this.x0,r.y=this.a*o*(this.coslat0*i-this.sinlat0*n*Math.cos(h))+this.y0,r):(s=2*Math.atan(this.ssfn_(t,i,this.e))-Se,l=Math.cos(s),a=Math.sin(s),Math.abs(this.coslat0)<=Oe?(u=jr(this.e,t*this.con,this.con*i),c=2*this.a*this.k0*u/this.cons,r.x=this.x0+c*Math.sin(e-this.long0),r.y=this.y0-this.con*c*Math.cos(e-this.long0),r):(Math.abs(this.sinlat0)<Oe?(o=2*this.a*this.k0/(1+l*Math.cos(h)),r.y=o*a):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(h))),r.y=o*(this.cosX0*a-this.sinX0*l*Math.cos(h))+this.y0),r.x=o*l*Math.sin(h)+this.x0,r))}function qU(r){r.x-=this.x0,r.y-=this.y0;var e,t,i,n,o,s=Math.sqrt(r.x*r.x+r.y*r.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,t=this.lat0,s<=Oe?(r.x=e,r.y=t,r):(t=Math.asin(Math.cos(a)*this.sinlat0+r.y*Math.sin(a)*this.coslat0/s),Math.abs(this.coslat0)<Oe?this.lat0>0?e=Fe(this.long0+Math.atan2(r.x,-1*r.y)):e=Fe(this.long0+Math.atan2(r.x,r.y)):e=Fe(this.long0+Math.atan2(r.x*Math.sin(a),s*this.coslat0*Math.cos(a)-r.y*this.sinlat0*Math.sin(a))),r.x=e,r.y=t,r)}else if(Math.abs(this.coslat0)<=Oe){if(s<=Oe)return t=this.lat0,e=this.long0,r.x=e,r.y=t,r;r.x*=this.con,r.y*=this.con,i=s*this.cons/(2*this.a*this.k0),t=this.con*Lh(this.e,i),e=this.con*Fe(this.con*this.long0+Math.atan2(r.x,-1*r.y))}else n=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Oe?o=this.X0:(o=Math.asin(Math.cos(n)*this.sinX0+r.y*Math.sin(n)*this.cosX0/s),e=Fe(this.long0+Math.atan2(r.x*Math.sin(n),s*this.cosX0*Math.cos(n)-r.y*this.sinX0*Math.sin(n)))),t=-1*Lh(this.e,Math.tan(.5*(Se+o)));return r.x=e,r.y=t,r}var ZU=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const JU={init:KU,forward:XU,inverse:qU,names:ZU,ssfn_:YU};function QU(){var r=this.lat0;this.lambda0=this.long0;var e=Math.sin(r),t=this.a,i=this.rf,n=1/i,o=2*n-Math.pow(n,2),s=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(r),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+r/2)),u=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*l+this.alpha*s/2*u}function ez(r){var e=Math.log(Math.tan(Math.PI/4-r.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(r.y))/(1-this.e*Math.sin(r.y))),i=-this.alpha*(e+t)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(r.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(o));return r.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,r.x=this.R*s+this.x0,r}function tz(r){for(var e=r.x-this.x0,t=r.y-this.y0,i=e/this.R,n=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+s/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return r.x=a,r.y=u,r}var iz=["somerc"];const nz={init:QU,forward:ez,inverse:tz,names:iz};var eu=1e-7;function rz(r){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof r.PROJECTION=="object"?Object.keys(r.PROJECTION)[0]:r.PROJECTION;return"no_uoff"in r||"no_off"in r||e.indexOf(t)!==-1}function oz(){var r,e,t,i,n,o,s,a,l,u,c=0,h,d=0,p=0,f=0,m=0,g=0,y=0;this.no_off=rz(this),this.no_rot="no_rot"in this;var C=!1;"alpha"in this&&(C=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),C&&(y=this.alpha),w&&(c=this.rectified_grid_angle*Ji),C||w)d=this.longc;else if(p=this.long1,m=this.lat1,f=this.long2,g=this.lat2,Math.abs(m-g)<=eu||(r=Math.abs(m))<=eu||Math.abs(r-Se)<=eu||Math.abs(Math.abs(this.lat0)-Se)<=eu||Math.abs(Math.abs(g)-Se)<=eu)throw new Error;var S=1-this.es;e=Math.sqrt(S),Math.abs(this.lat0)>Oe?(a=Math.sin(this.lat0),t=Math.cos(this.lat0),r=1-this.es*a*a,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*e/r,i=this.B*e/(t*Math.sqrt(r)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(jr(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=n=1),C||w?(C?(h=Math.asin(Math.sin(y)/i),w||(c=y)):(h=c,y=Math.asin(i*Math.sin(h))),this.lam0=d-Math.asin(.5*(n-1/n)*Math.tan(h))/this.B):(o=Math.pow(jr(this.e,m,Math.sin(m)),this.B),s=Math.pow(jr(this.e,g,Math.sin(g)),this.B),n=this.E/o,l=(s-o)/(s+o),u=this.E*this.E,u=(u-s*o)/(u+s*o),r=p-f,r<-Math.pi?f-=Dh:r>Math.pi&&(f+=Dh),this.lam0=Fe(.5*(p+f)-Math.atan(u*Math.tan(.5*this.B*(p-f))/l)/this.B),h=Math.atan(2*Math.sin(this.B*Fe(p-this.lam0))/(n-1/n)),c=y=Math.asin(i*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(kt-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(kt+n))}function sz(r){var e={},t,i,n,o,s,a,l,u;if(r.x=r.x-this.lam0,Math.abs(Math.abs(r.y)-Se)>Oe){if(s=this.E/Math.pow(jr(this.e,r.y,Math.sin(r.y)),this.B),a=1/s,t=.5*(s-a),i=.5*(s+a),o=Math.sin(this.B*r.x),n=(t*this.singam-o*this.cosgam)/i,Math.abs(Math.abs(n)-1)<Oe)throw new Error;u=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*r.x),Math.abs(a)<eu?l=this.A*r.x:l=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,a)}else u=r.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*r.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function az(r){var e,t,i,n,o,s,a,l={};if(r.x=(r.x-this.x0)*(1/this.a),r.y=(r.y-this.y0)*(1/this.a),this.no_rot?(t=r.y,e=r.x):(t=r.x*this.cosrot-r.y*this.sinrot,e=r.y*this.cosrot+r.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*t),n=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.BrA*e),a=(s*this.cosgam+n*this.singam)/o,Math.abs(Math.abs(a)-1)<Oe)l.x=0,l.y=a<0?-Se:Se;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Lh(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(n*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var lz=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const uz={init:oz,forward:sz,inverse:az,names:lz};function cz(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Oe)){var r=this.b/this.a;this.e=Math.sqrt(1-r*r);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),i=Ro(this.e,e,t),n=jr(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Ro(this.e,o,s),l=jr(this.e,this.lat2,o),u=jr(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Oe?this.ns=Math.log(i/a)/Math.log(n/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function hz(r){var e=r.x,t=r.y;Math.abs(2*Math.abs(t)-Math.PI)<=Oe&&(t=id(t)*(Se-2*Oe));var i=Math.abs(Math.abs(t)-Se),n,o;if(i>Oe)n=jr(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(n,this.ns);else{if(i=t*this.ns,i<=0)return null;o=0}var s=this.ns*Fe(e-this.long0);return r.x=this.k0*(o*Math.sin(s))+this.x0,r.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,r}function dz(r){var e,t,i,n,o,s=(r.x-this.x0)/this.k0,a=this.rh-(r.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),t=1):(e=-Math.sqrt(s*s+a*a),t=-1);var l=0;if(e!==0&&(l=Math.atan2(t*s,t*a)),e!==0||this.ns>0){if(t=1/this.ns,i=Math.pow(e/(this.a*this.f0),t),n=Lh(this.e,i),n===-9999)return null}else n=-Se;return o=Fe(l/this.ns+this.long0),r.x=o,r.y=n,r}var pz=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const fz={init:cz,forward:hz,inverse:dz,names:pz};function gz(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function mz(r){var e,t,i,n,o,s,a,l=r.x,u=r.y,c=Fe(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(i)),o=Math.asin(Math.cos(t)*Math.sin(i)/Math.cos(n)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),r.y=a*Math.cos(s)/1,r.x=a*Math.sin(s)/1,this.czech||(r.y*=-1,r.x*=-1),r}function vz(r){var e,t,i,n,o,s,a,l,u=r.x;r.x=r.y,r.y=u,this.czech||(r.y*=-1,r.x*=-1),s=Math.sqrt(r.x*r.x+r.y*r.y),o=Math.atan2(r.y,r.x),n=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),t=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(e)),r.x=this.long0-t/this.alfa,a=e,l=0;var c=0;do r.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-r.y)<1e-10&&(l=1),a=r.y,c+=1;while(l===0&&c<15);return c>=15?null:r}var yz=["Krovak","krovak"];const _z={init:gz,forward:mz,inverse:vz,names:yz};function Rn(r,e,t,i,n){return r*n-e*Math.sin(2*n)+t*Math.sin(4*n)-i*Math.sin(6*n)}function nd(r){return 1-.25*r*(1+r/16*(3+1.25*r))}function rd(r){return .375*r*(1+.25*r*(1+.46875*r))}function od(r){return .05859375*r*r*(1+.75*r)}function sd(r){return r*r*r*(35/3072)}function Iu(r,e,t){var i=e*t;return r/Math.sqrt(1-i*i)}function tc(r){return Math.abs(r)<Se?r:r-id(r)*Math.PI}function Tf(r,e,t,i,n){var o,s;o=r/e;for(var a=0;a<15;a++)if(s=(r-(e*o-t*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)))/(e-2*t*Math.cos(2*o)+4*i*Math.cos(4*o)-6*n*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function Cz(){this.sphere||(this.e0=nd(this.es),this.e1=rd(this.es),this.e2=od(this.es),this.e3=sd(this.es),this.ml0=this.a*Rn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function wz(r){var e,t,i=r.x,n=r.y;if(i=Fe(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(i)),t=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var o=Math.sin(n),s=Math.cos(n),a=Iu(this.a,this.e,o),l=Math.tan(n)*Math.tan(n),u=i*Math.cos(n),c=u*u,h=this.es*s*s/(1-this.es),d=this.a*Rn(this.e0,this.e1,this.e2,this.e3,n);e=a*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),t=d-this.ml0+a*o/s*c*(.5+(5-l+6*h)*c/24)}return r.x=e+this.x0,r.y=t+this.y0,r}function Sz(r){r.x-=this.x0,r.y-=this.y0;var e=r.x/this.a,t=r.y/this.a,i,n;if(this.sphere){var o=t+this.lat0;i=Math.asin(Math.sin(o)*Math.cos(e)),n=Math.atan2(Math.tan(e),Math.cos(o))}else{var s=this.ml0/this.a+t,a=Tf(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-Se)<=Oe)return r.x=this.long0,r.y=Se,t<0&&(r.y*=-1),r;var l=Iu(this.a,this.e,Math.sin(a)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(a),2),h=e*this.a/l,d=h*h;i=a-l*Math.tan(a)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-d*(c/3+(1+3*c)*c*d/15))/Math.cos(a)}return r.x=Fe(n+this.long0),r.y=tc(i),r}var Ez=["Cassini","Cassini_Soldner","cass"];const xz={init:Cz,forward:wz,inverse:Sz,names:Ez};function Ys(r,e){var t;return r>1e-7?(t=r*e,(1-r*r)*(e/(1-t*t)-.5/r*Math.log((1-t)/(1+t)))):2*e}var Rz=1,bz=2,Mz=3,Tz=4;function Pz(){var r=Math.abs(this.lat0);if(Math.abs(r-Se)<Oe?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(r)<Oe?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Ys(this.e,1),this.mmf=.5/(1-this.es),this.apa=Hz(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ys(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Oz(r){var e,t,i,n,o,s,a,l,u,c,h=r.x,d=r.y;if(h=Fe(h-this.long0),this.sphere){if(o=Math.sin(d),c=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+c*i:1+this.sinph0*o+this.cosph0*c*i,t<=Oe)return null;t=Math.sqrt(2/t),e=t*c*Math.sin(h),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<Oe)return null;t=kt-d*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(h),t*=i}}else{switch(a=0,l=0,u=0,i=Math.cos(h),n=Math.sin(h),o=Math.sin(d),s=Ys(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:u=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=Se+d,s=this.qp-s;break;case this.S_POLE:u=d-Se,s=this.qp+s;break}if(Math.abs(u)<Oe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?t=this.ymf*u*(this.cosb1*a-this.sinb1*l*i):t=(u=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*u*l*n;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(u=Math.sqrt(s))*n,t=i*(this.mode===this.S_POLE?u:-u)):e=t=0;break}}return r.x=this.a*e+this.x0,r.y=this.a*t+this.y0,r}function Az(r){r.x-=this.x0,r.y-=this.y0;var e=r.x/this.a,t=r.y/this.a,i,n,o,s,a,l,u;if(this.sphere){var c=0,h,d=0;if(h=Math.sqrt(e*e+t*t),n=h*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=Math.sin(n),c=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(h)<=Oe?0:Math.asin(t*d/h),e*=d,t=c*h;break;case this.OBLIQ:n=Math.abs(h)<=Oe?this.lat0:Math.asin(c*this.sinph0+t*d*this.cosph0/h),e*=d*this.cosph0,t=(c-Math.sin(n)*this.sinph0)*h;break;case this.N_POLE:t=-t,n=Se-n;break;case this.S_POLE:n-=Se;break}i=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,l=Math.sqrt(e*e+t*t),l<Oe)return r.x=this.long0,r.y=this.lat0,r;s=2*Math.asin(.5*l/this.rq),o=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(u=o*this.sinb1+t*s*this.cosb1/l,a=this.qp*u,t=l*this.cosb1*o-t*this.sinb1*s):(u=t*s/l,a=this.qp*u,t=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),a=e*e+t*t,!a)return r.x=this.long0,r.y=this.lat0,r;u=1-a/this.qp,this.mode===this.S_POLE&&(u=-u)}i=Math.atan2(e,t),n=Wz(Math.asin(u),this.apa)}return r.x=Fe(this.long0+i),r.y=n,r}var Dz=.3333333333333333,Iz=.17222222222222222,Lz=.10257936507936508,Fz=.06388888888888888,Nz=.0664021164021164,Gz=.016415012942191543;function Hz(r){var e,t=[];return t[0]=r*Dz,e=r*r,t[0]+=e*Iz,t[1]=e*Fz,e*=r,t[0]+=e*Lz,t[1]+=e*Nz,t[2]=e*Gz,t}function Wz(r,e){var t=r+r;return r+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var Vz=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const kz={init:Pz,forward:Oz,inverse:Az,names:Vz,S_POLE:Rz,N_POLE:bz,EQUIT:Mz,OBLIQ:Tz};function ra(r){return Math.abs(r)>1&&(r=r>1?1:-1),Math.asin(r)}function Bz(){Math.abs(this.lat1+this.lat2)<Oe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ro(this.e3,this.sin_po,this.cos_po),this.qs1=Ys(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ro(this.e3,this.sin_po,this.cos_po),this.qs2=Ys(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ys(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Oe?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Uz(r){var e=r.x,t=r.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var i=Ys(this.e3,this.sin_phi,this.cos_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*Fe(e-this.long0),s=n*Math.sin(o)+this.x0,a=this.rh-n*Math.cos(o)+this.y0;return r.x=s,r.y=a,r}function zz(r){var e,t,i,n,o,s;return r.x-=this.x0,r.y=this.rh-r.y+this.y0,this.ns0>=0?(e=Math.sqrt(r.x*r.x+r.y*r.y),i=1):(e=-Math.sqrt(r.x*r.x+r.y*r.y),i=-1),n=0,e!==0&&(n=Math.atan2(i*r.x,i*r.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(t=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,t)),o=Fe(n/this.ns0+this.long0),r.x=o,r.y=s,r}function jz(r,e){var t,i,n,o,s,a=ra(.5*e);if(r<Oe)return a;for(var l=r*r,u=1;u<=25;u++)if(t=Math.sin(a),i=Math.cos(a),n=r*t,o=1-n*n,s=.5*o*o/i*(e/(1-l)-t/o+.5/r*Math.log((1-n)/(1+n))),a=a+s,Math.abs(s)<=1e-7)return a;return null}var $z=["Albers_Conic_Equal_Area","Albers","aea"];const Yz={init:Bz,forward:Uz,inverse:zz,names:$z,phi1z:jz};function Kz(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Xz(r){var e,t,i,n,o,s,a,l,u=r.x,c=r.y;return i=Fe(u-this.long0),e=Math.sin(c),t=Math.cos(c),n=Math.cos(i),s=this.sin_p14*e+this.cos_p14*t*n,o=1,s>0||Math.abs(s)<=Oe?(a=this.x0+this.a*o*t*Math.sin(i)/s,l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*n)/s):(a=this.x0+this.infinity_dist*t*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*n)),r.x=a,r.y=l,r}function qz(r){var e,t,i,n,o,s;return r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,r.x/=this.k0,r.y/=this.k0,(e=Math.sqrt(r.x*r.x+r.y*r.y))?(n=Math.atan2(e,this.rc),t=Math.sin(n),i=Math.cos(n),s=ra(i*this.sin_p14+r.y*t*this.cos_p14/e),o=Math.atan2(r.x*t,e*this.cos_p14*i-r.y*this.sin_p14*t),o=Fe(this.long0+o)):(s=this.phic0,o=0),r.x=o,r.y=s,r}var Zz=["gnom"];const Jz={init:Kz,forward:Xz,inverse:qz,names:Zz};function Qz(r,e){var t=1-(1-r*r)/(2*r)*Math.log((1-r)/(1+r));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*Se:Se;for(var i=Math.asin(.5*e),n,o,s,a,l=0;l<30;l++)if(o=Math.sin(i),s=Math.cos(i),a=r*o,n=Math.pow(1-a*a,2)/(2*s)*(e/(1-r*r)-o/(1-a*a)+.5/r*Math.log((1-a)/(1+a))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function e5(){this.sphere||(this.k0=Ro(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function t5(r){var e=r.x,t=r.y,i,n,o=Fe(e-this.long0);if(this.sphere)i=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var s=Ys(this.e,Math.sin(t));i=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return r.x=i,r.y=n,r}function i5(r){r.x-=this.x0,r.y-=this.y0;var e,t;return this.sphere?(e=Fe(this.long0+r.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(r.y/this.a*Math.cos(this.lat_ts))):(t=Qz(this.e,2*r.y*this.k0/this.a),e=Fe(this.long0+r.x/(this.a*this.k0))),r.x=e,r.y=t,r}var n5=["cea"];const r5={init:e5,forward:t5,inverse:i5,names:n5};function o5(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function s5(r){var e=r.x,t=r.y,i=Fe(e-this.long0),n=tc(t-this.lat0);return r.x=this.x0+this.a*i*this.rc,r.y=this.y0+this.a*n,r}function a5(r){var e=r.x,t=r.y;return r.x=Fe(this.long0+(e-this.x0)/(this.a*this.rc)),r.y=tc(this.lat0+(t-this.y0)/this.a),r}var l5=["Equirectangular","Equidistant_Cylindrical","eqc"];const u5={init:o5,forward:s5,inverse:a5,names:l5};var ox=20;function c5(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=nd(this.es),this.e1=rd(this.es),this.e2=od(this.es),this.e3=sd(this.es),this.ml0=this.a*Rn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function h5(r){var e=r.x,t=r.y,i,n,o,s=Fe(e-this.long0);if(o=s*Math.sin(t),this.sphere)Math.abs(t)<=Oe?(i=this.a*s,n=-1*this.a*this.lat0):(i=this.a*Math.sin(o)/Math.tan(t),n=this.a*(tc(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=Oe)i=this.a*s,n=-1*this.ml0;else{var a=Iu(this.a,this.e,Math.sin(t))/Math.tan(t);i=a*Math.sin(o),n=this.a*Rn(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+a*(1-Math.cos(o))}return r.x=i+this.x0,r.y=n+this.y0,r}function d5(r){var e,t,i,n,o,s,a,l,u;if(i=r.x-this.x0,n=r.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=Oe)e=Fe(i/this.a+this.long0),t=0;else{s=this.lat0+n/this.a,a=i*i/this.a/this.a+s*s,l=s;var c;for(o=ox;o;--o)if(c=Math.tan(l),u=-1*(s*(l*c+1)-l-.5*(l*l+a)*c)/((l-s)/c-1),l+=u,Math.abs(u)<=Oe){t=l;break}e=Fe(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(t))}else if(Math.abs(n+this.ml0)<=Oe)t=0,e=Fe(this.long0+i/this.a);else{s=(this.ml0+n)/this.a,a=i*i/this.a/this.a+s*s,l=s;var h,d,p,f,m;for(o=ox;o;--o)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*Rn(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),f=d/this.a,u=(s*(h*f+1)-f-.5*h*(f*f+a))/(this.es*Math.sin(2*l)*(f*f+a-2*s*f)/(4*h)+(s-f)*(h*p-2/Math.sin(2*l))-p),l-=u,Math.abs(u)<=Oe){t=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=Fe(this.long0+Math.asin(i*h/this.a)/Math.sin(t))}return r.x=e,r.y=t,r}var p5=["Polyconic","poly"];const f5={init:c5,forward:h5,inverse:d5,names:p5};function g5(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function m5(r){var e,t=r.x,i=r.y,n=i-this.lat0,o=t-this.long0,s=n/ah*1e-5,a=o,l=1,u=0;for(e=1;e<=10;e++)l=l*s,u=u+this.A[e]*l;var c=u,h=a,d=1,p=0,f,m,g=0,y=0;for(e=1;e<=6;e++)f=d*c-p*h,m=p*c+d*h,d=f,p=m,g=g+this.B_re[e]*d-this.B_im[e]*p,y=y+this.B_im[e]*d+this.B_re[e]*p;return r.x=y*this.a+this.x0,r.y=g*this.a+this.y0,r}function v5(r){var e,t=r.x,i=r.y,n=t-this.x0,o=i-this.y0,s=o/this.a,a=n/this.a,l=1,u=0,c,h,d=0,p=0;for(e=1;e<=6;e++)c=l*s-u*a,h=u*s+l*a,l=c,u=h,d=d+this.C_re[e]*l-this.C_im[e]*u,p=p+this.C_im[e]*l+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var m=d,g=p,y,C,w=s,S=a;for(e=2;e<=6;e++)y=m*d-g*p,C=g*d+m*p,m=y,g=C,w=w+(e-1)*(this.B_re[e]*m-this.B_im[e]*g),S=S+(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var b=this.B_re[1],T=this.B_im[1];for(e=2;e<=6;e++)y=m*d-g*p,C=g*d+m*p,m=y,g=C,b=b+e*(this.B_re[e]*m-this.B_im[e]*g),T=T+e*(this.B_im[e]*m+this.B_re[e]*g);var F=b*b+T*T;d=(w*b+S*T)/F,p=(S*b-w*T)/F}var R=d,P=p,G=1,q=0;for(e=1;e<=9;e++)G=G*R,q=q+this.D[e]*G;var te=this.lat0+q*ah*1e5,j=this.long0+P;return r.x=j,r.y=te,r}var y5=["New_Zealand_Map_Grid","nzmg"];const _5={init:g5,forward:m5,inverse:v5,names:y5};function C5(){}function w5(r){var e=r.x,t=r.y,i=Fe(e-this.long0),n=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return r.x=n,r.y=o,r}function S5(r){r.x-=this.x0,r.y-=this.y0;var e=Fe(this.long0+r.x/this.a),t=2.5*(Math.atan(Math.exp(.8*r.y/this.a))-Math.PI/4);return r.x=e,r.y=t,r}var E5=["Miller_Cylindrical","mill"];const x5={init:C5,forward:w5,inverse:S5,names:E5};var R5=20;function b5(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=iT(this.es)}function M5(r){var e,t,i=r.x,n=r.y;if(i=Fe(i-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var o=this.n*Math.sin(n),s=R5;s;--s){var a=(this.m*n+Math.sin(n)-o)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<Oe)break}e=this.a*this.C_x*i*(this.m+Math.cos(n)),t=this.a*this.C_y*n}else{var l=Math.sin(n),u=Math.cos(n);t=this.a*Fg(n,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return r.x=e,r.y=t,r}function T5(r){var e,t,i,n;return r.x-=this.x0,i=r.x/this.a,r.y-=this.y0,e=r.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=ra((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=ra(Math.sin(e)/this.n)),i=Fe(i+this.long0),e=tc(e)):(e=nT(r.y/this.a,this.es,this.en),n=Math.abs(e),n<Se?(n=Math.sin(e),t=this.long0+r.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)),i=Fe(t)):n-Oe<Se&&(i=this.long0)),r.x=i,r.y=e,r}var P5=["Sinusoidal","sinu"];const O5={init:b5,forward:M5,inverse:T5,names:P5};function A5(){}function D5(r){for(var e=r.x,t=r.y,i=Fe(e-this.long0),n=t,o=Math.PI*Math.sin(t);;){var s=-(n+Math.sin(n)-o)/(1+Math.cos(n));if(n+=s,Math.abs(s)<Oe)break}n/=2,Math.PI/2-Math.abs(t)<Oe&&(i=0);var a=.900316316158*this.a*i*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return r.x=a,r.y=l,r}function I5(r){var e,t;r.x-=this.x0,r.y-=this.y0,t=r.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var i=Fe(this.long0+r.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var n=Math.asin(t);return r.x=i,r.y=n,r}var L5=["Mollweide","moll"];const F5={init:A5,forward:D5,inverse:I5,names:L5};function N5(){Math.abs(this.lat1+this.lat2)<Oe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=nd(this.es),this.e1=rd(this.es),this.e2=od(this.es),this.e3=sd(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ro(this.e,this.sinphi,this.cosphi),this.ml1=Rn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Oe?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ro(this.e,this.sinphi,this.cosphi),this.ml2=Rn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Rn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function G5(r){var e=r.x,t=r.y,i;if(this.sphere)i=this.a*(this.g-t);else{var n=Rn(this.e0,this.e1,this.e2,this.e3,t);i=this.a*(this.g-n)}var o=this.ns*Fe(e-this.long0),s=this.x0+i*Math.sin(o),a=this.y0+this.rh-i*Math.cos(o);return r.x=s,r.y=a,r}function H5(r){r.x-=this.x0,r.y=this.rh-r.y+this.y0;var e,t,i,n;this.ns>=0?(t=Math.sqrt(r.x*r.x+r.y*r.y),e=1):(t=-Math.sqrt(r.x*r.x+r.y*r.y),e=-1);var o=0;if(t!==0&&(o=Math.atan2(e*r.x,e*r.y)),this.sphere)return n=Fe(this.long0+o/this.ns),i=tc(this.g-t/this.a),r.x=n,r.y=i,r;var s=this.g-t/this.a;return i=Tf(s,this.e0,this.e1,this.e2,this.e3),n=Fe(this.long0+o/this.ns),r.x=n,r.y=i,r}var W5=["Equidistant_Conic","eqdc"];const V5={init:N5,forward:G5,inverse:H5,names:W5};function k5(){this.R=this.a}function B5(r){var e=r.x,t=r.y,i=Fe(e-this.long0),n,o;Math.abs(t)<=Oe&&(n=this.x0+this.R*i,o=this.y0);var s=ra(2*Math.abs(t/Math.PI));(Math.abs(i)<=Oe||Math.abs(Math.abs(t)-Se)<=Oe)&&(n=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*s):o=this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,u=Math.sin(s),c=Math.cos(s),h=c/(u+c-1),d=h*h,p=h*(2/u-1),f=p*p,m=Math.PI*this.R*(a*(h-f)+Math.sqrt(l*(h-f)*(h-f)-(f+l)*(d-f)))/(f+l);i<0&&(m=-m),n=this.x0+m;var g=l+h;return m=Math.PI*this.R*(p*g-a*Math.sqrt((f+l)*(l+1)-g*g))/(f+l),t>=0?o=this.y0+m:o=this.y0-m,r.x=n,r.y=o,r}function U5(r){var e,t,i,n,o,s,a,l,u,c,h,d,p;return r.x-=this.x0,r.y-=this.y0,h=Math.PI*this.R,i=r.x/h,n=r.y/h,o=i*i+n*n,s=-Math.abs(n)*(1+o),a=s-2*n*n+i*i,l=-2*s+1+2*n*n+o*o,p=n*n/l+(2*a*a*a/l/l/l-9*s*a/l/l)/27,u=(s-a*a/3/l)/l,c=2*Math.sqrt(-u/3),h=3*p/u/c,Math.abs(h)>1&&(h>=0?h=1:h=-1),d=Math.acos(h)/3,r.y>=0?t=(-c*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:t=-(-c*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<Oe?e=this.long0:e=Fe(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-n*n)+o*o))/2/i),r.x=e,r.y=t,r}var z5=["Van_der_Grinten_I","VanDerGrinten","vandg"];const j5={init:k5,forward:B5,inverse:U5,names:z5};function $5(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Y5(r){var e=r.x,t=r.y,i=Math.sin(r.y),n=Math.cos(r.y),o=Fe(e-this.long0),s,a,l,u,c,h,d,p,f,m,g,y,C,w,S,b,T,F,R,P,G,q,te;return this.sphere?Math.abs(this.sin_p12-1)<=Oe?(r.x=this.x0+this.a*(Se-t)*Math.sin(o),r.y=this.y0-this.a*(Se-t)*Math.cos(o),r):Math.abs(this.sin_p12+1)<=Oe?(r.x=this.x0+this.a*(Se+t)*Math.sin(o),r.y=this.y0+this.a*(Se+t)*Math.cos(o),r):(F=this.sin_p12*i+this.cos_p12*n*Math.cos(o),b=Math.acos(F),T=b?b/Math.sin(b):1,r.x=this.x0+this.a*T*n*Math.sin(o),r.y=this.y0+this.a*T*(this.cos_p12*i-this.sin_p12*n*Math.cos(o)),r):(s=nd(this.es),a=rd(this.es),l=od(this.es),u=sd(this.es),Math.abs(this.sin_p12-1)<=Oe?(c=this.a*Rn(s,a,l,u,Se),h=this.a*Rn(s,a,l,u,t),r.x=this.x0+(c-h)*Math.sin(o),r.y=this.y0-(c-h)*Math.cos(o),r):Math.abs(this.sin_p12+1)<=Oe?(c=this.a*Rn(s,a,l,u,Se),h=this.a*Rn(s,a,l,u,t),r.x=this.x0+(c+h)*Math.sin(o),r.y=this.y0+(c+h)*Math.cos(o),r):(d=i/n,p=Iu(this.a,this.e,this.sin_p12),f=Iu(this.a,this.e,i),m=Math.atan((1-this.es)*d+this.es*p*this.sin_p12/(f*n)),g=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(o)),g===0?R=Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(g)-Math.PI)<=Oe?R=-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):R=Math.asin(Math.sin(o)*Math.cos(m)/Math.sin(g)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),C=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),w=y*C,S=C*C,P=R*R,G=P*R,q=G*R,te=q*R,b=p*R*(1-P*S*(1-S)/6+G/8*w*(1-2*S)+q/120*(S*(4-7*S)-3*y*y*(1-7*S))-te/48*w),r.x=this.x0+b*Math.sin(g),r.y=this.y0+b*Math.cos(g),r))}function K5(r){r.x-=this.x0,r.y-=this.y0;var e,t,i,n,o,s,a,l,u,c,h,d,p,f,m,g,y,C,w,S,b,T,F,R;return this.sphere?(e=Math.sqrt(r.x*r.x+r.y*r.y),e>2*Se*this.a?void 0:(t=e/this.a,i=Math.sin(t),n=Math.cos(t),o=this.long0,Math.abs(e)<=Oe?s=this.lat0:(s=ra(n*this.sin_p12+r.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-Se,Math.abs(a)<=Oe?this.lat0>=0?o=Fe(this.long0+Math.atan2(r.x,-r.y)):o=Fe(this.long0-Math.atan2(-r.x,r.y)):o=Fe(this.long0+Math.atan2(r.x*i,e*this.cos_p12*n-r.y*this.sin_p12*i))),r.x=o,r.y=s,r)):(l=nd(this.es),u=rd(this.es),c=od(this.es),h=sd(this.es),Math.abs(this.sin_p12-1)<=Oe?(d=this.a*Rn(l,u,c,h,Se),e=Math.sqrt(r.x*r.x+r.y*r.y),p=d-e,s=Tf(p/this.a,l,u,c,h),o=Fe(this.long0+Math.atan2(r.x,-1*r.y)),r.x=o,r.y=s,r):Math.abs(this.sin_p12+1)<=Oe?(d=this.a*Rn(l,u,c,h,Se),e=Math.sqrt(r.x*r.x+r.y*r.y),p=e-d,s=Tf(p/this.a,l,u,c,h),o=Fe(this.long0+Math.atan2(r.x,r.y)),r.x=o,r.y=s,r):(e=Math.sqrt(r.x*r.x+r.y*r.y),g=Math.atan2(r.x,r.y),f=Iu(this.a,this.e,this.sin_p12),y=Math.cos(g),C=this.e*this.cos_p12*y,w=-C*C/(1-this.es),S=3*this.es*(1-w)*this.sin_p12*this.cos_p12*y/(1-this.es),b=e/f,T=b-w*(1+w)*Math.pow(b,3)/6-S*(1+3*w)*Math.pow(b,4)/24,F=1-w*T*T/2-b*T*T*T/6,m=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*y),o=Fe(this.long0+Math.asin(Math.sin(g)*Math.sin(T)/Math.cos(m))),R=Math.sin(m),s=Math.atan2((R-this.es*F*this.sin_p12)*Math.tan(m),R*(1-this.es)),r.x=o,r.y=s,r))}var X5=["Azimuthal_Equidistant","aeqd"];const q5={init:$5,forward:Y5,inverse:K5,names:X5};function Z5(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function J5(r){var e,t,i,n,o,s,a,l,u=r.x,c=r.y;return i=Fe(u-this.long0),e=Math.sin(c),t=Math.cos(c),n=Math.cos(i),s=this.sin_p14*e+this.cos_p14*t*n,o=1,(s>0||Math.abs(s)<=Oe)&&(a=this.a*o*t*Math.sin(i),l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*n)),r.x=a,r.y=l,r}function Q5(r){var e,t,i,n,o,s,a;return r.x-=this.x0,r.y-=this.y0,e=Math.sqrt(r.x*r.x+r.y*r.y),t=ra(e/this.a),i=Math.sin(t),n=Math.cos(t),s=this.long0,Math.abs(e)<=Oe?(a=this.lat0,r.x=s,r.y=a,r):(a=ra(n*this.sin_p14+r.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-Se,Math.abs(o)<=Oe?(this.lat0>=0?s=Fe(this.long0+Math.atan2(r.x,-r.y)):s=Fe(this.long0-Math.atan2(-r.x,r.y)),r.x=s,r.y=a,r):(s=Fe(this.long0+Math.atan2(r.x*i,e*this.cos_p14*n-r.y*this.sin_p14*i)),r.x=s,r.y=a,r))}var e4=["ortho"];const t4={init:Z5,forward:J5,inverse:Q5,names:e4};var fi={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Bt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function i4(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Se-kt/2?this.face=fi.TOP:this.lat0<=-(Se-kt/2)?this.face=fi.BOTTOM:Math.abs(this.long0)<=kt?this.face=fi.FRONT:Math.abs(this.long0)<=Se+kt?this.face=this.long0>0?fi.RIGHT:fi.LEFT:this.face=fi.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function n4(r){var e={x:0,y:0},t,i,n,o,s,a,l={value:0};if(r.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(r.y)):t=r.y,i=r.x,this.face===fi.TOP)o=Se-t,i>=kt&&i<=Se+kt?(l.value=Bt.AREA_0,n=i-Se):i>Se+kt||i<=-(Se+kt)?(l.value=Bt.AREA_1,n=i>0?i-Ri:i+Ri):i>-(Se+kt)&&i<=-kt?(l.value=Bt.AREA_2,n=i+Se):(l.value=Bt.AREA_3,n=i);else if(this.face===fi.BOTTOM)o=Se+t,i>=kt&&i<=Se+kt?(l.value=Bt.AREA_0,n=-i+Se):i<kt&&i>=-kt?(l.value=Bt.AREA_1,n=-i):i<-kt&&i>=-(Se+kt)?(l.value=Bt.AREA_2,n=-i-Se):(l.value=Bt.AREA_3,n=i>0?-i+Ri:-i-Ri);else{var u,c,h,d,p,f,m;this.face===fi.RIGHT?i=Cu(i,+Se):this.face===fi.BACK?i=Cu(i,+Ri):this.face===fi.LEFT&&(i=Cu(i,-Se)),d=Math.sin(t),p=Math.cos(t),f=Math.sin(i),m=Math.cos(i),u=p*m,c=p*f,h=d,this.face===fi.FRONT?(o=Math.acos(u),n=cp(o,h,c,l)):this.face===fi.RIGHT?(o=Math.acos(c),n=cp(o,h,-u,l)):this.face===fi.BACK?(o=Math.acos(-u),n=cp(o,h,-c,l)):this.face===fi.LEFT?(o=Math.acos(-c),n=cp(o,h,u,l)):(o=n=0,l.value=Bt.AREA_0)}return a=Math.atan(12/Ri*(n+Math.acos(Math.sin(n)*Math.cos(kt))-Se)),s=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===Bt.AREA_1?a+=Se:l.value===Bt.AREA_2?a+=Ri:l.value===Bt.AREA_3&&(a+=1.5*Ri),e.x=s*Math.cos(a),e.y=s*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,r.x=e.x,r.y=e.y,r}function r4(r){var e={lam:0,phi:0},t,i,n,o,s,a,l,u,c,h={value:0};if(r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,i=Math.atan(Math.sqrt(r.x*r.x+r.y*r.y)),t=Math.atan2(r.y,r.x),r.x>=0&&r.x>=Math.abs(r.y)?h.value=Bt.AREA_0:r.y>=0&&r.y>=Math.abs(r.x)?(h.value=Bt.AREA_1,t-=Se):r.x<0&&-r.x>=Math.abs(r.y)?(h.value=Bt.AREA_2,t=t<0?t+Ri:t-Ri):(h.value=Bt.AREA_3,t+=Se),c=Ri/12*Math.tan(t),s=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),a=Math.atan(s),n=Math.cos(t),o=Math.tan(i),l=1-n*n*o*o*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===fi.TOP)u=Math.acos(l),e.phi=Se-u,h.value===Bt.AREA_0?e.lam=a+Se:h.value===Bt.AREA_1?e.lam=a<0?a+Ri:a-Ri:h.value===Bt.AREA_2?e.lam=a-Se:e.lam=a;else if(this.face===fi.BOTTOM)u=Math.acos(l),e.phi=u-Se,h.value===Bt.AREA_0?e.lam=-a+Se:h.value===Bt.AREA_1?e.lam=-a:h.value===Bt.AREA_2?e.lam=-a-Se:e.lam=a<0?-a-Ri:-a+Ri;else{var d,p,f;d=l,c=d*d,c>=1?f=0:f=Math.sqrt(1-c)*Math.sin(a),c+=f*f,c>=1?p=0:p=Math.sqrt(1-c),h.value===Bt.AREA_1?(c=p,p=-f,f=c):h.value===Bt.AREA_2?(p=-p,f=-f):h.value===Bt.AREA_3&&(c=p,p=f,f=-c),this.face===fi.RIGHT?(c=d,d=-p,p=c):this.face===fi.BACK?(d=-d,p=-p):this.face===fi.LEFT&&(c=d,d=p,p=-c),e.phi=Math.acos(-f)-Se,e.lam=Math.atan2(p,d),this.face===fi.RIGHT?e.lam=Cu(e.lam,-Se):this.face===fi.BACK?e.lam=Cu(e.lam,-Ri):this.face===fi.LEFT&&(e.lam=Cu(e.lam,+Se))}if(this.es!==0){var m,g,y;m=e.phi<0?1:0,g=Math.tan(e.phi),y=this.b/Math.sqrt(g*g+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),m&&(e.phi=-e.phi)}return e.lam+=this.long0,r.x=e.lam,r.y=e.phi,r}function cp(r,e,t,i){var n;return r<Oe?(i.value=Bt.AREA_0,n=0):(n=Math.atan2(e,t),Math.abs(n)<=kt?i.value=Bt.AREA_0:n>kt&&n<=Se+kt?(i.value=Bt.AREA_1,n-=Se):n>Se+kt||n<=-(Se+kt)?(i.value=Bt.AREA_2,n=n>=0?n-Ri:n+Ri):(i.value=Bt.AREA_3,n+=Se)),n}function Cu(r,e){var t=r+e;return t<-Ri?t+=Dh:t>+Ri&&(t-=Dh),t}var o4=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const s4={init:i4,forward:n4,inverse:r4,names:o4};var Ky=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],qc=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],sT=.8487,aT=1.3523,lT=mo/5,a4=1/lT,lu=18,Pf=function(r,e){return r[0]+e*(r[1]+e*(r[2]+e*r[3]))},l4=function(r,e){return r[1]+e*(2*r[2]+e*3*r[3])};function u4(r,e,t,i){for(var n=e;i;--i){var o=r(n);if(n-=o,Math.abs(o)<t)break}return n}function c4(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function h4(r){var e=Fe(r.x-this.long0),t=Math.abs(r.y),i=Math.floor(t*lT);i<0?i=0:i>=lu&&(i=lu-1),t=mo*(t-a4*i);var n={x:Pf(Ky[i],t)*e,y:Pf(qc[i],t)};return r.y<0&&(n.y=-n.y),n.x=n.x*this.a*sT+this.x0,n.y=n.y*this.a*aT+this.y0,n}function d4(r){var e={x:(r.x-this.x0)/(this.a*sT),y:Math.abs(r.y-this.y0)/(this.a*aT)};if(e.y>=1)e.x/=Ky[lu][0],e.y=r.y<0?-Se:Se;else{var t=Math.floor(e.y*lu);for(t<0?t=0:t>=lu&&(t=lu-1);;)if(qc[t][0]>e.y)--t;else if(qc[t+1][0]<=e.y)++t;else break;var i=qc[t],n=5*(e.y-i[0])/(qc[t+1][0]-i[0]);n=u4(function(o){return(Pf(i,o)-e.y)/l4(i,o)},n,Oe,100),e.x/=Pf(Ky[t],n),e.y=(5*t+n)*Ji,r.y<0&&(e.y=-e.y)}return e.x=Fe(e.x+this.long0),e}var p4=["Robinson","robin"];const f4={init:c4,forward:h4,inverse:d4,names:p4};function g4(){this.name="geocent"}function m4(r){var e=YM(r,this.es,this.a);return e}function v4(r){var e=KM(r,this.es,this.a,this.b);return e}var y4=["Geocentric","geocentric","geocent","Geocent"];const _4={init:g4,forward:m4,inverse:v4,names:y4};var cn={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},_c={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function C4(){if(Object.keys(_c).forEach(function(t){if(typeof this[t]>"u")this[t]=_c[t].def;else{if(_c[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);_c[t].num&&(this[t]=parseFloat(this[t]))}_c[t].degrees&&(this[t]=this[t]*Ji)}.bind(this)),Math.abs(Math.abs(this.lat0)-Se)<Oe?this.mode=this.lat0<0?cn.S_POLE:cn.N_POLE:Math.abs(this.lat0)<Oe?this.mode=cn.EQUIT:(this.mode=cn.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var r=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(r),this.sw=Math.sin(r)}function w4(r){r.x-=this.long0;var e=Math.sin(r.y),t=Math.cos(r.y),i=Math.cos(r.x),n,o;switch(this.mode){case cn.OBLIQ:o=this.sinph0*e+this.cosph0*t*i;break;case cn.EQUIT:o=t*i;break;case cn.S_POLE:o=-e;break;case cn.N_POLE:o=e;break}switch(o=this.pn1/(this.p-o),n=o*t*Math.sin(r.x),this.mode){case cn.OBLIQ:o*=this.cosph0*e-this.sinph0*t*i;break;case cn.EQUIT:o*=e;break;case cn.N_POLE:o*=-(t*i);break;case cn.S_POLE:o*=t*i;break}var s,a;return s=o*this.cg+n*this.sg,a=1/(s*this.sw*this.h1+this.cw),n=(n*this.cg-o*this.sg)*this.cw*a,o=s*a,r.x=n*this.a,r.y=o*this.a,r}function S4(r){r.x/=this.a,r.y/=this.a;var e={x:r.x,y:r.y},t,i,n;n=1/(this.pn1-r.y*this.sw),t=this.pn1*r.x*n,i=this.pn1*r.y*this.cw*n,r.x=t*this.cg+i*this.sg,r.y=i*this.cg-t*this.sg;var o=Wr(r.x,r.y);if(Math.abs(o)<Oe)e.x=0,e.y=r.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case cn.OBLIQ:e.y=Math.asin(s*this.sinph0+r.y*a*this.cosph0/o),r.y=(s-this.sinph0*Math.sin(e.y))*o,r.x*=a*this.cosph0;break;case cn.EQUIT:e.y=Math.asin(r.y*a/o),r.y=s*o,r.x*=a;break;case cn.N_POLE:e.y=Math.asin(s),r.y=-r.y;break;case cn.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(r.x,r.y)}return r.x=e.x+this.long0,r.y=e.y,r}var E4=["Tilted_Perspective","tpers"];const x4={init:C4,forward:w4,inverse:S4,names:E4};function R4(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var r=1-this.es,e=1/r;this.radius_p=Math.sqrt(r),this.radius_p2=r,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function b4(r){var e=r.x,t=r.y,i,n,o,s;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var a=this.radius_p/Wr(this.radius_p*Math.cos(t),Math.sin(t));if(n=a*Math.cos(e)*Math.cos(t),o=a*Math.sin(e)*Math.cos(t),s=a*Math.sin(t),(this.radius_g-n)*n-o*o-s*s*this.radius_p_inv2<0)return r.x=Number.NaN,r.y=Number.NaN,r;i=this.radius_g-n,this.flip_axis?(r.x=this.radius_g_1*Math.atan(o/Wr(s,i)),r.y=this.radius_g_1*Math.atan(s/i)):(r.x=this.radius_g_1*Math.atan(o/i),r.y=this.radius_g_1*Math.atan(s/Wr(o,i)))}else this.shape==="sphere"&&(i=Math.cos(t),n=Math.cos(e)*i,o=Math.sin(e)*i,s=Math.sin(t),i=this.radius_g-n,this.flip_axis?(r.x=this.radius_g_1*Math.atan(o/Wr(s,i)),r.y=this.radius_g_1*Math.atan(s/i)):(r.x=this.radius_g_1*Math.atan(o/i),r.y=this.radius_g_1*Math.atan(s/Wr(o,i))));return r.x=r.x*this.a,r.y=r.y*this.a,r}function M4(r){var e=-1,t=0,i=0,n,o,s,a;if(r.x=r.x/this.a,r.y=r.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(r.y/this.radius_g_1),t=Math.tan(r.x/this.radius_g_1)*Wr(1,i)):(t=Math.tan(r.x/this.radius_g_1),i=Math.tan(r.y/this.radius_g_1)*Wr(1,t));var l=i/this.radius_p;if(n=t*t+l*l+e*e,o=2*this.radius_g*e,s=o*o-4*n*this.C,s<0)return r.x=Number.NaN,r.y=Number.NaN,r;a=(-o-Math.sqrt(s))/(2*n),e=this.radius_g+a*e,t*=a,i*=a,r.x=Math.atan2(t,e),r.y=Math.atan(i*Math.cos(r.x)/e),r.y=Math.atan(this.radius_p_inv2*Math.tan(r.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(r.y/this.radius_g_1),t=Math.tan(r.x/this.radius_g_1)*Math.sqrt(1+i*i)):(t=Math.tan(r.x/this.radius_g_1),i=Math.tan(r.y/this.radius_g_1)*Math.sqrt(1+t*t)),n=t*t+i*i+e*e,o=2*this.radius_g*e,s=o*o-4*n*this.C,s<0)return r.x=Number.NaN,r.y=Number.NaN,r;a=(-o-Math.sqrt(s))/(2*n),e=this.radius_g+a*e,t*=a,i*=a,r.x=Math.atan2(t,e),r.y=Math.atan(i*Math.cos(r.x)/e)}return r.x=r.x+this.long0,r}var T4=["Geostationary Satellite View","Geostationary_Satellite","geos"];const P4={init:R4,forward:b4,inverse:M4,names:T4};function O4(r){r.Proj.projections.add(Xp),r.Proj.projections.add(qp),r.Proj.projections.add(NU),r.Proj.projections.add($U),r.Proj.projections.add(JU),r.Proj.projections.add(nz),r.Proj.projections.add(uz),r.Proj.projections.add(fz),r.Proj.projections.add(_z),r.Proj.projections.add(xz),r.Proj.projections.add(kz),r.Proj.projections.add(Yz),r.Proj.projections.add(Jz),r.Proj.projections.add(r5),r.Proj.projections.add(u5),r.Proj.projections.add(f5),r.Proj.projections.add(_5),r.Proj.projections.add(x5),r.Proj.projections.add(O5),r.Proj.projections.add(F5),r.Proj.projections.add(V5),r.Proj.projections.add(j5),r.Proj.projections.add(q5),r.Proj.projections.add(t4),r.Proj.projections.add(s4),r.Proj.projections.add(f4),r.Proj.projections.add(_4),r.Proj.projections.add(x4),r.Proj.projections.add(P4)}Vn.defaultDatum="WGS84";Vn.Proj=Co;Vn.WGS84=new Vn.Proj("WGS84");Vn.Point=Du;Vn.toPoint=XM;Vn.defs=Cn;Vn.nadgrid=HB;Vn.transform=Mf;Vn.mgrs=eU;Vn.version="__VERSION__";O4(Vn);const fn=Pn({map:50,pano:50,top:100,bottom:0}),Ng=ci(!1),Lu=ci(!1);ci(!1);const ts=ci(!1),Ks=ci(!1),Xs=ci(!1),qs=ci(!1),Zc=ci(!1);function sx(){ts.value=!ts.value,Ks.value=!1,Xs.value=!1,qs.value=!1,ts.value?Vg():ic()}function VC(){ts.value=!1,ic()}function ax(){ts.value=!1,Ks.value=!Ks.value,Xs.value=!1,qs.value=!1,Ks.value?Vg():ic()}function lx(){ts.value=!1,Ks.value=!1,Xs.value=!Xs.value,qs.value=!1,Xs.value?Vg():ic()}function ux(){ts.value=!1,Ks.value=!1,Xs.value=!1,qs.value=!qs.value,qs.value?Vg():ic()}function cx(){qs.value=!1,ic()}let ui,Kn,zi,Xy,hp,Da,pr,Gg=null,Jc=null,Zp=null,Of=null,uT=null,cT=null,av=null,dp=null,wu=null,Fu=null,$r=null,wo=null,hx=null,kC=0,BC=0,di,Af=null,qy,Zy,Vr,dx,px,Df,fx,Xo,Nu,Jy,Qy,e_,hT,t_,i_,lv,uv,lh;const dT=Pn({lat:0,lon:0});let uh=dT.lat,UC=dT.lon,zC=!1,pT=0,fT=0,gT=0,mT=0,vT,yT,If=0,Lf=0,jC="",cv;ci(null);let ks=[],Su=[],Ff=null;const _T=ci(null),CT=()=>Math.floor(2*Math.atan(ui.getFilmHeight()/2/ui.getFocalLength())*180/Math.PI),wT=(r,e)=>r>=20&&e==="zoomIn"?r-5:r<=75&&e==="zoomOut"?r+5:r,gx=r=>{const e=CT();ui.fov=wT(e,"zoomIn"),ui.updateProjectionMatrix()},mx=r=>{const e=CT();ui.fov=wT(e,"zoomOut"),ui.updateProjectionMatrix()},Nt=Pn({id:"",yField:0,xField:0,hField:0,rollField:0,pitchField:0,trackField:0,noteField:""}),Ts=Pn({yField:0,xField:0,hField:0,rollField:0,pitchField:0,trackField:0,noteField:""});function Ln(){let r={dx:Nt.xField,dy:Nt.yField,dh:Nt.hField,dr:Nt.rollField,dp:Nt.pitchField,dt:Nt.trackField};D4(r)}function A4(r){console.log(r);const{id:e,drift_x:t,drift_y:i,height:n,roll:o,pitch:s,track:a}=r;Nt.id=e,Nt.yField=parseFloat(i),Nt.xField=parseFloat(t),Nt.hField=parseFloat(n),Nt.rollField=parseFloat(o),Nt.pitchField=parseFloat(s),Nt.trackField=parseFloat(a),Nt.noteField="",Ts.yField=parseFloat(i),Ts.xField=parseFloat(t),Ts.hField=parseFloat(n),Ts.rollField=parseFloat(o),Ts.pitchField=parseFloat(s),Ts.trackField=parseFloat(a),Ts.noteField="",Ln()}function D4(r){const{dx:e,dy:t,dh:i,dr:n,dp:o,dt:s}=r;ui.position.set(t,i-lh,e),Da.rotation.x=Math.PI*n/180,Da.rotation.z=Math.PI*o/180,Xo=s,Gg.rotation.y=Math.PI*Xo/180,Af.rotation.y=Math.PI*Xo/180,qy.rotation.y=Math.PI*Xo/180,Zy.rotation.y=Math.PI*Xo/180}async function I4(){kC=document.querySelector("#wrapper-panorama").offsetWidth,BC=document.querySelector("#wrapper-panorama").offsetHeight,pr=document.querySelector("#wrapper-panorama"),Gg=new $i;let r=new Yk(new oo(450,50)),e=new VE({color:"orange",linewidth:1,scale:1,dashSize:5,gapSize:5});Jc=new $k(r,e),Jc.computeLineDistances(),Jc.rotation.x=-Math.PI/2,Jc.rotation.y=Math.PI;const t=new oo(.3,16),i=new oo(.1,16),n=new ao({color:"green",side:pn,transparent:!0,opacity:.6}),o=new Qi(t,n);o.rotation.x=-Math.PI/2;const s=new Qi(i,n);s.position.set(0,.01,0),s.rotation.x=-Math.PI/2,Zp=new $i,Zp.add(o,s),Zp.position.set(1e3,1e3,1e3);const a=new oo(.3,16),l=new oo(.1,16),u=new ao({color:"orange",side:pn,transparent:!0,opacity:.6}),c=new Qi(a,u);c.rotation.x=-Math.PI/2;const h=new Qi(l,u);h.position.set(0,.01,0),h.rotation.x=-Math.PI/2,Of=new $i,Of.add(c,h),uT=new ao({color:"0xf0ff20",side:pn,transparent:!0,opacity:.4}),cT=new ao({color:"red",side:pn,transparent:!0,opacity:.6});const d=new oo(1.5,32),p=new ao({color:"#ffffff",side:pn,transparent:!0,opacity:.2});av=new Qi(d,p),av.rotation.x=-Math.PI/2,dp=new Qi(new oo(.8,32),p),dp.position.set(0,.01,0),dp.rotation.x=-Math.PI/2;let f=[];const m=new or,g=new VE({color:16777215,linewidth:4,scale:1,dashSize:.1,gapSize:.1});f.push(new ee(0,0,0),new ee(0,1e3,0)),m.setFromPoints(f);const y=new xf(m,g);y.computeLineDistances(),wu=new $i,wu.add(av,dp,y),wu.position.set(1e3,1e3,1e3);const C=new Og(1e3,1e3,100,100),w=new ao({color:"0xfff00f",transparent:!0,visible:!1,side:pn,opacity:.1});Fu=new Qi(C,w),Fu.rotation.x=-Math.PI/2,$r=new Jk,wo=new jt;const S=new oo(1.5,60),b=new Dg({color:"yellow",linewidth:2});hx=new xf(S,b),hx.rotation.x=-Math.PI/2,Gu(await ST())}async function ST(){const r=await vn.get(`/panoramas/?p=1&page_size=1&project=${qr()}&year=${Iy()}`),{results:e}=r.data;return e[0].id}async function Gu(r,e=!0,t=!0){e&&(Ng.value=!0),t&&(Lu.value=!0),ui=new mr(50,kC/BC,1,1100),ui.target=new ee(0,0,0),Kn=new zk,Xy=new Ig(500,25,25),Xy.scale(-1,1,1),await F4(r)}async function L4(r){const{id:e}=r,t=await cM.get("/api/correct",{params:{base_id:e}});console.log(t),A4(t.data.data[0])}async function F4(r){di=(await vn.get(`/panoramas/${r}/?format=json`)).data,Os.value=di;const t=new Zk;t.load(di.pot_hole_image?di.pot_hole_image:di.eqimage,function(i){N4(i),Uy.enabled=!0},function(i){Gu(ST())}),t.crossOrigin=""}function N4(r){hp&&hp.dispose(),hp=new ao({map:r,side:pn}),Da=new Qi(Xy,hp),Kn.add(Da,Fu,wu,Jc),qy=new Vs,Kn.add(qy),Zy=new Vs,Kn.add(Zy),Af=new Vs,Kn.add(Af),Zp.position.set(5,5,-2),Vr=new Vs,Kn.add(Vr),Of.position.set(5,5,-2),dx=new Ig(450,40,20),px=new ao({color:new ai(16776960),visible:!1,side:pn}),Df=new Qi(dx,px),Kn.add(Df),zi==null&&(zi=new HM,zi.setPixelRatio(window.devicePixelRatio),zi.setSize(kC,BC),pr.appendChild(zi.domElement)),fx=0,di.note,di.base_name,Nu=di.id,Jy=di.lat,Qy=di.lon,e_=di.utm_code,hT=di.utm_srid,t_=di.utm_x,i_=di.utm_y,di.creator_name,di.pitch?lv=di.pitch:lv=0,di.roll?uv=di.roll:uv=0,Da.rotation.y=Math.PI,Da.rotation.z=Math.PI*lv/180,Da.rotation.x=Math.PI*uv/180,di.height_from_ground?lh=di.height_from_ground:lh=2,Fu.position.y=-lh,Xo=fx,G4(Nu,Qy,Jy,t_,i_,e_),B4(!0),ET(),L4(di),Ng.value=!1,Lu.value=!1}function G4(r,e,t,i,n,o,s,a,l,u,c,h,d){Nu=r,vT=i,yT=n,Qy=e,Jy=t,H4(o),W4(e,t),Hg.setGeometry(new xn(zh([e,t],"EPSG:4326","EPSG:3857")))}function H4(r){let e=r.slice(0,-1);const t=r.slice(-1);"NPQRSTUVZXY".includes(t)||(e+="+south"),jC="+proj=utm +zone=%z +datum=WGS84 +units=m +no_defs".replace("%z",e)}function W4(r,e){Pt.removeLayer(hv),Pt.getView().setCenter(zh([r,e],"EPSG:4326","EPSG:3857")),Pt.addLayer(hv),hv.setZIndex(1e3)}function V4(r){let e="";const t=r.getGeometry().getCoordinates();return t[0]==0&&t[1]==0?e="/null.png":e="/pointer/viewpoint_dx.png",new Br({image:new Rg({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",rotateWithView:!0,rotation:r.get("rotation"),src:e})})}const k4=new yr({geometry:new xn([0,0]),name:"cursor",rotation:0}),Hg=new yr({geometry:new xn([0,0]),name:"pano",rotation:0}),hv=new ta({source:new ia({features:[Hg],projection:"EPSG:4326"}),style:V4});let ET=function(){requestAnimationFrame(ET),xT()},xT=function(){uh=Math.max(-85,Math.min(85,uh));const r=ky.degToRad(90-uh),e=ky.degToRad(UC);ui.target.x=500*Math.sin(r)*Math.cos(e),ui.target.y=500*Math.cos(r),ui.target.z=500*Math.sin(r)*Math.sin(e),ui.lookAt(ui.target),zi.render(Kn,ui)};function Wg(){let r=document.getElementById("wrapper-panorama").offsetWidth,e=document.getElementById("wrapper-panorama").offsetHeight;zi&&zi.setSize(r,e),ui.aspect=r/e,ui.updateProjectionMatrix()}function vx(r){AG(),r.preventDefault(),zC=!0,pT=r.clientX,fT=r.clientY,gT=UC,mT=uh,xT()}function yx(r){if(zC===!0)UC=(pT-r.clientX)*.1+gT,uh=(r.clientY-fT)*.1+mT,j4();else if(zi){const e=zi.domElement.getBoundingClientRect();wo.x=(r.clientX-e.left)/zi.domElement.clientWidth*2-1,wo.y=-((r.clientY-e.top)/zi.domElement.clientHeight)*2+1,$r.setFromCamera(wo,ui);const t=$r.intersectObject(Gg,!0);if(t[0])Ex(!1),cv=t[0].object,cv.material=cT;else{Ex(!0);try{cv.material=uT}catch{}}const i=$r.intersectObject(Fu);if(i[0]){const n=-Math.PI*Xo/180,o=i[0].point.z*Math.cos(n)-i[0].point.x*Math.sin(n),s=i[0].point.x*Math.cos(n)+i[0].point.z*Math.sin(n);U4(o,s),wu.position.set(i[0].point.x,i[0].point.y+.1,i[0].point.z)}}}function _x(r){zC=!1}function Cx(r){if(Zc.value){const e=zi.domElement.getBoundingClientRect();wo.x=(r.clientX-e.left)/zi.domElement.clientWidth*2-1,wo.y=-((r.clientY-e.top)/zi.domElement.clientHeight)*2+1,$r.setFromCamera(wo,ui);const t=$r.intersectObject(Df),i=$r.intersectObject(Fu);let n=180*t[0].uv.y-90,o=-(360*t[0].uv.x-Xo);o<0&&(o=360+o),Pt.removeLayer(n_),$4(o,n,i[0].point.x,i[0].point.y,i[0].point.z),Pt.addLayer(n_)}}function wx(r){const e=ui.fov+r.deltaY/50;ui.fov=ky.clamp(e,5,75),ui.updateProjectionMatrix()}function Sx(r){const e=zi.domElement.getBoundingClientRect();wo.x=(r.clientX-e.left)/zi.domElement.clientWidth*2-1,wo.y=-((r.clientY-e.top)/zi.domElement.clientHeight)*2+1,$r.setFromCamera(wo,ui);const t=$r.intersectObjects([Gg,Af],!0);t[0]&&t[0].object.ws_type=="other pano"&&(Nu=t[0].object.ws_pano_key,Gu(Nu,!1))}function B4(r){r?(pr.addEventListener("mousedown",vx,!1),pr.addEventListener("mousemove",yx,!1),pr.addEventListener("dblclick",Cx,!1),pr.addEventListener("click",Sx,!1),pr.addEventListener("wheel",wx,!1),document.addEventListener("mouseup",_x,!1)):(pr.removeEventListener("mousedown",vx,!1),pr.removeEventListener("mousemove",yx,!1),pr.removeEventListener("dblclick",Cx,!1),pr.removeEventListener("click",Sx,!1),pr.removeEventListener("wheel",wx,!1),document.removeEventListener("mouseup",_x,!1))}function Ex(r){wu.traverse(function(e){e.visible=r})}function U4(r,e){If=vT+r,Lf=yT+e,k4.setGeometry(new xn(Vn(jC,"EPSG:3857",[If,Lf])))}function z4(r){Hg.set("rotation",r*Math.PI/180)}function j4(){let r=new jt;r.x=0,r.y=0,$r.setFromCamera(r,ui);let t=-(360*$r.intersectObject(Df)[0].uv.x-Xo);t<0&&(t=360+t),t=t-180,z4(t),Hg.changed()}let $4=function(r,e,t,i,n,o){const s=Vn(jC,"EPSG:4326").forward([If,Lf]);if(ks.length>1)for(var a=ks.length;a>0;a--)ks.pop();if(Su.length>1)for(var a=Su.length;a>0;a--)Su.pop();Kn.remove(Ff),ks.push(JSON.parse(JSON.stringify({panorama:Nu,type:2,img_lon:r,img_lat:e,lon:s[0],lat:s[1],utm_x:If,utm_y:Lf,utm_code:e_,utm_srid:hT}))),RT()},RT=function(r=!0){$C(),r&&Y4()},Y4=function(){let r=new Object,e=new Array;if(ks.forEach(function(t){let i,n=new Object;i=Of.clone(),i.position.set(t.utm_y-i_,-lh,t.utm_x-t_),i.children[0].ws_type="measurement",i.children[0].ws_imgObjKey=t.id,i.children[1].ws_type="measurement",i.children[1].ws_imgObjKey=t.id,Vr.add(i),Kn.add(Vr),n.type="Point",n.coordinates=new Array(t.lon,t.lat),e.push(n)}),Vr.children.length===2){Su.push(Vr.children[0].position),Su.push(Vr.children[1].position);const t=new or().setFromPoints(Su);Ff=new jk(t,new Dg({color:16777215,linewidth:10})),Kn.add(Ff)}r.type="FeatureCollection",r.features=e,K4(r)},n_=new ta({title:"Measurement",visible:!0,source:new ia({format:new Mh}),style:new Br({stroke:new qn({color:"blue",width:1}),fill:new wr({color:"rgba(255, 255, 255, 0.3)"}),image:new Rg({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"/pointer/sprites/point9.png"})})});const bT=function(){if(ks.length>1)for(var r=ks.length;r>0;r--)ks.pop();RT()};let K4=function(r,e){const t=new Mh().readFeatures(r,{featureProjection:"EPSG:3857"});if(r.features.length==2){let n=[],o=[],s=[];n=r.features,n.forEach(function(u,c){for(let h=0;h<=1;h++)h==0?o.push(u.coordinates[0]):s.push(u.coordinates[1])});let a=DG(s[0],o[0],s[1],o[1]);_T.value=a.toFixed(2),new bootstrap.Toast(document.getElementById("distance"),{}).show()}const i=new ia({features:t,format:new Mh});n_.setSource(i)};const $C=function(){for(let r=Vr.children.length-1;r>=0;r--)Vr.remove(Vr.children[r]);Kn.remove(Vr),Kn.remove(Ff)};function xx(){fn.map=50,fn.pano=50,setTimeout(()=>nc(),qh)}function Rx(){fn.map=100,fn.pano=0,setTimeout(()=>nc(),qh)}function X4(r){fn.map=r[0].size,fn.pano=r[1].size,nc(),Wg()}function q4(r){fn.top=r[0].size,fn.bottom=r[1].size,nc(),Wg()}function Vg(){fn.top=50,fn.bottom=50,setTimeout(()=>{nc(),Wg()},qh)}function ic(){fn.top=100,fn.bottom=0,setTimeout(()=>{nc(),Wg()},qh)}let Pt,Z4=17;const Cc=ci("googleSatellite"),Hu=ci(null),Os=ci(null);let YC;const uu=Pn({panorama:!1,panorama2:!1});let no=new yC({source:new ro({url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"})});const Nf=new yC({title:"panorama lantai 0",zIndex:10,source:new qb({url:"https://geoserver.observer.xyz/geoserver/assetkukar/wms?service=WMS",params:{LAYERS:"assetkukar:v_panorama_assetkukar_0",TILED:!0},serverType:"geoserver",crossOrigin:"anonymous"})}),Gf=new yC({title:"panorama lantai 1",zIndex:10,source:new qb({url:"https://geoserver.observer.xyz/geoserver/assetkukar/wms?service=WMS",params:{LAYERS:"assetkukar:v_panorama_assetkukar_1",TILED:!0},serverType:"geoserver",crossOrigin:"anonymous"})}),r_=new Ds({center:new rL([0,0]),zoom:Z4});function J4(){Pt=new b1({target:"container-map",layers:[no,wf,CG],controls:new Mb({attribution:!1,zoom:!1,rotate:!1}),view:r_}),Pt.on("pointerdrag",function(){OG()}),ij(),uu.panorama&&(Pt.addLayer(Nf),Hf()),uu.panorama2&&(Pt.addLayer(Gf),Hf())}function nc(){Pt.updateSize()}function bx(){Pt.getView().animate({zoom:Pt.getView().getZoom()+1,duration:250})}function Mx(){Pt.getView().animate({zoom:Pt.getView().getZoom()-1,duration:250})}function MT(r){if(r.serverType==="arcgis")return new ta({title:r.name,source:new ia({format:new uM,url:(e,t,i)=>IG(e,i,r.url),strategy:VN})});if(r.serverType==="geoserver")return new ta({title:r.name,source:new ia({url:gM(r.url,r.name_layer),format:new Mh})})}function Q4(r,e){if(r.target.checked)Pt.addLayer(MT(e));else{let i=e.name;Pt.getLayers().forEach(n=>{n&&n.get("title")===i&&Pt.removeLayer(n)})}}function ej(r){r.target.checked?(Pt.addLayer(Nf),Hf()):(Pt.removeLayer(Nf),hg(YC))}function tj(r){r.target.checked?(Pt.addLayer(Gf),Hf()):(Pt.removeLayer(Gf),hg(YC))}function ij(){let r=null;r!==null&&Pt.removeInteraction(r),r=new YN({condition:JL,style:function(t){return mM[t.getGeometry().getType()]}}),Pt.addInteraction(r),r.on("select",function(t){wf.getSource().clear(),hr.value==="clear"&&(!t.selected[0]||(Hu.value=t.selected[0].getProperties(),delete Hu.value.geometry,He.showMapInfo=!0))})}function Hf(){YC=Pt.on("click",async function(r){const e=r_.getResolution(),t=r_.getProjection(),i=Nf.getSource().getFeatureInfoUrl(r.coordinate,e,t,{INFO_FORMAT:"application/json"}),n=Gf.getSource().getFeatureInfoUrl(r.coordinate,e,t,{INFO_FORMAT:"application/json"});if(i){const o=await xu.get(i),{features:s,numberReturned:a}=o.data;if(a!==0&&s[0].geometry.type==="Point"){Lu.value=!0;const l=await vn.get(`/panoramas/?project=${qr()}&base_name=${s[0].properties.base_name}`),{results:u}=l.data;Os.value=u[0],xx(),Gu(u[0].id,!1,!1)}}if(n){const o=await xu.get(n),{features:s,numberReturned:a}=o.data;if(a!==0&&s[0].geometry.type==="Point"){Lu.value=!0;const l=await vn.get(`/panoramas/?project=${qr()}&base_name=${s[0].properties.base_name}`),{results:u}=l.data;featuresPanorama2.value=u[0],xx(),Gu(u[0].id,!1,!1)}}})}const nj='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class rj extends ro{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[nj];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",n=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:n,wrapX:e.wrapX,zDirection:e.zDirection})}}const oj=rj;const sj={key:0,class:"basemap"},aj={class:"card"},lj={class:"card-body px-2 py-1"},uj={class:"form-check d-flex align-items-center gap-1"},cj=["value","id"],hj=["for"],dj={__name:"BasemapPopup",setup(r){const e=[{label:"Open Street Map",value:"openStreetMap"},{label:"Google Satellite",value:"googleSatellite"},{label:"Google Road Map",value:"googleRoadMap"},{label:"Google Hybrid",value:"googleHybrid"},{label:"Google Terrain",value:"googleTerrain"},{label:"Esri World Imagery",value:"esriWorldImagery"},{label:"Esri World Street Map",value:"esriWorldStreetMap"},{label:"Esri World Topo Map",value:"esriWorldTopoMap"},{label:"Esri Gray Map",value:"esriGrayMap"}];return D_(Cc,()=>{switch(Cc.value){case"openStreetMap":no.setSource(new oj);break;case"googleSatellite":no.setSource(new ro({url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"}));break;case"googleRoadMap":no.setSource(new ro({url:"https://mt1.google.com/vt/lyrs=h&x={x}&y={y}&z={z}"}));break;case"googleHybrid":no.setSource(new ro({url:"http://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}"}));break;case"googleTerrain":no.setSource(new ro({url:"https://mt1.google.com/vt/lyrs=p&x={x}&y={y}&z={z}"}));break;case"esriWorldImagery":no.setSource(new ro({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}));break;case"esriWorldStreetMap":no.setSource(new ro({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"}));break;case"esriWorldTopoMap":no.setSource(new ro({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"}));break;case"esriGrayMap":no.setSource(new ro({url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"}));break}}),(t,i)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut"},{default:dn(()=>[z(He).showBasemap?(Le(),Be("div",sj,[L("div",aj,[L("div",lj,[(Le(),Be(Er,null,lg(e,n=>L("div",uj,[vt(L("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>eh(Cc)?Cc.value=o:null),value:n.value,class:"form-check-input fs-7",name:"flexRadioDefault",type:"radio",id:n.value},null,8,cj),[[zp,z(Cc)]]),L("label",{class:"form-check-label fs-7",for:n.value},bi(n.label),9,hj)])),64))])])])):Ci("",!0)]),_:1}))}},pj=kn(dj,[["__scopeId","data-v-0f2c26bb"]]),kg=Pn({assetkukar:[]});async function fj(){const r=await vn.get("/layers/",{params:{project:qr()}}),{results:e}=r.data;gj(e),kg.assetkukar=e,mj()}function gj(r){r.map(e=>{Object.assign(e,{show:!1})}),r.map(e=>{e.url.includes("geoserver")?Object.assign(e,{serverType:"geoserver"}):Object.assign(e,{serverType:"arcgis"})})}function mj(){kg.assetkukar.filter(r=>r.show&&Pt.addLayer(MT(r)))}const Bg=r=>(Rr("data-v-2dc4c46a"),r=r(),br(),r),vj={key:0,class:"layers"},yj={class:"card"},_j={class:"card-body px-2 py-1"},Cj={class:"list-unstyled ps-0 mb-0"},wj=Bg(()=>L("button",{class:"btn btn-toggle align-items-center rounded collapsed","data-bs-toggle":"collapse","data-bs-target":"#aset","aria-expanded":"true"},"Aset",-1)),Sj={class:"collapse show",id:"aset"},Ej={class:"btn-toggle-nav list-unstyled fw-normal pb-1 small"},xj=["onUpdate:modelValue","value","id","onChange"],Rj=["for"],bj=Bg(()=>L("button",{class:"btn btn-toggle align-items-center rounded collapsed","data-bs-toggle":"collapse","data-bs-target":"#panorama-data","aria-expanded":"true"},"360 Data",-1)),Mj={class:"collapse show",id:"panorama-data"},Tj={class:"btn-toggle-nav list-unstyled fw-normal pb-1 small"},Pj={class:"form-check"},Oj=Bg(()=>L("label",{class:"form-check-label user-select-none",for:"panorama"},"Panorama Lantai Ground",-1)),Aj={class:"form-check"},Dj=Bg(()=>L("label",{class:"form-check-label user-select-none",for:"panorama2"},"Panorama Lantai 1",-1)),Ij={__name:"LayersPopup",setup(r){return(e,t)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut"},{default:dn(()=>[z(He).showLayers?(Le(),Be("div",vj,[L("div",yj,[L("div",_j,[L("ul",Cj,[L("li",null,[wj,L("div",Sj,[L("ul",Ej,[(Le(!0),Be(Er,null,lg(z(kg).assetkukar,i=>(Le(),Be("li",{class:"form-check",key:i.id},[vt(L("input",{class:"form-check-input","onUpdate:modelValue":n=>i.show=n,type:"checkbox",value:i.name,id:i.name_layer,onChange:n=>z(Q4)(n,i)},null,40,xj),[[lm,i.show]]),L("label",{class:"form-check-label user-select-none text-capitalize",for:i.name_layer},bi(i.name),9,Rj)]))),128))])])]),L("li",null,[bj,L("div",Mj,[L("ul",Tj,[L("li",Pj,[vt(L("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=i=>z(uu).panorama=i),type:"checkbox",value:"panorama",id:"panorama",onChange:t[1]||(t[1]=i=>z(ej)(i,e.layer))},null,544),[[lm,z(uu).panorama]]),Oj]),L("li",Aj,[vt(L("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=i=>z(uu).panorama2=i),type:"checkbox",value:"panorama2",id:"panorama2",onChange:t[3]||(t[3]=i=>z(tj)(i,e.layer))},null,544),[[lm,z(uu).panorama2]]),Dj])])])])])])])])):Ci("",!0)]),_:1}))}},Lj=kn(Ij,[["__scopeId","data-v-2dc4c46a"]]);const KC=r=>(Rr("data-v-f298b873"),r=r(),br(),r),Fj={key:0,class:"measurement"},Nj={class:"card"},Gj={class:"card-body px-2 py-1"},Hj={class:"form-check d-flex align-items-center gap-1"},Wj=KC(()=>L("label",{class:"form-check-label fs-7",for:"clear"},"Clear Measurement",-1)),Vj={class:"form-check d-flex align-items-center gap-1"},kj=KC(()=>L("label",{class:"form-check-label fs-7",for:"length"},"Length (Line String)",-1)),Bj={class:"form-check d-flex align-items-center gap-1"},Uj=KC(()=>L("label",{class:"form-check-label fs-7",for:"area"},"Area (Polygon)",-1)),zj={__name:"MeasurementPopup",setup(r){return D_(hr,function(){switch(hr.value){case"length":TG();break;case"area":PG();break;default:MG()}}),(e,t)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut"},{default:dn(()=>[z(He).showMeasurement?(Le(),Be("div",Fj,[L("div",Nj,[L("div",Gj,[L("div",Hj,[vt(L("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>eh(hr)?hr.value=i:null),value:"clear",class:"form-check-input fs-7",name:"flexRadioDefault",type:"radio",id:"clear"},null,512),[[zp,z(hr)]]),Wj]),L("div",Vj,[vt(L("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>eh(hr)?hr.value=i:null),value:"length",class:"form-check-input fs-7",name:"flexRadioDefault",type:"radio",id:"length"},null,512),[[zp,z(hr)]]),kj]),L("div",Bj,[vt(L("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>eh(hr)?hr.value=i:null),value:"area",class:"form-check-input fs-7",name:"flexRadioDefault",type:"radio",id:"area"},null,512),[[zp,z(hr)]]),Uj])])])])):Ci("",!0)]),_:1}))}},jj=kn(zj,[["__scopeId","data-v-f298b873"]]);const $j={key:0,class:"card"},Yj={class:"card-title"},Kj={class:"card-body"},Xj={key:0,class:"table"},qj={scope:"row",style:{"font-size":"0.8rem"}},Zj={style:{"font-size":"0.8rem"}},Jj={__name:"MapInfoPopup",setup(r){const e=ci(!1);return(t,i)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeInLeft animate__faster","leave-active-class":"animate__animated animate__fadeOutLeft animate__faster"},{default:dn(()=>[z(He).showMapInfo?(Le(),Be("div",$j,[L("div",Yj,[L("div",{class:"close-btn cursor-pointer",onMouseover:i[0]||(i[0]=n=>e.value=!0),onMouseleave:i[1]||(i[1]=n=>e.value=!1),onClick:i[2]||(i[2]=(...n)=>z(Cf)&&z(Cf)(...n))},[L("i",{class:Li(["fa-circle-xmark fa-lg",e.value?"fa-solid":"fa-regular"])},null,2)],32)]),L("div",Kj,[z(Hu)?(Le(),Be("table",Xj,[L("tbody",null,[(Le(!0),Be(Er,null,lg(z(Hu),(n,o)=>(Le(),Be("tr",null,[L("th",qj,bi(o),1),L("td",Zj,bi(n),1)]))),256))])])):Ci("",!0)])])):Ci("",!0)]),_:1}))}},Qj=kn(Jj,[["__scopeId","data-v-18c730e7"]]);const TT=r=>(Rr("data-v-21978040"),r=r(),br(),r),e6={key:0,class:"support-table"},t6={class:"card"},i6={class:"card-body px-2 py-1"},n6={class:"form-check d-flex align-items-center gap-1"},r6=["checked"],o6=TT(()=>L("label",{class:"form-check-label fs-7"},"Layer",-1)),s6={class:"form-check d-flex align-items-center gap-1"},a6=["checked"],l6=TT(()=>L("label",{class:"form-check-label fs-7"},"Panorama",-1)),u6={__name:"SupportTablePopup",setup(r){return(e,t)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut"},{default:dn(()=>[z(He).showSupportTable?(Le(),Be("div",e6,[L("div",t6,[L("div",i6,[L("div",n6,[L("input",{class:"form-check-input fs-7",name:"flexRadioDefault",type:"radio",checked:z(Ks),onClick:t[0]||(t[0]=(...i)=>z(ax)&&z(ax)(...i))},null,8,r6),o6]),L("div",s6,[L("input",{class:"form-check-input fs-7",name:"flexRadioDefault",type:"radio",checked:z(Xs),onClick:t[1]||(t[1]=(...i)=>z(lx)&&z(lx)(...i))},null,8,a6),l6])])])])):Ci("",!0)]),_:1}))}},c6=kn(u6,[["__scopeId","data-v-21978040"]]),ei=Pn({id:"",name:"",name_service:"",projectId:"",url:"",year:0});let Wf,o_,Tx,Px;function wc(){Wf.hide()}function h6(r){Wf=new bootstrap.Modal(document.getElementById("update-layer-modal"),{}),Wf.show();const{id:e,name:t,project:i,url:n,name_layer:o,year:s}=r;ei.id=e,ei.name=t,ei.projectId=i,ei.url=n,ei.name_service=o,ei.year=s}function Sc(){Wf.hide(),ei.id="",ei.name="",ei.projectId="",ei.url="",ei.name_service="",ei.year=0}function d6(){o_=new bootstrap.Modal(document.getElementById("style-layer-modal"),{}),o_.show()}function pp(){o_.hide()}function Ox(){Tx=new bootstrap.Modal(document.getElementById("acc-info-modal"),{}),Tx.show()}const Bs=Pn({id:"",username:"",email:"",role:""});function p6(r){Px=new bootstrap.Modal(document.getElementById("acc2-info-modal"),{}),Px.show(),Bs.id=r.id,Bs.username=r.username,Bs.email=r.email,Bs.role=r.role}const f6={class:"modal fade",id:"acc-info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},g6={class:"modal-dialog modal-dialog-centered"},m6={class:"modal-content"},v6=L("div",{class:"modal-header"},[L("h1",{class:"modal-title fs-5"},"Account Information"),L("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y6={class:"modal-body"},_6={class:"list-group"},C6={class:"list-group-item d-flex justify-content-between align-items-start"},w6={class:"ms-2 me-auto"},S6=L("div",{class:"fw-bold"},"User ID",-1),E6={class:"list-group-item d-flex justify-content-between align-items-start"},x6={class:"ms-2 me-auto"},R6=L("div",{class:"fw-bold"},"Email",-1),b6={class:"list-group-item d-flex justify-content-between align-items-start"},M6={class:"ms-2 me-auto"},T6=L("div",{class:"fw-bold"},"Username",-1),P6={class:"list-group-item d-flex justify-content-between align-items-start"},O6={class:"ms-2 me-auto"},A6=L("div",{class:"fw-bold"},"Role",-1),D6={__name:"AccountInfo",setup(r){const e=Pn({id:"",email:"",username:"",role:""});async function t(){const{id:i}=JSON.parse(sa(sessionStorage.getItem("userData"))),n=await vn.get(`/auth/users/${i}/`),{id:o,email:s,username:a,role:l}=n.data;e.id=o,e.email=s,e.username=a,e.role=l}return GR(()=>{t()}),(i,n)=>(Le(),Be("div",f6,[L("div",g6,[L("div",m6,[v6,L("div",y6,[L("ol",_6,[L("li",C6,[L("div",w6,[S6,Ls(" "+bi(e.id),1)])]),L("li",E6,[L("div",x6,[R6,Ls(" "+bi(e.email),1)])]),L("li",b6,[L("div",M6,[T6,Ls(" "+bi(e.username),1)])]),L("li",P6,[L("div",O6,[A6,Ls(" "+bi(e.role),1)])])])])])])]))}};const PT=r=>(Rr("data-v-4e4b920a"),r=r(),br(),r),I6={key:0,class:"acc-info"},L6={class:"card"},F6={class:"card-body py-2 px-3"},N6=PT(()=>L("span",null,"Account List",-1)),G6=[N6],H6=PT(()=>L("span",null,"Logout",-1)),W6=[H6],V6={__name:"AccountInfoPopup",setup(r){const e=mD(),{role:t}=JSON.parse(sa(sessionStorage.getItem("userData")));function i(){sessionStorage.clear(),e.push("/login"),e.go(),He.showAccInfo=!1}return(n,o)=>(Le(),Be(Er,null,[Wt(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut"},{default:dn(()=>[z(He).showAccInfo?(Le(),Be("div",I6,[L("div",L6,[L("div",F6,[L("div",{class:"cursor-pointer user fs-6",onClick:o[0]||(o[0]=(...s)=>z(Ox)&&z(Ox)(...s))},[L("span",null,"Info Account: "+bi(z(t)),1)]),L("div",{class:"cursor-pointer user fs-6",onClick:o[1]||(o[1]=(...s)=>z(ux)&&z(ux)(...s))},G6),L("div",{class:"cursor-pointer logout fs-6",onClick:i},W6)])])])):Ci("",!0)]),_:1}),Wt(D6)],64))}},k6=kn(V6,[["__scopeId","data-v-4e4b920a"]]),B6=L("div",{class:"logo-assetkukar"},[L("img",{src:CD,alt:"logo assetkukar"})],-1),U6={class:"card-body d-flex flex-grow-1 p-0 w-100",id:"container-map"},z6={key:0,style:{"z-index":"100"},class:"position-absolute top-50 start-50"},j6=L("i",{class:"fa-solid fa-sync fa-spin fa-2xl"},null,-1),$6=[j6],Y6={class:"card-footer d-flex justify-content-between"},K6={class:"d-flex m-0 p-0 gap-3"},X6={key:0,class:"d-flex m-0 p-0 gap-3"},q6={class:"d-flex m-0 gap-3"},Z6=L("i",{class:"fa-solid fa-magnifying-glass-plus cursor-pointer"},null,-1),J6=[Z6],Q6=L("i",{class:"fa-solid fa-magnifying-glass-minus cursor-pointer"},null,-1),e8=[Q6],t8={__name:"PaneMap",setup(r){const e=ci(!1);return(t,i)=>{const n=I_("tippy");return Le(),Be(Er,null,[B6,L("div",U6,[z(Ng)?(Le(),Be("div",z6,$6)):Ci("",!0)]),L("div",Y6,[L("ul",K6,[vt((Le(),Be("li",{onClick:i[0]||(i[0]=o=>e.value=!e.value),class:"tooltip-burger-menu"},[L("i",{class:Li(["fa-solid cursor-pointer",e.value?"fa-xmark fa-lg":"fa-bars"])},null,2)])),[[n,{content:e.value?"Close Menu":"Menu"}]]),Wt(To,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeInLeft animate__faster","leave-active-class":"animate__animated animate__fadeOutLeft animate__faster"},{default:dn(()=>[e.value?(Le(),Be("div",X6,[vt((Le(),Be("li",{onClick:i[1]||(i[1]=(...o)=>z(yS)&&z(yS)(...o))},[L("i",{class:Li(["fa-solid fa-map cursor-pointer",z(He).showBasemap&&"text-primary"])},null,2)])),[[n,{content:"Basemap"}]]),vt((Le(),Be("li",{onClick:i[2]||(i[2]=(...o)=>z(_S)&&z(_S)(...o))},[L("i",{class:Li(["fa-solid fa-layer-group cursor-pointer",z(He).showLayers&&"text-primary"])},null,2)])),[[n,{content:"Layers"}]]),vt((Le(),Be("li",{onClick:i[3]||(i[3]=(...o)=>z(CS)&&z(CS)(...o))},[L("i",{class:Li(["fa-solid fa-ruler cursor-pointer",z(He).showMeasurement&&"text-primary"])},null,2)])),[[n,{content:"Measurement Type"}]]),vt((Le(),Be("li",{onClick:i[4]||(i[4]=(...o)=>z(sx)&&z(sx)(...o))},[L("i",{class:Li(["fa-solid fa-magnifying-glass cursor-pointer",z(ts)&&"text-primary"])},null,2)])),[[n,{content:"Attributes"}]]),vt((Le(),Be("li",{onClick:i[5]||(i[5]=(...o)=>z(Cf)&&z(Cf)(...o))},[L("i",{class:Li(["fa-solid fa-circle-info cursor-pointer",z(He).showMapInfo&&"text-primary"])},null,2)])),[[n,{content:"Information"}]]),vt((Le(),Be("li",{onClick:i[6]||(i[6]=(...o)=>z(wS)&&z(wS)(...o))},[L("i",{class:Li(["fa-solid fa-table cursor-pointer",z(He).showSupportTable&&"text-primary"])},null,2)])),[[n,{content:"Options"}]])])):Ci("",!0)]),_:1})]),L("ul",q6,[vt((Le(),Be("li",{onClick:i[7]||(i[7]=(...o)=>z(SS)&&z(SS)(...o))},[L("i",{class:Li(["fa-solid fa-user cursor-pointer",z(He).showAccInfo&&"text-primary"])},null,2)])),[[n,{content:"Account Information"}]]),vt((Le(),Be("li",{onClick:i[8]||(i[8]=(...o)=>z(bx)&&z(bx)(...o))},J6)),[[n,{content:"Zoom In"}]]),vt((Le(),Be("li",{onClick:i[9]||(i[9]=(...o)=>z(Mx)&&z(Mx)(...o))},e8)),[[n,{content:"Zoom Out"}]])])]),Wt(pj),Wt(Lj),Wt(jj),Wt(Qj),Wt(c6),Wt(k6)],64)}}};const rc=r=>(Rr("data-v-854d1348"),r=r(),br(),r),i8={key:0,class:"card"},n8={class:"card-body"},r8={class:"list-group"},o8={class:"list-group-item d-flex justify-content-between align-items-start"},s8={class:"ms-2 me-auto"},a8=rc(()=>L("div",{class:"fw-bold fs-7"},"Panorama ID",-1)),l8={class:"fs-7"},u8={class:"list-group-item d-flex justify-content-between align-items-start"},c8={class:"ms-2 me-auto"},h8=rc(()=>L("div",{class:"fw-bold fs-7"},"Base Name",-1)),d8={class:"fs-7"},p8={class:"list-group-item d-flex justify-content-between align-items-start"},f8={class:"ms-2 me-auto"},g8=rc(()=>L("div",{class:"fw-bold fs-7"},"Longitude",-1)),m8={class:"fs-7"},v8={class:"list-group-item d-flex justify-content-between align-items-start"},y8={class:"ms-2 me-auto"},_8=rc(()=>L("div",{class:"fw-bold fs-7"},"Latitude",-1)),C8={class:"fs-7"},w8={class:"list-group-item d-flex justify-content-between align-items-start"},S8={class:"ms-2 me-auto"},E8=rc(()=>L("div",{class:"fw-bold fs-7"},"UTM X",-1)),x8={class:"fs-7"},R8={class:"list-group-item d-flex justify-content-between align-items-start"},b8={class:"ms-2 me-auto"},M8=rc(()=>L("div",{class:"fw-bold fs-7"},"UTM Y",-1)),T8={class:"fs-7"},P8={__name:"PanoramaInfo",setup(r){return(e,t)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn animate__faster","leave-active-class":"animate__animated animate__zoomOut animate__faster"},{default:dn(()=>[z(er).showPanoramaInfo?(Le(),Be("div",i8,[L("div",n8,[L("ol",r8,[L("li",o8,[L("div",s8,[a8,L("span",l8,bi(z(Os).id),1)])]),L("li",u8,[L("div",c8,[h8,L("span",d8,bi(z(Os).base_name),1)])]),L("li",p8,[L("div",f8,[g8,L("span",m8,bi(z(Os).lon),1)])]),L("li",v8,[L("div",y8,[_8,L("span",C8,bi(z(Os).lat),1)])]),L("li",w8,[L("div",S8,[E8,L("span",x8,bi(z(Os).utm_x),1)])]),L("li",R8,[L("div",b8,[M8,L("span",T8,bi(z(Os).utm_y),1)])])])])])):Ci("",!0)]),_:1}))}},O8=kn(P8,[["__scopeId","data-v-854d1348"]]);const A8=r=>(Rr("data-v-8f94a6f6"),r=r(),br(),r),D8={class:"toast",id:"distance",role:"alert","data-bs-autohide":"false"},I8=A8(()=>L("strong",{class:"me-auto"},"Distance",-1)),L8={class:"toast-body"},F8={__name:"InfoDistance",setup(r){function e(){new bootstrap.Toast(document.getElementById("distance"),{}).hide(),$C(),bT()}return(t,i)=>(Le(),Be("div",D8,[L("div",{class:"toast-header"},[I8,L("button",{type:"button",class:"btn-close",onClick:e})]),L("div",L8,bi(z(_T))+" Meter(s)",1)]))}},N8=kn(F8,[["__scopeId","data-v-8f94a6f6"]]);const XC=r=>(Rr("data-v-921b8532"),r=r(),br(),r),G8={class:"card-body p-0 w-100 h-100",id:"wrapper-panorama"},H8=XC(()=>L("i",{class:"fa-solid fa-sync fa-spin fa-2xl"},null,-1)),W8=[H8],V8={class:"card-footer d-flex justify-content-between"},k8={class:"d-flex m-0 p-0 gap-3"},B8={key:0,class:"d-flex m-0 p-0 gap-3"},U8={class:"d-flex m-0 gap-3"},z8=XC(()=>L("i",{class:"fa-solid fa-magnifying-glass-plus cursor-pointer"},null,-1)),j8=[z8],$8=XC(()=>L("i",{class:"fa-solid fa-magnifying-glass-minus cursor-pointer"},null,-1)),Y8=[$8],K8={__name:"PanePanorama",setup(r){const e=ci(!1),t=ci(!1);function i(){Zc.value=!Zc.value,er.showPanoramaInfo=!1,Zc.value===!1&&($C(),bT(),new bootstrap.Toast(document.getElementById("distance"),{}).hide())}return(n,o)=>{const s=I_("tippy");return Le(),Be(Er,null,[L("div",{class:"close-btn",onMouseover:o[0]||(o[0]=a=>e.value=!0),onMouseleave:o[1]||(o[1]=a=>e.value=!1),onClick:o[2]||(o[2]=(...a)=>z(Rx)&&z(Rx)(...a))},[L("i",{class:Li(["fa-circle-xmark fa-lg",e.value?"fa-solid":"fa-regular"])},null,2)],32),L("div",G8,[z(Lu)?(Le(),Be("div",{key:0,class:Li(["position-absolute top-50 start-50",z(Ng)?"text-dark":"text-white"])},W8,2)):Ci("",!0),Wt(N8)]),L("div",V8,[L("ul",k8,[vt((Le(),Be("li",{onClick:o[3]||(o[3]=a=>t.value=!t.value),class:"tooltip-burger-menu"},[L("i",{class:Li(["fa-solid cursor-pointer",t.value?"fa-xmark fa-lg":"fa-bars"])},null,2)])),[[s,{content:t.value?"Close Menu":"Menu"}]]),Wt(To,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeInLeft animate__faster","leave-active-class":"animate__animated animate__fadeOutLeft animate__faster"},{default:dn(()=>[t.value?(Le(),Be("div",B8,[vt((Le(),Be("li",{onClick:i},[L("i",{class:Li(["fa-solid fa-ruler cursor-pointer",z(Zc)&&"text-primary"]),onClick:o[4]||(o[4]=(...a)=>n.toggleMeasurement&&n.toggleMeasurement(...a))},null,2)])),[[s,{content:"Measurement"}]]),z(Lu)===!1?vt((Le(),Be("li",{key:0,onClick:o[5]||(o[5]=(...a)=>z(ES)&&z(ES)(...a))},[L("i",{class:Li(["fa-solid fa-circle-info cursor-pointer",z(er).showPanoramaInfo&&"text-primary"])},null,2)])),[[s,{content:"Information"}]]):Ci("",!0),vt((Le(),Be("li",{onClick:o[6]||(o[6]=(...a)=>z(xS)&&z(xS)(...a))},[L("i",{class:Li(["fa-solid fa-gear cursor-pointer",z(er).showCorrection&&"text-primary"])},null,2)])),[[s,{content:"Correction"}]])])):Ci("",!0)]),_:1})]),L("ul",U8,[vt((Le(),Be("li",{onClick:o[7]||(o[7]=(...a)=>z(gx)&&z(gx)(...a))},j8)),[[s,{content:"Zoom In"}]]),vt((Le(),Be("li",{onClick:o[8]||(o[8]=(...a)=>z(mx)&&z(mx)(...a))},Y8)),[[s,{content:"Zoom Out"}]])])]),Wt(O8)],64)}}},X8=kn(K8,[["__scopeId","data-v-921b8532"]]);/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v28.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          *//**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Zs(r){return r==null||r===""?null:r}function fe(r,e){return e===void 0&&(e=!1),r!=null&&(r!==""||e)}function Ue(r){return!fe(r)}function Xn(r){return r==null||r.length===0}function qC(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function Cr(r){if(r!==void 0){if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;var e=parseInt(r,10);return isNaN(e)?void 0:e}}function uo(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function q8(r){if(!(r==null||r===""))return r}function Z8(r,e){return r==null&&e==null?!0:r==null&&e!=null||r!=null&&e==null?!1:r===e}function J8(r,e){var t=r?JSON.stringify(r):null,i=e?JSON.stringify(e):null;return t===i}function Q8(r,e,t){t===void 0&&(t=!1);var i=r==null,n=e==null;if(r&&r.toNumber&&(r=r.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof r!="string"||!t)return o(r,e);try{return r.localeCompare(e)}catch{return o(r,e)}}function dl(r){if(r instanceof Set||r instanceof Map){var e=[];return r.forEach(function(t){return e.push(t)}),e}return Object.values(r)}var e$=Object.freeze({__proto__:null,makeNull:Zs,exists:fe,missing:Ue,missingOrEmpty:Xn,toStringOrNull:qC,attrToNumber:Cr,attrToBoolean:uo,attrToString:q8,referenceCompare:Z8,jsonEquals:J8,defaultComparator:Q8,values:dl});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var t$=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},r.prototype.getUniqueKey=function(e,t){e=qC(e);for(var i=0;;){var n=void 0;if(e?(n=e,i!==0&&(n+="_"+i)):t?(n=t,i!==0&&(n+="_"+i)):n=""+i,!this.existingKeys[n])return this.existingKeys[n]=!0,n;i++}},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Vt(r,e){r!=null&&(Array.isArray(r)?r.forEach(function(t,i){return e(""+i,t)}):Object.keys(r).forEach(function(t){return e(t,r[t])}))}function ZC(r){for(var e={},t=Object.keys(r),i=0;i<t.length;i++){var n=t[i],o=r[n];e[n]=o}return e}function i$(r){return JSON.parse(JSON.stringify(r))}function Vf(r,e){if(!!r){var t=r,i={};return Object.keys(t).forEach(function(n){if(!(e&&e.indexOf(n)>=0)){var o=t[n],s=Wu(o)&&o.constructor===Object;s?i[n]=Vf(o):i[n]=o}}),i}}function OT(r,e){return r[e]}function AT(r,e,t){r[e]=t}function n$(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];t.forEach(function(n){return DT(r,e,n)})}function DT(r,e,t,i){var n=OT(r,t);n!==void 0&&AT(e,t,i?i(n):n)}function IT(r){var e={};return r.filter(function(t){return t!=null}).forEach(function(t){Object.keys(t).forEach(function(i){return e[i]=null})}),Object.keys(e)}function Yr(r){if(!r)return[];var e=Object;if(typeof e.values=="function")return e.values(r);var t=[];for(var i in r)r.hasOwnProperty(i)&&r.propertyIsEnumerable(i)&&t.push(r[i]);return t}function Zn(r,e,t,i){t===void 0&&(t=!0),i===void 0&&(i=!1),fe(e)&&Vt(e,function(n,o){var s=r[n];if(s!==o){if(i){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},r[n]=s)}}Wu(o)&&Wu(s)&&!Array.isArray(s)?Zn(s,o,t,i):(t||o!==void 0)&&(r[n]=o)}})}function r$(r){return Ue(r)||Object.keys(r).length===0}function o$(r,e,t){if(r==null)return t;for(var i=e.split("."),n=r;i.length>1;)if(n=n[i.shift()],n==null)return t;var o=n[i[0]];return o!=null?o:t}function s$(r,e,t){if(r!=null){for(var i=e.split("."),n=r;i.length>1;)if(n=n[i.shift()],n==null)return;n[i[0]]=t}}function LT(r){return Object.freeze(r),dl(r).forEach(function(e){(Wu(e)||typeof e=="function")&&LT(e)}),r}function kf(r,e,t){if(!(!e||!r)){if(!t)return r[e];for(var i=e.split("."),n=r,o=0;o<i.length;o++){if(n==null)return;n=n[i[o]]}return n}}function FT(r,e){Object.keys(r).forEach(function(n){var o=r[n];typeof o=="object"&&(r[n]=void 0)});var t=Object.getPrototypeOf(r),i={};Object.keys(t).forEach(function(n){var o=t[n];if(typeof o=="function"){var s=function(){console.warn("AG Grid: "+e+" function "+n+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};i[n]={value:s,writable:!0}}}),Object.defineProperties(r,i)}function Wu(r){return typeof r=="object"&&r!==null}var a$=Object.freeze({__proto__:null,iterateObject:Vt,cloneObject:ZC,deepCloneObject:i$,deepCloneDefinition:Vf,getProperty:OT,setProperty:AT,copyPropertiesIfPresent:n$,copyPropertyIfPresent:DT,getAllKeysInObjects:IT,getAllValuesInObject:Yr,mergeDeep:Zn,missingOrEmptyObject:r$,get:o$,set:s$,deepFreeze:LT,getValueUsingField:kf,removeAllReferences:FT,isNonNullObject:Wu});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Ax={};function mt(r,e){Ax[e]||(r(),Ax[e]=!0)}function Ug(r){if(r.name)return r.name;var e=/function\s+([^\(]+)/.exec(r.toString());return e&&e.length===2?e[1].trim():null}function zg(r){return!!(r&&r.constructor&&r.call&&r.apply)}function NT(r){GT(r,400)}var dv=[],pv=!1;function s_(r){dv.push(r),!pv&&(pv=!0,window.setTimeout(function(){var e=dv.slice();dv.length=0,pv=!1,e.forEach(function(t){return t()})},0))}function GT(r,e){e===void 0&&(e=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(t){return t()})},e)}function oa(r,e,t){t===void 0&&(t=!1);var i;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=this,a=t&&!i;window.clearTimeout(i),i=window.setTimeout(function(){i=null,t||r.apply(s,n)},e),a&&r.apply(s,n)}}function a_(r,e){var t=0;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=this,s=new Date().getTime();s-t<e||(t=s,r.apply(o,i))}}function HT(r,e,t,i){t===void 0&&(t=100);var n=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-n>t;(r()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&i&&console.warn(i))};a(),s||(o=window.setInterval(a,10))}function l$(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return r.reduce(function(i,n){return n(i)},t)}}function WT(r){r&&r()}var u$=function(){},c$=Object.freeze({__proto__:null,doOnce:mt,getFunctionName:Ug,isFunction:zg,executeInAWhile:NT,executeNextVMTurn:s_,executeAfter:GT,debounce:oa,throttle:a_,waitUntil:HT,compose:l$,callIfPresent:WT,noop:u$});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var h$=function(){function r(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return dl(this.beanWrappers).map(function(e){return e.beanInstance})},r.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},r.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),fe(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},r.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Vt(this.beanWrappers,function(i,n){var o;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=e.getBeansForParameters(o,n.bean.name),a=d$(n.bean,s);n.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},r.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var i=void 0;e.prototype.constructor?i=Ug(e.prototype.constructor):i=""+e,console.error("Context item "+i+" is not a bean");return}var n={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=n},r.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(i){t.forEachMetaDataInHierarchy(i,function(n,o){var s=n.agClassAttributes;!s||s.forEach(function(a){var l=t.lookupBeanInstance(o,a.beanName,a.optional);i[a.attributeName]=l})})})},r.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(i){t.forEachMetaDataInHierarchy(i,function(n,o){Vt(n.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=t.getBeansForParameters(a,o);i[s].apply(i,l)}})})})},r.prototype.forEachMetaDataInHierarchy=function(e,t){for(var i=Object.getPrototypeOf(e);i!=null;){var n=i.constructor;if(n.hasOwnProperty("__agBeanMetaData")){var o=n.__agBeanMetaData,s=this.getBeanName(n);t(o,s)}i=Object.getPrototypeOf(i)}},r.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),i=t.substring(9,t.indexOf("("));return i},r.prototype.getBeansForParameters=function(e,t){var i=this,n=[];return e&&Vt(e,function(o,s){var a=i.lookupBeanInstance(t,s);n[Number(o)]=a}),n},r.prototype.lookupBeanInstance=function(e,t,i){if(i===void 0&&(i=!1),t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var n=this.beanWrappers[t];return n?n.beanInstance:(i||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},r.prototype.callLifeCycleMethods=function(e,t){var i=this;e.forEach(function(n){return i.callLifeCycleMethodsOnBean(n,t)})},r.prototype.callLifeCycleMethodsOnBean=function(e,t,i){var n={};this.forEachMetaDataInHierarchy(e,function(s){var a=s[t];a&&a.forEach(function(l){l!=i&&(n[l]=!0)})});var o=Object.keys(n);o.forEach(function(s){return e[s]()})},r.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(e){!e||this.destroyBeans([e])},r.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(i){t.callLifeCycleMethodsOnBean(i,"preDestroyMethods","destroy");var n=i;typeof n.destroy=="function"&&n.destroy()}),[]):[]},r}();function d$(r,e){var t=[null].concat(e),i=r.bind.apply(r,t);return new i}function Dx(r,e,t){var i=al(r.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function we(r,e,t){var i=al(r.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function nn(r,e,t){var i=al(r.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function Ie(r){return function(e){var t=al(e);t.beanName=r}}function M(r){return function(e,t,i){VT(e,r,!1,e,t,null)}}function It(r){return function(e,t,i){VT(e,r,!0,e,t,null)}}function VT(r,e,t,i,n,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var s=al(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:n,beanName:e,optional:t})}function bn(r){return function(e,t,i){var n=typeof e=="function"?e:e.constructor,o;if(typeof i=="number"){var s=void 0;t?(o=al(n),s=t):(o=al(n),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][i]=r}}}function al(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Bf=function(){return Bf=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Bf.apply(this,arguments)},Ix=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fp=function(r,e){return function(t,i){e(t,i,r)}},la=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(e,t,i,n){if(n===void 0&&(n=null),this.frameworkOverrides=i,this.gridOptionsWrapper=t,n){var o=t.useAsyncEvents();this.addGlobalListener(n,o)}},r.prototype.getListeners=function(e,t,i){var n=t?this.allAsyncListeners:this.allSyncListeners,o=n.get(e);return!o&&i&&(o=new Set,n.set(e,o)),o},r.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},r.prototype.addEventListener=function(e,t,i){i===void 0&&(i=!1),this.getListeners(e,i,!0).add(t)},r.prototype.removeEventListener=function(e,t,i){i===void 0&&(i=!1);var n=this.getListeners(e,i,!1);if(!!n&&(n.delete(t),n.size===0)){var o=i?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},r.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},r.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},r.prototype.dispatchEvent=function(e){var t=e;this.gridOptionsWrapper&&(t=Bf(Bf({},e),{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},r.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},r.prototype.dispatchToListeners=function(e,t){var i=this,n=e.type,o=function(l){return l.forEach(function(u){t?i.dispatchAsync(function(){return u(e)}):u(e)})},s=this.getListeners(n,t,!1);s&&o(s);var a=t?this.globalAsyncListeners:this.globalSyncListeners;a.forEach(function(l){t?i.dispatchAsync(function(){return i.frameworkOverrides.dispatchEvent(n,function(){return l(n,e)},!0)}):i.frameworkOverrides.dispatchEvent(n,function(){return l(n,e)},!0)})},r.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},Ix([fp(0,bn("loggerFactory")),fp(1,bn("gridOptionsWrapper")),fp(2,bn("frameworkOverrides")),fp(3,bn("globalEventListener"))],r.prototype,"setBeans",null),r=Ix([Ie("eventService")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var k=function(){function r(){}return r.ROW_BUFFER_SIZE=10,r.LAYOUT_INTERVAL=500,r.BATCH_WAIT_MILLIS=50,r.EXPORT_TYPE_DRAG_COPY="dragCopy",r.EXPORT_TYPE_CLIPBOARD="clipboard",r.EXPORT_TYPE_EXCEL="excel",r.EXPORT_TYPE_CSV="csv",r.ROW_MODEL_TYPE_INFINITE="infinite",r.ROW_MODEL_TYPE_VIEWPORT="viewport",r.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",r.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",r.ALWAYS="always",r.ONLY_WHEN_GROUPING="onlyWhenGrouping",r.PINNED_TOP="top",r.PINNED_BOTTOM="bottom",r.DOM_LAYOUT_NORMAL="normal",r.DOM_LAYOUT_PRINT="print",r.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",r.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",r.SOURCE_PASTE="paste",r.PINNED_RIGHT="right",r.PINNED_LEFT="left",r.SORT_ASC="asc",r.SORT_DESC="desc",r.INPUT_SELECTOR="input, select, button, textarea",r.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",r.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Xe;(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.CommunityAllModules="@ag-grid-community/all",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.EnterpriseAllModules="@ag-grid-enterprise/all",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue",r.PolymerModule="@ag-grid-community/polymer"})(Xe||(Xe={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var et=function(){function r(){}return r.register=function(e,t){t===void 0&&(t=!0),r.modulesMap[e.moduleName]=e,r.moduleBased===void 0?r.moduleBased=t:r.moduleBased!==t&&mt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.registerModules=function(e,t){t===void 0&&(t=!0),e&&e.forEach(function(i){return r.register(i,t)})},r.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var i=t+e,n;return r.moduleBased?n="AG Grid: unable to use "+t+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":n="AG Grid: unable to use "+t+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",mt(function(){console.warn(n)},i),!1},r.isRegistered=function(e){return!!r.modulesMap[e]},r.getRegisteredModules=function(){return dl(r.modulesMap)},r.isPackageBased=function(){return!r.moduleBased},r.modulesMap={},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},p$=0,St=function(){function r(e,t,i,n){this.instanceId=p$++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new la,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(e){e.sort!==void 0?(e.sort===k.SORT_ASC||e.sort===k.SORT_DESC)&&(this.sort=e.sort):(e.initialSort===k.SORT_ASC||e.initialSort===k.SORT_DESC)&&(this.sort=e.initialSort);var t=Cr(e.sortIndex),i=Cr(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);var n=uo(e.hide),o=uo(e.initialHide);n!==void 0?this.visible=!n:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var s=Cr(e.flex),a=Cr(e.initialFlex);s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},r.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_COL_DEF_CHANGED,"api"))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(e){this.parent=e},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},r.prototype.initDotNotation=function(){var e=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=fe(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=fe(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},r.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},r.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(e){if(Ue(this.colDef)||Ue(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter||!!this.colDef.filterFramework;return e},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.validate=function(){var e=this.colDef;function t(s,a,l){mt(function(){l?console.warn(s,l):mt(function(){return console.warn(s)},a)},a)}var i=this.gridOptionsWrapper.isRowModelDefault();if(i&&!et.isRegistered(Xe.RowGroupingModule)){var n=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"];n.forEach(function(s){fe(e[s])&&(et.isPackageBased()?t("AG Grid: "+s+" is only valid in ag-grid-enterprise, your column definition should not have "+s,"ColumnRowGroupingMissing"+s):t("AG Grid: "+s+" is only valid with AG Grid Enterprise Module "+Xe.RowGroupingModule+" - your column definition should not have "+s,"ColumnRowGroupingMissing"+s))})}if(et.isRegistered(Xe.RichSelectModule)||(this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&(et.isPackageBased()?t("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):t("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+Xe.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()){var o=["rowGroup","rowGroupIndex","pivot","pivotIndex"];o.forEach(function(s){fe(e[s])&&t("AG Grid: "+s+" is not possible when doing tree data, your column definition should not have "+s,"TreeDataCannotRowGroup")})}fe(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),e.pinnedRowCellRenderer&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererParams&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererFramework&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowValueGetter&&t("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},r.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1},r.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsWrapper.isEnableGroupEdit()?!1:this.isColumnFunc(e,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!uo(this.colDef.suppressFillHandle)},r.prototype.isAutoHeight=function(){return!!uo(this.colDef.autoHeight)},r.prototype.isAutoHeaderHeight=function(){return!!uo(this.colDef.autoHeaderHeight)},r.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},r.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!uo(this.colDef.resizable)},r.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var i=this.createColumnFunctionCallbackParams(e),n=t;return n(i)}return!1},r.prototype.setMoving=function(e,t){t===void 0&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_MOVING_CHANGED,t))},r.prototype.createColumnEvent=function(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(e,t){t===void 0&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_SORT_CHANGED,t)))},r.prototype.setMenuVisible=function(e,t){t===void 0&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_MENU_VISIBLE_CHANGED,t)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortAscending=function(){return this.sort===k.SORT_ASC},r.prototype.isSortDescending=function(){return this.sort===k.SORT_DESC},r.prototype.isSortNone=function(){return Ue(this.sort)},r.prototype.isSorting=function(){return fe(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(e){this.sortIndex=e},r.prototype.setAggFunc=function(e){this.aggFunc=e},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(e,t){t===void 0&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_LEFT_CHANGED,t)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(e,t,i){t===void 0&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_FILTER_ACTIVE_CHANGED,t)));var n=this.createColumnEvent(r.EVENT_FILTER_CHANGED,t);i&&Zn(n,i),this.eventService.dispatchEvent(n)},r.prototype.setPinned=function(e){e===!0||e===k.PINNED_LEFT?this.pinned=k.PINNED_LEFT:e===k.PINNED_RIGHT?this.pinned=k.PINNED_RIGHT:this.pinned=null},r.prototype.setFirstRightPinned=function(e,t){t===void 0&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_FIRST_RIGHT_PINNED_CHANGED,t)))},r.prototype.setLastLeftPinned=function(e,t){t===void 0&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_LAST_LEFT_PINNED_CHANGED,t)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return this.pinned===k.PINNED_LEFT||this.pinned===k.PINNED_RIGHT},r.prototype.isPinnedLeft=function(){return this.pinned===k.PINNED_LEFT},r.prototype.isPinnedRight=function(){return this.pinned===k.PINNED_RIGHT},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(e,t){t===void 0&&(t="api");var i=e===!0;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_VISIBLE_CHANGED,t)))},r.prototype.isVisible=function(){return this.visible},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.getColId()},r.prototype.getUniqueId=function(){return this.getId()},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},r.prototype.createBaseColDefParams=function(e){var t={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return t},r.prototype.getColSpan=function(e){if(Ue(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)},r.prototype.getRowSpan=function(e){if(Ue(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)},r.prototype.setActualWidth=function(e,t,i){t===void 0&&(t="api"),i===void 0&&(i=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t))},r.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_WIDTH_CHANGED,e))},r.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},r.prototype.setMinimum=function(e){e===void 0&&(e="api"),fe(this.minWidth)&&this.setActualWidth(this.minWidth,e)},r.prototype.setRowGroupActive=function(e,t){t===void 0&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_ROW_GROUP_CHANGED,t)))},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(e,t){t===void 0&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_PIVOT_CHANGED,t)))},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(e,t){t===void 0&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(r.EVENT_VALUE_CHANGED,t)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},r.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},r.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},r.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return t==null&&(t=e),t},r.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),this.colDef?!!this.colDef.lockPosition:!1},r.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),this.colDef?!!this.colDef.lockVisible:!1},r.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),this.colDef?!!this.colDef.lockPinned:!1},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",fv([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),fv([M("columnUtils")],r.prototype,"columnUtils",void 0),fv([we],r.prototype,"initialise",null),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function kT(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++){var i=r[t];if(fe(i))return i}return null}function f$(r){return r!=null&&r.length>0}function Ut(r){if(!(!r||!r.length))return r[r.length-1]}function Us(r,e,t){return r==null&&e==null?!0:r!=null&&e!=null&&r.length===e.length&&r.every(function(i,n){return t?t(i,e[n]):e[n]===i})}function g$(r,e){return Us(r,e)}function m$(r,e){return Us(r,e)}function BT(r){return r.sort(function(e,t){return e-t})}function v$(r,e){if(!!r)for(var t=r.length-2;t>=0;t--){var i=r[t]===e,n=r[t+1]===e;i&&n&&r.splice(t+1,1)}}function hn(r,e){var t=r.indexOf(e);t>=0&&r.splice(t,1)}function JC(r,e){e.forEach(function(t){return hn(r,t)})}function Fh(r,e,t){r.splice(t,0,e)}function y$(r,e,t){if(!(r==null||e==null))for(var i=e.length-1;i>=0;i--){var n=e[i];Fh(r,n,t)}}function l_(r,e,t){JC(r,e),e.slice().reverse().forEach(function(i){return Fh(r,i,t)})}function tr(r,e){return r.indexOf(e)>-1}function UT(r){return[].concat.apply([],r)}function u_(r,e){e==null||r==null||e.forEach(function(t){return r.push(t)})}function _$(r){return r.map(qC)}function C$(r,e){if(r!=null)for(var t=r.length-1;t>=0;t--)e(r[t],t)}var w$=Object.freeze({__proto__:null,firstExistingValue:kT,existsAndNotEmpty:f$,last:Ut,areEqual:Us,compareArrays:g$,shallowCompare:m$,sortNumerically:BT,removeRepeatsFromArray:v$,removeFromArray:hn,removeAllFromArray:JC,insertIntoArray:Fh,insertArrayIntoArray:y$,moveInArray:l_,includes:tr,flatten:UT,pushAll:u_,toStrings:_$,forEachReverse:C$});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var S$=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gn=function(){function r(e,t,i,n){this.displayedChildren=[],this.localEventService=new la,this.groupId=t,this.instanceId=i,this.providedColumnGroup=e,this.pinned=n}return r.createUniqueId=function(e,t){return e+"_"+t},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(e){this.parent=e},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.instanceId)},r.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},r.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(n){n instanceof r&&n.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=Ut(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(e){return{type:e}},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(i){e===i&&(t=!0),i instanceof r&&i.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},r.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},r.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},r.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},r.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof St?e.push(t):t instanceof r&&t.addDisplayedLeafColumns(e)})},r.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof St?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},r.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},r.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var i=t?t.providedColumnGroup.isExpandable():!1;if(!i){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(n){var o=n instanceof r&&(!n.displayedChildren||!n.displayedChildren.length);if(!o){var s=n.getColumnGroupShow();switch(s){case r.HEADER_GROUP_SHOW_OPEN:t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(n);break;case r.HEADER_GROUP_SHOW_CLOSED:t.providedColumnGroup.isExpanded()||e.displayedChildren.push(n);break;default:e.displayedChildren.push(n);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.HEADER_GROUP_SHOW_OPEN="open",r.HEADER_GROUP_SHOW_CLOSED="closed",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",S$([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _i=function(){function r(e,t,i,n){this.localEventService=new la,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}return r.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.children=void 0,this.expandable=void 0},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:r.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(e){this.children=e},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.addLeafColumns=function(e){!this.children||this.children.forEach(function(t){t instanceof St?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(!!e)return e.columnGroupShow},r.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener(St.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))})},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,i=!1,n=this.findChildrenRemovingPadding(),o=0,s=n.length;o<s;o++){var a=n[o];if(!!a.isVisible()){var l=a.getColumnGroupShow();l===gn.HEADER_GROUP_SHOW_OPEN?(e=!0,i=!0):l===gn.HEADER_GROUP_SHOW_CLOSED?(t=!0,i=!0):(e=!0,t=!0)}}var u=e&&t&&i;if(this.expandable!==u){this.expandable=u;var c={type:r.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},r.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(i){i.forEach(function(n){var o=n instanceof r&&n.isPadding();o?t(n.children):e.push(n)})};return t(this.children),e},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var E$={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zT="__ag_Grid_Stop_Propagation",x$=["touchstart","touchend","touchmove","touchcancel"],gv={};function Vu(r){r[zT]=!0}function So(r){return r[zT]===!0}var QC=function(){var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof gv[t]=="boolean")return gv[t];var i=document.createElement(r[t]||"div");return t="on"+t,gv[t]=t in i};return e}();function Uf(r,e,t){for(var i=e.target;i;){var n=r.getDomData(i,t);if(n)return n;i=i.parentElement}return null}function R$(r,e){r.addEventListener("changed",e),r.addEventListener("paste",e),r.addEventListener("input",e)}function zf(r,e){return!e||!r?!1:ew(e).indexOf(r)>=0}function jT(r){for(var e=[],t=r.target;t;)e.push(t),t=t.parentElement;return e}function b$(r){r.__agGridEventPath=ew(r)}function ew(r){var e=r;return e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:jT(r)}function $T(r,e,t,i){var n=tr(x$,t),o=n?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(e,t,i,o)}var M$=Object.freeze({__proto__:null,stopPropagationForAgGrid:Vu,isStopPropagationForAgGrid:So,isEventSupported:QC,getCtrlForEvent:Uf,addChangeListener:R$,isElementInEventPath:zf,createEventPath:jT,addAgGridEventPath:b$,getEventPath:ew,addSafePassiveEventListener:$T});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Ec=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},me=function(){function r(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!e.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new la),this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},r.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},r.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},r.prototype.addManagedListener=function(e,t,i){var n=this;if(!this.destroyed){e instanceof HTMLElement?$T(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);var o=function(){return e.removeEventListener(t,i),n.destroyFunctions=n.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},r.prototype.createManagedBean=function(e,t){var i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i},r.prototype.createBean=function(e,t,i){return(t||this.getContext()).createBean(e,i)},r.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},r.prototype.destroyBeans=function(e,t){var i=this;return e&&e.forEach(function(n){return i.destroyBean(n,t)}),[]},r.EVENT_DESTROYED="destroyed",Ec([M("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Ec([M("context")],r.prototype,"context",void 0),Ec([M("eventService")],r.prototype,"eventService",void 0),Ec([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),Ec([nn],r.prototype,"destroy",null),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var T$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},P$=function(r,e){return function(t,i){e(t,i,r)}},O$=function(r){T$(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,i,n){var o=new t$,s=this.extractExistingTreeData(n),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(t,0,i,a,o,l),h=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+h);var d=this.balanceColumnTree(c,0,h,o),p=function(f,m){f instanceof _i&&f.setupExpandable(),f.setOriginalParent(m)};return this.columnUtils.depthFirstOriginalTreeSearch(null,d,p),{columnTree:d,treeDept:h}},e.prototype.extractExistingTreeData=function(t){var i=[],n=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){if(s instanceof _i){var a=s;n.push(a)}else{var l=s;o.push(l.getId()),i.push(l)}}),{existingCols:i,existingGroups:n,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,i){var n=this;return t.map(function(o){return n.createAutoGroupTreeItem(i,o)})},e.prototype.createAutoGroupTreeItem=function(t,i){for(var n=this.findDepth(t),o=i,s=n-1;s>=0;s--){var a=new _i(null,"FAKE_PATH_"+i.getId()+"}_"+s,!0,s);this.context.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return o},e.prototype.findDepth=function(t){for(var i=0,n=t;n&&n[0]&&n[0]instanceof _i;)i++,n=n[0].getChildren();return i},e.prototype.balanceColumnTree=function(t,i,n,o){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l instanceof _i){var u=l,c=this.balanceColumnTree(u.getChildren(),i+1,n,o);u.setChildren(c),s.push(u)}else{for(var h=void 0,d=void 0,p=n-1;p>=i;p--){var f=o.getUniqueKey(null,null),m=this.createMergedColGroupDef(null),g=new _i(m,f,!0,i);this.context.createBean(g),d&&d.setChildren([g]),d=g,h||(h=d)}if(h&&d){s.push(h);var y=t.some(function(C){return C instanceof _i});if(y){d.setChildren([l]);continue}else{d.setChildren(t);break}}s.push(l)}}return s},e.prototype.findMaxDept=function(t,i){for(var n=i,o=0;o<t.length;o++){var s=t[o];if(s instanceof _i){var a=s,l=this.findMaxDept(a.getChildren(),i+1);n<l&&(n=l)}}return n},e.prototype.recursivelyCreateColumns=function(t,i,n,o,s,a){var l=this;return(t||[]).map(function(u){return l.isColumnGroup(u)?l.createColumnGroup(n,u,i,o,s,a):l.createColumn(n,u,o,s)})},e.prototype.createColumnGroup=function(t,i,n,o,s,a){var l=this.createMergedColGroupDef(i),u=s.getUniqueKey(l.groupId||null,null),c=this.findExistingGroup(i,a),h;c?(h=c,h.reset(l,n),hn(a,c)):(h=new _i(l,u,!1,n),this.context.createBean(h));var d=this.recursivelyCreateColumns(l.children,n+1,t,o,s,a);return h.setChildren(d),h},e.prototype.createMergedColGroupDef=function(t){var i={};return Object.assign(i,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(i,t),this.checkForDeprecatedItems(i),i},e.prototype.createColumn=function(t,i,n,o){var s=this.mergeColDefs(i);this.checkForDeprecatedItems(s);var a=this.findExistingColumn(i,n);if(n&&a&&hn(n,a),a)a.setColDef(s,i),this.applyColumnState(a,s);else{var l=o.getUniqueKey(s.colId,s.field);a=new St(s,i,l,t),this.context.createBean(a)}return a},e.prototype.applyColumnState=function(t,i){var n=Cr(i.flex);n!==void 0&&t.setFlex(n);var o=t.getFlex()<=0;if(o){var s=Cr(i.width);if(s!=null)t.setActualWidth(s);else{var a=t.getActualWidth();t.setActualWidth(a)}}i.sort!==void 0&&(i.sort==k.SORT_ASC||i.sort==k.SORT_DESC?t.setSort(i.sort):t.setSort(void 0));var l=Cr(i.sortIndex);l!==void 0&&t.setSortIndex(l);var u=uo(i.hide);u!==void 0&&t.setVisible(!u),i.pinned!==void 0&&t.setPinned(i.pinned)},e.prototype.findExistingColumn=function(t,i){return(i||[]).find(function(n){var o=n.getUserProvidedColDef();if(!o)return!1;var s=t.colId!=null,a=t.field!=null;return s?n.getId()===t.colId:a?o.field===t.field:o===t})},e.prototype.findExistingGroup=function(t,i){return i.find(function(n){var o=n.getColGroupDef();if(!o)return!1;var s=t.groupId!=null;return s?n.getId()===t.groupId:!1})},e.prototype.mergeColDefs=function(t){var i={},n=this.gridOptionsWrapper.getDefaultColDef();Zn(i,n,!1,!0);var o=t.type;o||(o=n&&n.type),o&&this.assignColumnTypes(o,i),Zn(i,t,!1,!0);var s=this.gridOptionsWrapper.getAutoGroupColumnDef(),a=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&a&&Zn(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),i},e.prototype.assignColumnTypes=function(t,i){var n=[];if(t instanceof Array){var o=t.some(function(l){return typeof l!="string"});o?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else if(typeof t=="string")n=t.split(",");else{console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return}var s=Object.assign({},E$),a=this.gridOptionsWrapper.getColumnTypes()||{};Vt(a,function(l,u){l in s?console.warn("AG Grid: the column type '"+l+"' is a default column type and cannot be overridden."):s[l]=u}),n.forEach(function(l){var u=s[l.trim()];u?Zn(i,u,!1,!0):console.warn("AG Grid: colDef.type '"+l+"' does not correspond to defined gridOptions.columnTypes")})},e.prototype.checkForDeprecatedItems=function(t){if(t){var i=t;i.group!==void 0&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),i.headerGroup!==void 0&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),i.headerGroupShow!==void 0&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),i.suppressRowGroup!==void 0&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),i.suppressAggregation!==void 0&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(i.suppressRowGroup||i.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),i.displayName&&(console.warn("AG Grid: Found displayName "+i.displayName+", please use headerName instead, displayName is deprecated."),i.headerName=i.displayName)}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},mv([M("columnUtils")],e.prototype,"columnUtils",void 0),mv([P$(0,bn("loggerFactory"))],e.prototype,"setBeans",null),e=mv([Ie("columnFactory")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var A=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_CHANGED="rowDataChanged",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_KEY_PRESS="cellKeyPress",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_KEYBOARD_FOCUS="keyboardFocus",r.EVENT_MOUSE_FOCUS="mouseFocus",r.EVENT_STORE_UPDATED="storeUpdated",r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var YT=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var A$=/[&<>"']/g,D$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function I$(r){var e=String.fromCharCode;function t(h){var d=[];if(!h)return[];for(var p=h.length,f=0,m,g;f<p;)m=h.charCodeAt(f++),m>=55296&&m<=56319&&f<p?(g=h.charCodeAt(f++),(g&64512)==56320?d.push(((m&1023)<<10)+(g&1023)+65536):(d.push(m),f--)):d.push(m);return d}function i(h){if(h>=55296&&h<=57343)throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}function n(h,d){return e(h>>d&63|128)}function o(h){if(h>=0&&h<=31&&h!==10){var d=h.toString(16).toUpperCase(),p=d.padStart(4,"0");return"_x"+p+"_"}if((h&4294967168)==0)return e(h);var f="";return(h&4294965248)==0?f=e(h>>6&31|192):(h&4294901760)==0?(i(h),f=e(h>>12&15|224),f+=n(h,6)):(h&4292870144)==0&&(f=e(h>>18&7|240),f+=n(h,12),f+=n(h,6)),f+=e(h&63|128),f}for(var s=t(r),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function KT(r){return r==null?null:r.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})}function XT(r){return r==null?null:r.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function c_(r){return r[0].toUpperCase()+r.substr(1).toLowerCase()}function bo(r,e){if(r==null)return null;var t=r.toString().toString();return e?t:t.replace(A$,function(i){return D$[i]})}function tw(r){if(!r||r==null)return null;var e=/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,t=r.replace(e,"$1$4 $2$3$5").replace("."," ").split(" ");return t.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}var L$=Object.freeze({__proto__:null,utf8_encode:I$,camelCaseToHyphen:KT,hyphenToCamelCase:XT,capitalise:c_,escapeString:bo,camelCaseToHumanText:tw});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function qo(r){var e=new Map;return r.forEach(function(t){return e.set(t[0],t[1])}),e}function F$(r,e){var t=new Map;return r.forEach(function(i){return t.set(e(i),i)}),t}function N$(r){var e=[];return r.forEach(function(t,i){return e.push(i)}),e}var G$=Object.freeze({__proto__:null,convertToMap:qo,mapById:F$,keys:N$});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var H$=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},W$=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(H$(arguments[e]));return r},h_=function(){function r(){}return r.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],r.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],r.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],r.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],r.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","showDisabledCheckboxes","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],r.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],r.ALL_PROPERTIES=W$(r.ARRAY_PROPERTIES,r.OBJECT_PROPERTIES,r.STRING_PROPERTIES,r.NUMBER_PROPERTIES,r.FUNCTION_PROPERTIES,r.BOOLEAN_PROPERTIES),r.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var V$=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Lx=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(V$(arguments[e]));return r},jo=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],r.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","enableChartToolPanelsButton","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter"],r.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupSortComparator","defaultGroupOrderComparator","rowDragText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=Lx(r.FUNCTIONAL_PROPERTIES,r.CALLBACK_PROPERTIES),r.ALL_PROPERTIES=Lx(r.ARRAY_PROPERTIES,r.OBJECT_PROPERTIES,r.STRING_PROPERTIES,r.NUMBER_PROPERTIES,r.FUNCTION_PROPERTIES,r.BOOLEAN_PROPERTIES),r.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var d_=function(){return d_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},d_.apply(this,arguments)},k$=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Fx=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(k$(arguments[e]));return r},Kr=function(){function r(){}return r.getEventCallbacks=function(){return r.EVENT_CALLBACKS||(r.EVENT_CALLBACKS=r.EVENTS.map(function(e){return r.getCallbackForEvent(e)})),r.EVENT_CALLBACKS},r.copyAttributesToGridOptions=function(e,t,i){typeof e!="object"&&(e={});var n=e,o=function(s){return typeof t[s]<"u"};return o("groupAggFiltering")&&typeof t.groupAggFiltering!="function"&&(n.groupAggFiltering=r.toBoolean(t.groupAggFiltering),delete t.groupAggFiltering),Fx(r.ARRAY_PROPERTIES,r.STRING_PROPERTIES,r.OBJECT_PROPERTIES,r.FUNCTION_PROPERTIES,r.getEventCallbacks()).filter(o).forEach(function(s){return n[s]=t[s]}),r.BOOLEAN_PROPERTIES.filter(o).forEach(function(s){return n[s]=r.toBoolean(t[s])}),r.NUMBER_PROPERTIES.filter(o).forEach(function(s){return n[s]=r.toNumber(t[s])}),e},r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},r.processOnChange=function(e,t,i,n){if(!!e){var o=d_({},e),s=t,a=function(c){return o[c]};a("groupAggFiltering")&&(typeof o.groupAggFiltering=="function"?s.groupAggFiltering=o.groupAggFiltering:s.groupAggFiltering=r.toBoolean(o.groupAggFiltering),delete o.groupAggFiltering),a("groupDisplayType")&&typeof o.groupDisplayType.currentValue=="string"&&(i.setGroupDisplayType(o.groupDisplayType.currentValue),delete o.groupDisplayType),o.domLayout&&(i.setDomLayout(o.domLayout.currentValue),delete o.domLayout),o.rowClass&&(i.setRowClass(o.rowClass.currentValue),delete o.rowClass),o.paginationPageSize&&(i.paginationSetPageSize(r.toNumber(o.paginationPageSize.currentValue)),delete o.paginationPageSize),o.rowGroupPanelShow&&(i.setRowGroupPanelShow(o.rowGroupPanelShow.currentValue),delete o.rowGroupPanelShow),o.groupRemoveSingleChildren&&(i.setGroupRemoveSingleChildren(r.toBoolean(o.groupRemoveSingleChildren.currentValue)),delete o.groupRemoveSingleChildren),o.groupRemoveLowestSingleChildren&&(i.setGroupRemoveLowestSingleChildren(r.toBoolean(o.groupRemoveLowestSingleChildren.currentValue)),delete o.groupRemoveLowestSingleChildren),o.suppressRowDrag&&(i.setSuppressRowDrag(r.toBoolean(o.suppressRowDrag.currentValue)),delete o.suppressRowDrag),o.suppressMoveWhenRowDragging&&(i.setSuppressMoveWhenRowDragging(r.toBoolean(o.suppressMoveWhenRowDragging.currentValue)),delete o.suppressMoveWhenRowDragging),o.suppressRowClickSelection&&(i.setSuppressRowClickSelection(r.toBoolean(o.suppressRowClickSelection.currentValue)),delete o.suppressRowClickSelection),o.suppressClipboardPaste&&(i.setSuppressClipboardPaste(r.toBoolean(o.suppressClipboardPaste.currentValue)),delete o.suppressClipboardPaste),o.headerHeight&&(i.setHeaderHeight(r.toNumber(o.headerHeight.currentValue)),delete o.headerHeight),o.pivotHeaderHeight&&(i.setPivotHeaderHeight(r.toNumber(o.pivotHeaderHeight.currentValue)),delete o.pivotHeaderHeight),o.groupHeaderHeight&&(i.setGroupHeaderHeight(r.toNumber(o.groupHeaderHeight.currentValue)),delete o.groupHeaderHeight),o.pivotGroupHeaderHeight&&(i.setPivotGroupHeaderHeight(r.toNumber(o.pivotGroupHeaderHeight.currentValue)),delete o.pivotGroupHeaderHeight),o.floatingFiltersHeight&&(i.setFloatingFiltersHeight(r.toNumber(o.floatingFiltersHeight.currentValue)),delete o.floatingFiltersHeight),o.functionsReadOnly&&(i.setFunctionsReadOnly(r.toBoolean(o.functionsReadOnly.currentValue)),delete o.functionsReadOnly),Fx(r.ARRAY_PROPERTIES,r.OBJECT_PROPERTIES,r.STRING_PROPERTIES,r.getEventCallbacks()).filter(a).forEach(function(c){return s[c]=o[c].currentValue}),r.BOOLEAN_PROPERTIES.filter(a).forEach(function(c){return s[c]=r.toBoolean(o[c].currentValue)}),r.NUMBER_PROPERTIES.filter(a).forEach(function(c){return s[c]=r.toNumber(o[c].currentValue)}),o.enableCellTextSelection&&(i.setEnableCellTextSelection(r.toBoolean(o.enableCellTextSelection.currentValue)),delete o.enableCellTextSelection),o.quickFilterText&&(i.setQuickFilter(o.quickFilterText.currentValue),delete o.quickFilterText),o.autoGroupColumnDef&&(i.setAutoGroupColumnDef(o.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete o.autoGroupColumnDef),o.columnDefs&&(i.setColumnDefs(o.columnDefs.currentValue,"gridOptionsChanged"),delete o.columnDefs),o.defaultColDef&&(i.setDefaultColDef(o.defaultColDef.currentValue,"gridOptionsChanged"),delete o.defaultColDef),o.pivotMode&&(n.setPivotMode(r.toBoolean(o.pivotMode.currentValue)),delete o.pivotMode);var l=i;Object.keys(o).forEach(function(c){var h="set"+c.charAt(0).toUpperCase()+c.substring(1);l[h]&&l[h](e[c].currentValue)});var u={type:A.EVENT_COMPONENT_STATE_CHANGED};Vt(e,function(c,h){u[c]=h}),i.dispatchEvent(u)}},r.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},r.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)},r.EVENTS=[],r.PUBLIC_EVENTS=[],r.EXCLUDED_INTERNAL_EVENTS=[],r.STRING_PROPERTIES=jo.STRING_PROPERTIES,r.OBJECT_PROPERTIES=jo.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=jo.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=jo.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=jo.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=jo.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=jo.ALL_PROPERTIES,r}();Kr.EVENTS=dl(A);Kr.EXCLUDED_INTERNAL_EVENTS=[A.EVENT_SCROLLBAR_WIDTH_CHANGED,A.EVENT_CHECKBOX_CHANGED,A.EVENT_HEIGHT_SCALE_CHANGED,A.EVENT_BODY_HEIGHT_CHANGED,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,A.EVENT_SCROLL_VISIBILITY_CHANGED,A.EVENT_COLUMN_HOVER_CHANGED,A.EVENT_FLASH_CELLS,A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,A.EVENT_DISPLAYED_ROWS_CHANGED,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,A.EVENT_POPUP_TO_FRONT,A.EVENT_KEYBOARD_FOCUS,A.EVENT_MOUSE_FOCUS,A.EVENT_STORE_UPDATED,A.EVENT_COLUMN_PANEL_ITEM_DRAG_START,A.EVENT_COLUMN_PANEL_ITEM_DRAG_END,A.EVENT_FILL_START,A.EVENT_FILL_END,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,A.EVENT_FULL_WIDTH_ROW_FOCUSED,A.EVENT_HEADER_HEIGHT_CHANGED,A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED];Kr.PUBLIC_EVENTS=Kr.EVENTS.filter(function(r){return!tr(Kr.EXCLUDED_INTERNAL_EVENTS,r)});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var qT=function(){function r(){}return r.parse=function(e){if(!e)return null;if(e===!0)return{toolPanels:[r.DEFAULT_COLUMN_COMP,r.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof e=="string")return r.parse([e]);if(Array.isArray(e)){var t=[];return e.forEach(function(n){var o=r.DEFAULT_BY_KEY[n];if(!o){console.warn("AG Grid: the key "+n+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(r.DEFAULT_BY_KEY).join(","));return}t.push(o)}),t.length===0?null:{toolPanels:t,defaultToolPanel:t[0].id}}var i={toolPanels:r.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position};return i},r.parseComponents=function(e){var t=[];return e&&e.forEach(function(i){var n=null;if(typeof i=="string"){var o=r.DEFAULT_BY_KEY[i];if(!o){console.warn("AG Grid: the key "+i+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(r.DEFAULT_BY_KEY).join(","));return}n=o}else n=i;t.push(n)}),t},r.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},r.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},r.DEFAULT_BY_KEY={columns:r.DEFAULT_COLUMN_COMP,filters:r.DEFAULT_FILTER_COMP},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var B$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vv,yv,_v,Cv,wv,Sv,Ev,p_,f_,gp;function ZT(){if(gp)return gp;var r=navigator.userAgent,e=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],t,i;if(/trident/i.test(e[1]))return t=/\brv[ :]+(\d+)/g.exec(r)||[],i=t[1]!=null?parseFloat(t[1]):0,{name:"IE",version:i};if(e[1]==="Chrome"&&(t=r.match(/\bOPR|Edge\/(\d+)/),t!=null))return i=t[1]!=null?parseFloat(t[1]):0,{name:"Opera",version:i};e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],t=r.match(/version\/(\d+)/i),t!=null&&e.splice(1,1,t[1]);var n=e[0];return i=e[1]!=null?parseFloat(e[1]):0,gp={name:n,version:i},gp}function U$(){return yv===void 0&&(yv=!!document.documentMode),yv}function jg(){return _v===void 0&&(_v=!U$()&&!!window.StyleMedia),_v}function pl(){return vv===void 0&&(vv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),vv}function ad(){if(Cv===void 0){var r=window;Cv=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Cv}function iw(){if(wv===void 0){var r=window;wv=typeof r.InstallTrigger<"u"}return wv}function nw(){return Sv===void 0&&(Sv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Sv}function ua(){return Ev===void 0&&(Ev=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream),Ev}function $g(){return!pl()||ZT().version>=15}function jf(r){if(!r)return null;var e=r.tabIndex,t=r.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!iw())?null:e.toString()}function JT(){if(!document.body)return-1;var r=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var i=r*2;if(t.style.height=i+"px",i>e||t.clientHeight!==i)break;r=i}return document.body.removeChild(t),r}function QT(){return f_==null&&eP(),f_}function eP(){var r=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",r.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(f_=t,p_=t===0)}function tP(){return p_==null&&eP(),p_}function z$(){var r,e,t=["webkit","moz","o","ms"],i=document.createElement("div"),n=document.getElementsByTagName("body")[0],o=!1,s;n.appendChild(i),i.setAttribute("style",t.map(function(c){return"-"+c+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var a=window.getComputedStyle(i);if(a.overflowScrolling==="touch"&&(o=!0),!o)try{for(var l=B$(t),u=l.next();!u.done;u=l.next())if(s=u.value,a[s+"OverflowScrolling"]==="touch"){o=!0;break}}catch(c){r={error:c}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(r)throw r.error}}return i.parentNode&&i.parentNode.removeChild(i),o}function iP(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function nP(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var j$=Object.freeze({__proto__:null,getBrowserInfo:ZT,isBrowserEdge:jg,isBrowserSafari:pl,isBrowserChrome:ad,isBrowserFirefox:iw,isMacOsUserAgent:nw,isIOSUserAgent:ua,browserSupportsPreventScroll:$g,getTabIndex:jf,getMaxDivHeight:JT,getScrollbarWidth:QT,isInvisibleScrollbar:tP,hasOverflowScrolling:z$,getBodyWidth:iP,getBodyHeight:nP});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function rP(r,e,t){var i={},n=r.filter(function(o){return!e.some(function(s){return s===o})});return n.length>0&&n.forEach(function(o){return i[o]=oP(o,t)}),i}function oP(r,e,t,i){var n=i?aP:sP,o=e.map(function(s){return{value:s,relevance:n(r.toLowerCase(),s.toLocaleLowerCase())}});return o.sort(function(s,a){return a.relevance-s.relevance}),t&&(o=o.filter(function(s){return s.relevance!==0})),o.map(function(s){return s.value})}function g_(r){var e=r.toLowerCase(),t=new Array(e.length-1),i,n,o;for(i=n=0,o=t.length;n<=o;i=n+=1)t[i]=e.slice(i,i+2);return t}function sP(r,e){if(r.length===0&&e.length===0)return 0;var t=g_(r),i=g_(e),n=t.length+i.length,o=0,s,a;for(s=0,a=t.length;s<a;s++){var l=t[s],u=void 0,c=void 0;for(u=0,c=i.length;u<c;u++){var h=i[u];l===h&&o++}}return o>0?2*o/n:0}function aP(r,e){for(var t=r.replace(/\s/g,""),i=e.replace(/\s/g,""),n=0,o=0,s=0;s<t.length;s++){var a=i.indexOf(t[s],o);a!==-1&&(o=a,n+=100-o*100/1e4*100)}return n}var $$=Object.freeze({__proto__:null,fuzzyCheckStrings:rP,fuzzySuggestions:oP,get_bigrams:g_,string_distances:sP,string_weighted_distances:aP});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Eu(r,e){return r.toString().padStart(e,"0")}function lP(r,e){for(var t=[],i=r;i<=e;i++)t.push(i);return t}function $f(r){return r!==""&&!isNaN(parseFloat(r))&&isFinite(r)}function Y$(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function K$(r,e){for(var t="",i=0;i<e;i++)t+=String.fromCharCode(r&255),r>>>=8;return t}function X$(r,e,t){return typeof r!="number"?"":rw(Math.round(r*100)/100,e,t)}function rw(r,e,t){return typeof r!="number"?"":r.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}function q$(r){return r==null?null:r.reduce(function(e,t){return e+t},0)}var Z$=Object.freeze({__proto__:null,padStartWidthZeros:Eu,createArrayOfNumbers:lP,isNumeric:$f,cleanNumber:Y$,decToHex:K$,formatNumberTwoDecimalPlacesAndCommas:X$,formatNumberCommas:rw,sum:q$});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Yf=function(){return Yf=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Yf.apply(this,arguments)},ws=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Nx=function(r,e){return function(t,i){e(t,i,r)}},J$=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},xv=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(J$(arguments[e]));return r},Q$=25,e7=300,t7=5,i7=5,n7=10;function ne(r){return r===!0||r==="true"}function Rv(r){if(typeof r=="number")return r;if(typeof r=="string")return parseInt(r,10)}function r7(r,e){return r>=0?r:e}function Gx(r,e){var t=parseInt(r,10);return $f(t)&&t>0?t:e}var Re=function(){function r(){this.propertyEventService=new la,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}e=r,r.prototype.agWire=function(t,i){this.gridOptions.api=t,this.gridOptions.columnApi=i,this.checkForDeprecated(),this.checkForViolations()},r.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},r.prototype.init=function(){var t=this;this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.gridOptions.sideBar!=null&&(this.gridOptions.sideBar=qT.parse(this.gridOptions.sideBar));var i=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),i),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var n=function(s){return"AG Grid: '"+s+"' is not supported on the Server-Side Row Model"};fe(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupDefaultExpanded")),fe(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeFooter")),fe(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeTotalFooter"))}ne(this.gridOptions.enableRangeSelection)?et.assertRegistered(Xe.RangeSelectionModule,"enableRangeSelection"):(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&(this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one."),this.isMasterDetail()&&console.warn("AG Grid: groupRowsSticky and masterDetail do not work with each other, you need to pick one."),this.isPagination()&&console.warn("AG Grid: groupRowsSticky and pagination do not work with each other, you need to pick one."));var o=function(s){t.gridOptions.icons&&t.gridOptions.icons[s]&&console.warn("gridOptions.icons."+s+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};o("radioButtonOff"),o("radioButtonOn"),o("checkboxChecked"),o("checkboxUnchecked"),o("checkboxIndeterminate"),this.getScrollbarWidth()},r.prototype.checkColumnDefProperties=function(){var t=this;this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(i){var n=Object.getOwnPropertyNames(i),o=xv(h_.ALL_PROPERTIES,h_.FRAMEWORK_PROPERTIES);t.checkProperties(n,o,o,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},r.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),i=xv(jo.ALL_PROPERTIES,jo.FRAMEWORK_PROPERTIES,dl(A).map(function(o){return Kr.getCallbackForEvent(o)})),n=xv(i,["api","columnApi"]);this.checkProperties(t,n,i,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},r.prototype.checkProperties=function(t,i,n,o,s){var a=rP(t,i,n);Vt(a,function(l,u){console.warn("ag-grid: invalid "+o+" property '"+l+"' did you mean any of these: "+u.slice(0,8).join(", "))}),Object.keys(a).length>0&&console.warn("ag-grid: to see all the valid "+o+" properties please check: "+s)},r.prototype.mergeGridCommonParams=function(t){var i=this;if(t){var n=function(o){var s=Yf(Yf({},o),{api:i.getApi(),columnApi:i.getColumnApi(),context:i.getContext()});return t(s)};return n}return t},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(t,i){var n=t[this.getDomDataKey()];return n?n[i]:void 0},r.prototype.setDomData=function(t,i,n){var o=this.getDomDataKey(),s=t[o];Ue(s)&&(s={},t[o]=s),s[i]=n},r.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},r.prototype.isSuppressRowDeselection=function(){return ne(this.gridOptions.suppressRowDeselection)},r.prototype.isRowSelectionMulti=function(){return this.gridOptions.rowSelection==="multiple"},r.prototype.isRowMultiSelectWithClick=function(){return ne(this.gridOptions.rowMultiSelectWithClick)},r.prototype.getContext=function(){return this.gridOptions.context},r.prototype.isPivotMode=function(){return ne(this.gridOptions.pivotMode)},r.prototype.isSuppressExpandablePivotGroups=function(){return ne(this.gridOptions.suppressExpandablePivotGroups)},r.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},r.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},r.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===k.ROW_MODEL_TYPE_INFINITE},r.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===k.ROW_MODEL_TYPE_VIEWPORT},r.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===k.ROW_MODEL_TYPE_SERVER_SIDE},r.prototype.isRowModelDefault=function(){return Ue(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===k.ROW_MODEL_TYPE_CLIENT_SIDE},r.prototype.isFullRowEdit=function(){return this.gridOptions.editType==="fullRow"},r.prototype.isSuppressFocusAfterRefresh=function(){return ne(this.gridOptions.suppressFocusAfterRefresh)},r.prototype.isSuppressBrowserResizeObserver=function(){return ne(this.gridOptions.suppressBrowserResizeObserver)},r.prototype.isSuppressMaintainUnsortedOrder=function(){return ne(this.gridOptions.suppressMaintainUnsortedOrder)},r.prototype.isSuppressClearOnFillReduction=function(){return ne(this.gridOptions.suppressClearOnFillReduction)},r.prototype.isShowToolPanel=function(){return ne(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},r.prototype.getSideBar=function(){return this.gridOptions.sideBar},r.prototype.isSuppressTouch=function(){return ne(this.gridOptions.suppressTouch)},r.prototype.isMaintainColumnOrder=function(){return ne(this.gridOptions.maintainColumnOrder)},r.prototype.isSuppressRowTransform=function(){return ne(this.gridOptions.suppressRowTransform)},r.prototype.isSuppressColumnStateEvents=function(){return ne(this.gridOptions.suppressColumnStateEvents)},r.prototype.isAllowDragFromColumnsToolPanel=function(){return ne(this.gridOptions.allowDragFromColumnsToolPanel)},r.prototype.useAsyncEvents=function(){return!ne(this.gridOptions.suppressAsyncEvents)},r.prototype.isEnableCellChangeFlash=function(){return ne(this.gridOptions.enableCellChangeFlash)},r.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},r.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},r.prototype.isGroupSelectsChildren=function(){return ne(this.gridOptions.groupSelectsChildren)},r.prototype.isSuppressRowHoverHighlight=function(){return ne(this.gridOptions.suppressRowHoverHighlight)},r.prototype.isColumnHoverHighlight=function(){return ne(this.gridOptions.columnHoverHighlight)},r.prototype.isGroupSelectsFiltered=function(){return ne(this.gridOptions.groupSelectsFiltered)},r.prototype.isGroupHideOpenParents=function(){return ne(this.gridOptions.groupHideOpenParents)},r.prototype.isGroupMaintainOrder=function(){return ne(this.gridOptions.groupMaintainOrder)},r.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},r.prototype.isColumnsSortingCoupledToGroup=function(){var t,i=this.getAutoGroupColumnDef(),n=this.isRowModelDefault();return n&&!(!((t=i)===null||t===void 0)&&t.comparator)},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):ne(this.gridOptions.groupHideOpenParents)},r.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType):!1},r.prototype.isRowGroupPanelSuppressSort=function(){return ne(this.gridOptions.rowGroupPanelSuppressSort)},r.prototype.isGroupRowsSticky=function(){return ne(this.gridOptions.groupRowsSticky)},r.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType):!1;return t?!0:this.gridOptions.treeDataDisplayType?this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType):!1},r.prototype.isGroupRemoveSingleChildren=function(){return ne(this.gridOptions.groupRemoveSingleChildren)},r.prototype.isGroupRemoveLowestSingleChildren=function(){return ne(this.gridOptions.groupRemoveLowestSingleChildren)},r.prototype.isGroupIncludeFooter=function(){return ne(this.gridOptions.groupIncludeFooter)},r.prototype.isGroupIncludeTotalFooter=function(){return ne(this.gridOptions.groupIncludeTotalFooter)},r.prototype.isGroupSuppressBlankHeader=function(){return ne(this.gridOptions.groupSuppressBlankHeader)},r.prototype.isSuppressRowClickSelection=function(){return ne(this.gridOptions.suppressRowClickSelection)},r.prototype.isSuppressCellFocus=function(){return ne(this.gridOptions.suppressCellFocus)},r.prototype.isSuppressMultiSort=function(){return ne(this.gridOptions.suppressMultiSort)},r.prototype.isAlwaysMultiSort=function(){return ne(this.gridOptions.alwaysMultiSort)},r.prototype.isMultiSortKeyCtrl=function(){return this.gridOptions.multiSortKey==="ctrl"},r.prototype.isPivotSuppressAutoColumn=function(){return ne(this.gridOptions.pivotSuppressAutoColumn)},r.prototype.isSuppressDragLeaveHidesColumns=function(){return ne(this.gridOptions.suppressDragLeaveHidesColumns)},r.prototype.isSuppressRowGroupHidesColumns=function(){return ne(this.gridOptions.suppressRowGroupHidesColumns)},r.prototype.isSuppressScrollOnNewData=function(){return ne(this.gridOptions.suppressScrollOnNewData)},r.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return ne(this.gridOptions.suppressScrollWhenPopupsAreOpen)},r.prototype.isRowDragEntireRow=function(){return ne(this.gridOptions.rowDragEntireRow)},r.prototype.getRowDragText=function(t){if(t){var i=t.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptions.rowDragText},r.prototype.isSuppressRowDrag=function(){return ne(this.gridOptions.suppressRowDrag)},r.prototype.isRowDragManaged=function(){return ne(this.gridOptions.rowDragManaged)},r.prototype.isSuppressMoveWhenRowDragging=function(){return ne(this.gridOptions.suppressMoveWhenRowDragging)},r.prototype.isRowDragMultiRow=function(){return ne(this.gridOptions.rowDragMultiRow)},r.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||k.DOM_LAYOUT_NORMAL,i=[k.DOM_LAYOUT_PRINT,k.DOM_LAYOUT_AUTO_HEIGHT,k.DOM_LAYOUT_NORMAL];return i.indexOf(t)===-1?(mt(function(){return console.warn("AG Grid: "+t+" is not valid for DOM Layout, valid values are "+k.DOM_LAYOUT_NORMAL+", "+k.DOM_LAYOUT_AUTO_HEIGHT+" and "+k.DOM_LAYOUT_PRINT)},"warn about dom layout values"),k.DOM_LAYOUT_NORMAL):t},r.prototype.isSuppressHorizontalScroll=function(){return ne(this.gridOptions.suppressHorizontalScroll)},r.prototype.isSuppressMaxRenderedRowRestriction=function(){return ne(this.gridOptions.suppressMaxRenderedRowRestriction)},r.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ne(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},r.prototype.isAlwaysShowHorizontalScroll=function(){return ne(this.gridOptions.alwaysShowHorizontalScroll)},r.prototype.isAlwaysShowVerticalScroll=function(){return ne(this.gridOptions.alwaysShowVerticalScroll)},r.prototype.isDebounceVerticalScrollbar=function(){return ne(this.gridOptions.debounceVerticalScrollbar)},r.prototype.isSuppressLoadingOverlay=function(){return ne(this.gridOptions.suppressLoadingOverlay)},r.prototype.isSuppressNoRowsOverlay=function(){return ne(this.gridOptions.suppressNoRowsOverlay)},r.prototype.isSuppressFieldDotNotation=function(){return ne(this.gridOptions.suppressFieldDotNotation)},r.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},r.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},r.prototype.isFunctionsPassive=function(){return ne(this.gridOptions.functionsPassive)},r.prototype.isSuppressChangeDetection=function(){return ne(this.gridOptions.suppressChangeDetection)},r.prototype.isSuppressAnimationFrame=function(){return ne(this.gridOptions.suppressAnimationFrame)},r.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},r.prototype.isCacheQuickFilter=function(){return ne(this.gridOptions.cacheQuickFilter)},r.prototype.isUnSortIcon=function(){return ne(this.gridOptions.unSortIcon)},r.prototype.isSuppressMenuHide=function(){return ne(this.gridOptions.suppressMenuHide)},r.prototype.isEnterMovesDownAfterEdit=function(){return ne(this.gridOptions.enterMovesDownAfterEdit)},r.prototype.isEnterMovesDown=function(){return ne(this.gridOptions.enterMovesDown)},r.prototype.isUndoRedoCellEditing=function(){return ne(this.gridOptions.undoRedoCellEditing)},r.prototype.getUndoRedoCellEditingLimit=function(){return Rv(this.gridOptions.undoRedoCellEditingLimit)},r.prototype.isEnableCellEditingOnBackspace=function(){return ne(this.gridOptions.enableCellEditingOnBackspace)},r.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},r.prototype.getRowClass=function(){return this.gridOptions.rowClass},r.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},r.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},r.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},r.prototype.isServerSideInfiniteScroll=function(){return ne(this.gridOptions.serverSideInfiniteScroll)},r.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},r.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},r.prototype.getPopupParent=function(){return this.gridOptions.popupParent},r.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},r.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},r.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},r.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},r.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},r.prototype.getInitialGroupOrderComparator=function(){var t=this.gridOptions,i=t.initialGroupOrderComparator,n=t.defaultGroupOrderComparator;if(i)return this.mergeGridCommonParams(i);if(n)return function(o){return n(o.nodeA,o.nodeB)}},r.prototype.getIsFullWidthCellFunc=function(){var t=this.gridOptions,i=t.isFullWidthRow,n=t.isFullWidthCell;if(i)return this.mergeGridCommonParams(i);if(n)return function(o){return n(o.rowNode)}},r.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},r.prototype.isEmbedFullWidthRows=function(){return ne(this.gridOptions.embedFullWidthRows)||ne(this.gridOptions.deprecatedEmbedFullWidthRows)},r.prototype.isDetailRowAutoHeight=function(){return ne(this.gridOptions.detailRowAutoHeight)},r.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},r.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},r.prototype.getApi=function(){return this.gridOptions.api},r.prototype.getColumnApi=function(){return this.gridOptions.columnApi},r.prototype.isReadOnlyEdit=function(){return ne(this.gridOptions.readOnlyEdit)},r.prototype.isImmutableData=function(){var t=this.gridOptions.getRowId!=null,i=ne(this.gridOptions.immutableData),n=ne(this.gridOptions.resetRowDataOnUpdate);return n?!1:t||i},r.prototype.isEnsureDomOrder=function(){return ne(this.gridOptions.ensureDomOrder)},r.prototype.isEnableCharts=function(){return ne(this.gridOptions.enableCharts)?et.assertRegistered(Xe.GridChartsModule,"enableCharts"):!1},r.prototype.isEnableChartToolPanelsButton=function(){return ne(this.gridOptions.enableChartToolPanelsButton)},r.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},r.prototype.isSingleClickEdit=function(){return ne(this.gridOptions.singleClickEdit)},r.prototype.isSuppressClickEdit=function(){return ne(this.gridOptions.suppressClickEdit)},r.prototype.isStopEditingWhenCellsLoseFocus=function(){return ne(this.gridOptions.stopEditingWhenCellsLoseFocus)},r.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},r.prototype.getMaxConcurrentDatasourceRequests=function(){var t=Rv(this.gridOptions.maxConcurrentDatasourceRequests);if(t==null)return 2;if(!(t<=0))return t},r.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},r.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},r.prototype.getPaginationPageSize=function(){return Rv(this.gridOptions.paginationPageSize)},r.prototype.isPaginateChildRows=function(){var t=this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren();return t?!0:ne(this.gridOptions.paginateChildRows)},r.prototype.getCacheBlockSize=function(){return Gx(this.gridOptions.cacheBlockSize)},r.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},r.prototype.getServerSideInitialRowCount=function(){var t=this.gridOptions.serverSideInitialRowCount;return typeof t=="number"&&t>0?t:1},r.prototype.isPurgeClosedRowNodes=function(){return ne(this.gridOptions.purgeClosedRowNodes)},r.prototype.isSuppressPaginationPanel=function(){return ne(this.gridOptions.suppressPaginationPanel)},r.prototype.getRowData=function(){return this.gridOptions.rowData},r.prototype.isEnableRtl=function(){return ne(this.gridOptions.enableRtl)},r.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},r.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},r.prototype.isAngularCompileRows=function(){return ne(this.gridOptions.angularCompileRows)},r.prototype.isAngularCompileFilters=function(){return ne(this.gridOptions.angularCompileFilters)},r.prototype.isDebug=function(){return ne(this.gridOptions.debug)},r.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},r.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},r.prototype.getDatasource=function(){return this.gridOptions.datasource},r.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},r.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},r.prototype.isAccentedSort=function(){return ne(this.gridOptions.accentedSort)},r.prototype.isEnableBrowserTooltips=function(){return ne(this.gridOptions.enableBrowserTooltips)},r.prototype.isEnableCellExpressions=function(){return ne(this.gridOptions.enableCellExpressions)},r.prototype.isEnableGroupEdit=function(){return ne(this.gridOptions.enableGroupEdit)},r.prototype.isSuppressMiddleClickScrolls=function(){return ne(this.gridOptions.suppressMiddleClickScrolls)},r.prototype.isPreventDefaultOnContextMenu=function(){return ne(this.gridOptions.preventDefaultOnContextMenu)},r.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ne(this.gridOptions.suppressPreventDefaultOnMouseWheel)},r.prototype.isSuppressColumnVirtualisation=function(){return ne(this.gridOptions.suppressColumnVirtualisation)},r.prototype.isSuppressRowVirtualisation=function(){return ne(this.gridOptions.suppressRowVirtualisation)},r.prototype.isSuppressContextMenu=function(){return ne(this.gridOptions.suppressContextMenu)},r.prototype.isAllowContextMenuWithControlKey=function(){return ne(this.gridOptions.allowContextMenuWithControlKey)},r.prototype.isSuppressCopyRowsToClipboard=function(){return ne(this.gridOptions.suppressCopyRowsToClipboard)},r.prototype.isSuppressCopySingleCellRanges=function(){return ne(this.gridOptions.suppressCopySingleCellRanges)},r.prototype.isCopyHeadersToClipboard=function(){return ne(this.gridOptions.copyHeadersToClipboard)},r.prototype.isCopyGroupHeadersToClipboard=function(){return ne(this.gridOptions.copyGroupHeadersToClipboard)},r.prototype.isSuppressClipboardPaste=function(){return ne(this.gridOptions.suppressClipboardPaste)},r.prototype.isSuppressLastEmptyLineOnPaste=function(){return ne(this.gridOptions.suppressLastEmptyLineOnPaste)},r.prototype.isPagination=function(){return ne(this.gridOptions.pagination)},r.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ne(this.gridOptions.suppressEnterpriseResetOnNewColumns)},r.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},r.prototype.getAsyncTransactionWaitMillis=function(){return fe(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:k.BATCH_WAIT_MILLIS},r.prototype.isSuppressMovableColumns=function(){return ne(this.gridOptions.suppressMovableColumns)},r.prototype.isAnimateRows=function(){return this.isEnsureDomOrder()?!1:ne(this.gridOptions.animateRows)},r.prototype.isSuppressColumnMoveAnimation=function(){return ne(this.gridOptions.suppressColumnMoveAnimation)},r.prototype.isSuppressAggFuncInHeader=function(){return ne(this.gridOptions.suppressAggFuncInHeader)},r.prototype.isSuppressAggAtRootLevel=function(){return ne(this.gridOptions.suppressAggAtRootLevel)},r.prototype.isSuppressAggFilteredOnly=function(){var t=this.getGroupAggFiltering()!==void 0;return t||ne(this.gridOptions.suppressAggFilteredOnly)},r.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return ne(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},r.prototype.isShowOpenedGroup=function(){return ne(this.gridOptions.showOpenedGroup)},r.prototype.isReactUi=function(){return ne(this.gridOptions.reactUi)},r.prototype.isSuppressReactUi=function(){return ne(this.gridOptions.suppressReactUi)},r.prototype.isEnableRangeSelection=function(){return et.isRegistered(Xe.RangeSelectionModule)&&ne(this.gridOptions.enableRangeSelection)},r.prototype.isEnableRangeHandle=function(){return ne(this.gridOptions.enableRangeHandle)},r.prototype.isEnableFillHandle=function(){return ne(this.gridOptions.enableFillHandle)},r.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?t!=="x"&&t!=="y"&&t!=="xy"?(mt(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):t:"xy"},r.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},r.prototype.isSuppressMultiRangeSelection=function(){return ne(this.gridOptions.suppressMultiRangeSelection)},r.prototype.isPaginationAutoPageSize=function(){return ne(this.gridOptions.paginationAutoPageSize)},r.prototype.isRememberGroupStateWhenNewData=function(){return ne(this.gridOptions.rememberGroupStateWhenNewData)},r.prototype.getIcons=function(){return this.gridOptions.icons},r.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.mergeGridCommonParams(t);if(ne(t))return function(){return!0}},r.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},r.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},r.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},r.prototype.isMasterDetail=function(){var t=ne(this.gridOptions.masterDetail);return t?et.assertRegistered(Xe.MasterDetailModule,"masterDetail"):!1},r.prototype.isKeepDetailRows=function(){return ne(this.gridOptions.keepDetailRows)},r.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptions.keepDetailRowsCount;return fe(t)&&t>0?this.gridOptions.keepDetailRowsCount:n7},r.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},r.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},r.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},r.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},r.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},r.prototype.isSuppressAutoSize=function(){return ne(this.gridOptions.suppressAutoSize)},r.prototype.isEnableCellTextSelection=function(){return ne(this.gridOptions.enableCellTextSelection)},r.prototype.isSuppressParentsInRowNodes=function(){return ne(this.gridOptions.suppressParentsInRowNodes)},r.prototype.isSuppressClipboardApi=function(){return ne(this.gridOptions.suppressClipboardApi)},r.prototype.isFunctionsReadOnly=function(){return ne(this.gridOptions.functionsReadOnly)},r.prototype.isEnableCellTextSelect=function(){return ne(this.gridOptions.enableCellTextSelection)},r.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},r.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},r.prototype.getDefaultExportParams=function(t){if(this.gridOptions.defaultExportParams)return console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+c_(t)+"ExportParams`'"),t==="csv"?this.gridOptions.defaultExportParams:this.gridOptions.defaultExportParams;if(t==="csv"&&this.gridOptions.defaultCsvExportParams)return this.gridOptions.defaultCsvExportParams;if(t==="excel"&&this.gridOptions.defaultExcelExportParams)return this.gridOptions.defaultExcelExportParams},r.prototype.isSuppressCsvExport=function(){return ne(this.gridOptions.suppressCsvExport)},r.prototype.isAllowShowChangeAfterFilter=function(){return ne(this.gridOptions.allowShowChangeAfterFilter)},r.prototype.isSuppressExcelExport=function(){return ne(this.gridOptions.suppressExcelExport)},r.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ne(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},r.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},r.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},r.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},r.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},r.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},r.prototype.getGroupRowAggFunc=function(){var t=this.gridOptions,i=t.getGroupRowAgg,n=t.groupRowAggNodes;if(i)return this.mergeGridCommonParams(i);if(n)return function(o){return n(o.nodes)}},r.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},r.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},r.prototype.getRowIdFunc=function(){var t=this.gridOptions,i=t.getRowId,n=t.getRowNodeId;if(i)return this.mergeGridCommonParams(i);if(n)return function(o){return n(o.data)}},r.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},r.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},r.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},r.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},r.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},r.prototype.isTreeData=function(){var t=ne(this.gridOptions.treeData);return t?et.assertRegistered(Xe.RowGroupingModule,"Tree Data"):!1},r.prototype.isValueCache=function(){return ne(this.gridOptions.valueCache)},r.prototype.isValueCacheNeverExpires=function(){return ne(this.gridOptions.valueCacheNeverExpires)},r.prototype.isDeltaSort=function(){return ne(this.gridOptions.deltaSort)},r.prototype.isAggregateOnlyChangedColumns=function(){return ne(this.gridOptions.aggregateOnlyChangedColumns)},r.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},r.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},r.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},r.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},r.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},r.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},r.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},r.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},r.prototype.getViewportRowModelPageSize=function(){return Gx(this.gridOptions.viewportRowModelPageSize,t7)},r.prototype.getViewportRowModelBufferSize=function(){return r7(this.gridOptions.viewportRowModelBufferSize,i7)},r.prototype.isServerSideSortAllLevels=function(){var t=ne(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&t?(mt(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):t},r.prototype.isServerSideFilterAllLevels=function(){var t=ne(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&t?(mt(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):t},r.prototype.isServerSideSortOnServer=function(){var t=ne(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&t?(mt(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&t?(mt(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):t},r.prototype.isServerSideFilterOnServer=function(){var t=ne(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&t?(mt(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&t?(mt(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):t},r.prototype.getPostSortFunc=function(){var t=this.gridOptions,i=t.postSortRows,n=t.postSort;if(i)return this.mergeGridCommonParams(i);if(n)return function(o){return n(o.nodes)}},r.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},r.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},r.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},r.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},r.prototype.getChartToolPanelsDef=function(){return this.gridOptions.chartToolPanelsDef},r.prototype.getClipboardDelimiter=function(){return fe(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"	"},r.prototype.setProperty=function(t,i,n){n===void 0&&(n=!1);var o=this.gridOptions[t];if(n||o!==i){this.gridOptions[t]=i;var s={type:t,currentValue:i,previousValue:o};this.propertyEventService.dispatchEvent(s)}},r.prototype.addEventListener=function(t,i){this.propertyEventService.addEventListener(t,i)},r.prototype.removeEventListener=function(t,i){this.propertyEventService.removeEventListener(t,i)},r.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},r.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return t!=null&&t>=0?t:20},r.prototype.getHeaderHeight=function(){return typeof this.gridOptions.headerHeight=="number"?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},r.prototype.getFloatingFiltersHeight=function(){return typeof this.gridOptions.floatingFiltersHeight=="number"?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},r.prototype.getGroupHeaderHeight=function(){return typeof this.gridOptions.groupHeaderHeight=="number"?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},r.prototype.getPivotHeaderHeight=function(){return typeof this.gridOptions.pivotHeaderHeight=="number"?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},r.prototype.getPivotGroupHeaderHeight=function(){return typeof this.gridOptions.pivotGroupHeaderHeight=="number"?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},r.prototype.isExternalFilterPresent=function(){return typeof this.gridOptions.isExternalFilterPresent=="function"?this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()}):!1},r.prototype.doesExternalFilterPass=function(t){return typeof this.gridOptions.doesExternalFilterPass=="function"?this.gridOptions.doesExternalFilterPass(t):!1},r.prototype.getTooltipDelay=function(t){var i=this.gridOptions,n=i.tooltipShowDelay,o=i.tooltipHideDelay,s=t==="show"?n:o,a=c_(t);return fe(s)?(s<0&&mt(function(){return console.warn("ag-grid: tooltip"+a+"Delay should not be lower than 0")},"tooltip"+a+"DelayWarn"),Math.max(200,s)):null},r.prototype.isTooltipMouseTrack=function(){return ne(this.gridOptions.tooltipMouseTrack)},r.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ne(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},r.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&fe(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&fe(t)?t:document},r.prototype.getMinColWidth=function(){var t=this.gridOptions.minColWidth;if(fe(t)&&t>e.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var i=this.getFromTheme(null,"headerCellMinWidth");return fe(i)?Math.max(i,e.MIN_COL_WIDTH):e.MIN_COL_WIDTH},r.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},r.prototype.getColWidth=function(){return typeof this.gridOptions.colWidth!="number"||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},r.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return typeof t=="number"?t<0&&(mt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=k.ROW_BUFFER_SIZE,t},r.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),i=this.getRowHeightAsNumber();return t*i},r.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,i=t?this.gridOptions.scrollbarWidth:QT();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:A.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),t.enableMultiRowDragging&&(t.rowDragMultiRow=!0,delete t.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var i=function(s,a,l){t[s]!=null&&(console.warn("AG Grid: since version "+l+", '"+s+"' is deprecated / renamed, please use the new property name '"+a+"' instead."),t[a]==null&&(t[a]=t[s]))};if(i("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),i("deltaRowDataMode","immutableData","23.1.x"),i("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),i("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),i("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var n=t.groupRowRendererParams;t.groupRowInnerRenderer&&(n.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(n.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(n.innerRendererFramework=t.groupRowInnerRendererFramework)}if(t.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn(`AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in
                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property.`),t.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),t.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),t.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),t.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),t.stopEditingWhenCellsLoseFocus=!0),t.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),t.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),t.groupDisplayType="multipleColumns"),t.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),t.groupDisplayType="groupRows"),t.groupSuppressAutoColumn){var o=t.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+o+" = 'custom'`"),t.groupDisplayType="custom"}t.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),t.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),t.defaultGroupOrderComparator=t.defaultGroupSortComparator),t.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),t.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),t.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),t.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),t.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),t.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),t.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),t.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),t.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),t.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),t.suppressCellFocus=t.suppressCellSelection),t.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),t.clipboardDelimiter=t.clipboardDeliminator),i("processSecondaryColDef","processPivotResultColDef","28.0.x"),i("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),t.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),t.serverSideInfiniteScroll=t.serverSideStoreType==="partial"),i("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},r.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},r.prototype.treeDataViolations=function(){this.isRowModelDefault()&&Ue(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(Ue(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),Ue(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},r.prototype.getLocaleTextFunc=function(){var t=this,i=this.gridOptions,n=i.localeText,o=i.getLocaleText,s=i.localeTextFunc;return o?function(a,l,u){var c={key:a,defaultValue:l,variableValues:u,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()};return o(c)}:s||function(a,l,u){var c=n&&n[a];if(c&&u&&u.length)for(var h=0;!(h>=u.length);){var d=c.indexOf("${variable}");if(d===-1)break;c=c.replace("${variable}",u[h++])}return c!=null?c:l}},r.prototype.globalEventHandler=function(t,i){if(!this.destroyed){var n=Kr.getCallbackForEvent(t);typeof this.gridOptions[n]=="function"&&this.gridOptions[n](i)}},r.prototype.setRowHeightVariable=function(t){var i=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=t+"px";i!=n&&this.eGridDiv.style.setProperty("--ag-line-height",n)},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Ue(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},r.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},r.prototype.getRowHeightForNode=function(t,i,n){if(i===void 0&&(i=!1),n==null&&(n=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:n,estimated:!0};var o={node:t,data:t.data},s=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(o);if(this.isNumeric(s))return s===0&&mt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}if(t.detail&&this.isMasterDetail())return this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:e7,estimated:!1};var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n;return{height:a,estimated:!1}},r.prototype.isDynamicRowHeight=function(){return typeof this.gridOptions.getRowHeight=="function"},r.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},r.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},r.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},r.prototype.getFromTheme=function(t,i){var n=this.environment.getTheme().theme;return n&&n.indexOf("ag-theme")===0?this.environment.getSassVariable(n,i):t},r.prototype.getDefaultRowHeight=function(){return this.getFromTheme(Q$,"rowHeight")},r.prototype.matchesGroupDisplayType=function(t,i){var n=["groupRows","multipleColumns","custom","singleColumn"];return n.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid groupDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):i===t},r.prototype.matchesTreeDataDisplayType=function(t,i){var n=["auto","custom"];return n.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid treeDataDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):i===t};var e;return r.MIN_COL_WIDTH=10,r.PROP_HEADER_HEIGHT="headerHeight",r.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",r.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",r.PROP_GROUP_DISPLAY_TYPE="groupDisplayType",r.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",r.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",r.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",r.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",r.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",r.PROP_TAB_TO_NEXT_CELL="tabToNextCell",r.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",r.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",r.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",r.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",r.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",r.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",r.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",r.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",r.PROP_GET_ROW_CLASS="getRowClass",r.PROP_GET_ROW_STYLE="getRowStyle",r.PROP_GET_ROW_HEIGHT="getRowHeight",r.PROP_POPUP_PARENT="popupParent",r.PROP_DOM_LAYOUT="domLayout",r.PROP_ROW_CLASS="rowClass",r.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",r.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",r.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",r.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",r.PROP_GET_CHILD_COUNT="getChildCount",r.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",r.PROP_GET_ROW_NODE_ID="getRowNodeId",r.PROP_GET_ROW_ID="getRowId",r.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",r.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",r.PROP_IS_ROW_SELECTABLE="isRowSelectable",r.PROP_IS_ROW_MASTER="isRowMaster",r.PROP_POST_SORT="postSort",r.PROP_POST_SORT_ROWS="postSortRows",r.PROP_GET_DOCUMENT="getDocument",r.PROP_POST_PROCESS_POPUP="postProcessPopup",r.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",r.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",r.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",r.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",r.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",r.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",r.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",r.PROP_SEND_TO_CLIPBOARD="sendToClipboard",r.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",r.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",r.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",r.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",r.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",r.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",r.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",r.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",r.PROP_AUTO_GROUP_COLUMN_DEF="autoGroupColumnDef",r.PROP_DEFAULT_COL_DEF="defaultColDef",ws([M("gridOptions")],r.prototype,"gridOptions",void 0),ws([M("eventService")],r.prototype,"eventService",void 0),ws([M("environment")],r.prototype,"environment",void 0),ws([M("eGridDiv")],r.prototype,"eGridDiv",void 0),ws([Nx(0,bn("gridApi")),Nx(1,bn("columnApi"))],r.prototype,"agWire",null),ws([nn],r.prototype,"destroy",null),ws([we],r.prototype,"init",null),r=e=ws([Ie("gridOptionsWrapper")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var o7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zi=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},s7=function(r,e){return function(t,i){e(t,i,r)}},a7=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},Hx=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l7=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},_a=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(l7(arguments[e]));return r},u7=function(r){o7(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.flexColsCalculatedAtLestOnce=!1,t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var i=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_DISPLAY_TYPE,function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_AUTO_GROUP_COLUMN_DEF,function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DEFAULT_COL_DEF,function(){return t.onDefaultColDefChanged()})},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.onDefaultColDefChanged=function(){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},e.prototype.setColumnDefs=function(t,i){i===void 0&&(i="api");var n=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(n,i)},e.prototype.createColumnsFromColumnDefs=function(t,i){var n=this;i===void 0&&(i="api");var o=t?this.compareColumnStatesAndRaiseEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(h){return n.primaryColumnsMap[h.getId()]=h}),this.extractRowGroupColumns(i,s),this.extractPivotColumns(i,s),this.extractValueColumns(i,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u;c&&(this.updateGridColumns(),t&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),o&&o(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){var t={type:A.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(t)},e.prototype.dispatchEverythingChanged=function(t){t===void 0&&(t="api");var i={type:A.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(i)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,i=this.primaryColumns;!i||(this.gridColumns.sort(function(n,o){var s=i.indexOf(n),a=i.indexOf(o),l=s>=0,u=a>=0;if(l&&u)return s-a;if(l)return 1;if(u)return-1;var c=t.gridColumns.indexOf(n),h=t.gridColumns.indexOf(o);return c-h}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var i=t,n=[];i!=null;)n.push(i),i=this.getDisplayedColAfter(i);return n},e.prototype.checkViewportColumns=function(){if(this.displayedColumnsCenter!=null){var t=this.extractViewport();if(!!t){var i={type:A.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}}},e.prototype.setViewportPosition=function(t,i){(t!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsWrapper.isTreeData()?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,i){if(i===void 0&&(i="api"),!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i);var n={type:A.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(n)}},e.prototype.getSecondaryPivotColumn=function(t,i){if(Ue(this.secondaryColumns))return null;var n=this.getPrimaryColumn(i),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=Us(a,t),c=l===n;u&&c&&(o=s)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var i,n;this.gridOptionsWrapper.isEnableRtl()?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?Ut(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?Ut(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===i,t),o.setFirstRightPinned(o===n,t)})},e.prototype.autoSizeColumns=function(t){var i=this,n=t.columns,o=t.skipHeader,s=t.skipHeaderGroups,a=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],h=-1,d=o!=null?o:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),p=s!=null?s:d;h!==0;)h=0,this.actionOnGridColumns(n,function(f){if(c.indexOf(f)>=0)return!1;var m=i.autoWidthCalculator.getPreferredWidthForColumn(f,d);if(m>0){var g=i.normaliseColumnWidth(f,m);f.setActualWidth(g,u),c.push(f),h++}return!0},u);p||this.autoSizeColumnGroupsByColumns(n,a),this.fireColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.fireColumnResizedEvent=function(t,i,n,o){if(o===void 0&&(o=null),t&&t.length){var s={type:A.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:i,source:n};this.eventService.dispatchEvent(s)}},e.prototype.autoSizeColumn=function(t,i,n){n===void 0&&(n="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:i,skipHeaderGroups:!0,source:n})},e.prototype.autoSizeColumnGroupsByColumns=function(t,i){var n,o,s,a,l=new Set,u=this.getGridColumns(t);u.forEach(function(C){for(var w=C.getParent();w&&w!=i;)w.isPadding()||l.add(w),w=w.getParent()});var c,h=[];try{for(var d=Hx(l),p=d.next();!p.done;p=d.next()){var f=p.value;try{for(var m=(s=void 0,Hx(this.ctrlsService.getHeaderRowContainerCtrls())),g=m.next();!g.done;g=m.next()){var y=g.value;if(c=y.getHeaderCtrlForColumn(f),c)break}}catch(C){s={error:C}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}c&&c.resizeLeafColumnsToFit()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return h},e.prototype.autoSizeAllColumns=function(t,i){i===void 0&&(i="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:t,source:i})},e.prototype.getColumnsFromTree=function(t){var i=[],n=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof St?i.push(a):a instanceof _i&&n(a.getChildren())}};return n(t),i},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.getDisplayedColumnsForRow=function(t,i,n,o){for(var s=[],a=null,l=function(h){var d=i[h],p=i.length-h,f=Math.min(d.getColSpan(t),p),m=[d];if(f>1){for(var g=f-1,y=1;y<=g;y++)m.push(i[h+y]);h+=g}var C;if(n?(C=!1,m.forEach(function(S){n(S)&&(C=!0)})):C=!0,C){if(s.length===0&&a){var w=o?o(d):!1;w&&s.push(a)}s.push(d)}a=d,u=h},u,c=0;c<i.length;c++)l(c),c=u;return s},e.prototype.getViewportCenterColumnsForRow=function(t){var i=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=function(s){var a=s.getLeft();return fe(a)&&a>i.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,n)},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var i=t.getLeft()||0,n=i+t.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=i<o&&n<o,l=i>s&&n>s;return!a&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,i,n,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!t||Xn(t))){var u=!1;if(t.forEach(function(h){var d=l.getPrimaryColumn(h);if(!!d){if(n){if(i.indexOf(d)>=0)return;i.push(d)}else{if(i.indexOf(d)<0)return;hn(i,d)}o(d),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:i,column:i.length===1?i[0]:null,source:a};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,i){i===void 0&&(i="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),i)},e.prototype.setRowGroupActive=function(t,i,n){t!==i.isRowGroupActive()&&(i.setRowGroupActive(t,n),t&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&this.setColumnVisible(i,!1,n),!t&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&this.setColumnVisible(i,!0,n))},e.prototype.addRowGroupColumn=function(t,i){i===void 0&&(i="api"),t&&this.addRowGroupColumns([t],i)},e.prototype.addRowGroupColumns=function(t,i){i===void 0&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),A.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},e.prototype.removeRowGroupColumns=function(t,i){i===void 0&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),A.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},e.prototype.removeRowGroupColumn=function(t,i){i===void 0&&(i="api"),t&&this.removeRowGroupColumns([t],i)},e.prototype.addPivotColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(n){return n.setPivotActive(!0,i)},A.EVENT_COLUMN_PIVOT_CHANGED,i)},e.prototype.setPivotColumns=function(t,i){i===void 0&&(i="api"),this.setPrimaryColumnList(t,this.pivotColumns,A.EVENT_COLUMN_PIVOT_CHANGED,function(n,o){o.setPivotActive(n,i)},i)},e.prototype.addPivotColumn=function(t,i){i===void 0&&(i="api"),this.addPivotColumns([t],i)},e.prototype.removePivotColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(n){return n.setPivotActive(!1,i)},A.EVENT_COLUMN_PIVOT_CHANGED,i)},e.prototype.removePivotColumn=function(t,i){i===void 0&&(i="api"),this.removePivotColumns([t],i)},e.prototype.setPrimaryColumnList=function(t,i,n,o,s){var a=this;i.length=0,fe(t)&&t.forEach(function(l){var u=a.getPrimaryColumn(l);u&&i.push(u)}),(this.primaryColumns||[]).forEach(function(l){var u=i.indexOf(l)>=0;o(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.fireColumnEvent(n,i,s)},e.prototype.setValueColumns=function(t,i){i===void 0&&(i="api"),this.setPrimaryColumnList(t,this.valueColumns,A.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),i)},e.prototype.setValueActive=function(t,i,n){if(t!==i.isValueActive()&&(i.setValueActive(t,n),t&&!i.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(o)}},e.prototype.addValueColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),A.EVENT_COLUMN_VALUE_CHANGED,i)},e.prototype.addValueColumn=function(t,i){i===void 0&&(i="api"),t&&this.addValueColumns([t],i)},e.prototype.removeValueColumn=function(t,i){i===void 0&&(i="api"),this.removeValueColumns([t],i)},e.prototype.removeValueColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),A.EVENT_COLUMN_VALUE_CHANGED,i)},e.prototype.normaliseColumnWidth=function(t,i){var n=t.getMinWidth();fe(n)&&i<n&&(i=n);var o=t.getMaxWidth();return fe(o)&&t.isGreaterThanMax(i)&&(i=o),i},e.prototype.getPrimaryOrGridColumn=function(t){var i=this.getPrimaryColumn(t);return i||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,i,n,o){var s=this;o===void 0&&(o="api");var a=[];t.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(!!u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsWrapper.getColResizeDefault()==="shift";if(c&&(i=!i),i){var h=s.getDisplayedColAfter(u);if(!h)return;var d=u.getActualWidth()-l.newWidth,p=h.getActualWidth()+d;a.push({width:p,ratios:[1],columns:[h]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:n,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var i=t.columns,n=t.width,o=0,s=0,a=!0;i.forEach(function(c){var h=c.getMinWidth();o+=h||0;var d=c.getMaxWidth();fe(d)&&d>0?s+=d:a=!1});var l=n>=o,u=!a||n<=s;return l&&u},e.prototype.resizeColumnSets=function(t){var i=this,n=t.resizeSets,o=t.finished,s=t.source,a=!n||n.every(function(f){return i.checkMinAndMaxWidthsForSet(f)});if(!a){if(o){var l=n&&n.length>0?n[0].columns:null;this.fireColumnResizedEvent(l,o,s)}return}var u=[],c=[];n.forEach(function(f){var m=f.width,g=f.columns,y=f.ratios,C={},w={};g.forEach(function(R){return c.push(R)});for(var S=!0,b=0,T=function(){if(b++,b>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var R=[],P=0,G=m;g.forEach(function(te,j){var Y=w[te.getId()];if(Y)G-=C[te.getId()];else{R.push(te);var U=y[j];P+=U}});var q=1/P;R.forEach(function(te,j){var Y=j===R.length-1,U;Y?U=G:(U=Math.round(y[j]*m*q),G-=U);var Z=te.getMinWidth(),J=te.getMaxWidth();fe(Z)&&U<Z?(U=Z,w[te.getId()]=!0,S=!0):fe(J)&&J>0&&U>J&&(U=J,w[te.getId()]=!0,S=!0),C[te.getId()]=U})};S;){var F=T();if(F==="break")break}g.forEach(function(R){var P=C[R.getId()],G=R.getActualWidth();G!==P&&(R.setActualWidth(P,s),u.push(R))})});var h=u.length>0,d=[];h&&(d=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(d);(h||o)&&this.fireColumnResizedEvent(p,o,s,d)},e.prototype.setColumnAggFunc=function(t,i,n){if(n===void 0&&(n="api"),!!t){var o=this.getPrimaryColumn(t);!o||(o.setAggFunc(i),this.fireColumnEvent(A.EVENT_COLUMN_VALUE_CHANGED,[o],n))}},e.prototype.fireColumnEvent=function(t,i,n){var o={type:t,columns:i,column:i&&i.length==1?i[0]:null,source:n};this.eventService.dispatchEvent(o)},e.prototype.moveRowGroupColumn=function(t,i,n){n===void 0&&(n="api");var o=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(i,0,o);var s={type:A.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:this.rowGroupColumns.length===1?this.rowGroupColumns[0]:null,source:n};this.eventService.dispatchEvent(s)},e.prototype.moveColumns=function(t,i,n){if(n===void 0&&(n="api"),this.columnAnimationService.start(),i>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var o=this.getGridColumns(t),s=!this.doesMovePassRules(o,i);if(!s){l_(this.gridColumns,o,i),this.updateDisplayedColumns(n);var a={type:A.EVENT_COLUMN_MOVED,columns:o,column:o.length===1?o[0]:null,toIndex:i,source:n};this.eventService.dispatchEvent(a),this.columnAnimationService.finish()}},e.prototype.doesMovePassRules=function(t,i){var n=this.getProposedColumnOrder(t,i);return this.doesOrderPassRules(n)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,i){var n=this.gridColumns.slice();return l_(n,t,i),n},e.prototype.sortColumnsLikeGridColumns=function(t){var i=this;if(!(!t||t.length<=1)){var n=t.filter(function(o){return i.gridColumns.indexOf(o)<0}).length>0;n||t.sort(function(o,s){var a=i.gridColumns.indexOf(o),l=i.gridColumns.indexOf(s);return a-l})}},e.prototype.doesMovePassLockedPositions=function(t){var i=0,n=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return t.forEach(function(s){var a=o(s.getColDef().lockPosition);a<i&&(n=!1),i=a}),n},e.prototype.doesMovePassMarryChildren=function(t){var i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof _i){var o=n,s=o.getColGroupDef(),a=s&&s.marryChildren;if(!!a){var l=[];o.getLeafColumns().forEach(function(p){var f=t.indexOf(p);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),h=u-c,d=o.getLeafColumns().length-1;h>d&&(i=!1)}}}),i},e.prototype.moveColumn=function(t,i,n){n===void 0&&(n="api"),this.moveColumns([t],i,n)},e.prototype.moveColumnByIndex=function(t,i,n){n===void 0&&(n="api");var o=this.gridColumns[t];this.moveColumn(o,i,n)},e.prototype.getColumnDefs=function(){var t=this;if(!!this.primaryColumns){var i=this.primaryColumns.slice();return this.gridColsArePrimary?i.sort(function(n,o){return t.gridColumns.indexOf(n)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&i.sort(function(n,o){return t.lastPrimaryOrder.indexOf(n)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(i,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case k.PINNED_LEFT:return this.leftWidth;case k.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==i||this.rightWidth!==n;if(o){this.bodyWidth=t,this.leftWidth=i,this.rightWidth=n;var s={type:A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case k.PINNED_LEFT:return this.getDisplayedLeftColumns();case k.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return Xn(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return Xn(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,i,n){n===void 0&&(n="api"),this.setColumnsVisible([t],i,n)},e.prototype.setColumnsVisible=function(t,i,n){i===void 0&&(i=!1),n===void 0&&(n="api"),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!i}})},n)},e.prototype.setColumnPinned=function(t,i,n){n===void 0&&(n="api"),t&&this.setColumnsPinned([t],i,n)},e.prototype.setColumnsPinned=function(t,i,n){if(n===void 0&&(n="api"),this.gridOptionsWrapper.getDomLayout()==="print"){console.warn("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;i===!0||i===k.PINNED_LEFT?o=k.PINNED_LEFT:i===k.PINNED_RIGHT?o=k.PINNED_RIGHT:o=null,this.actionOnGridColumns(t,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},n,function(){var s={type:A.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:n};return s}),this.columnAnimationService.finish()},e.prototype.actionOnGridColumns=function(t,i,n,o){var s=this;if(!Xn(t)){var a=[];if(t.forEach(function(u){var c=s.getGridColumn(u);if(!!c){var h=i(c);h!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(n),fe(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var i=this.getAllDisplayedColumns(),n=i.indexOf(t);return n>0?i[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var i=this.getAllDisplayedColumns(),n=i.indexOf(t);return n<i.length-1?i[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,i){for(var n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),s=i==="After"?Ut(o):o[0],a="getDisplayedCol"+i;;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,n);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,i){for(var n=t.getParent(),o,s;;){var a=n.getProvidedColumnGroup();if(o=a.getLevel(),s=n.getPaddingLevel(),o+s<=i)break;n=n.getParent()}return n},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,_a([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},e.prototype.getPrimaryAndAutoGroupCols=function(){var t;return(t=[]).concat.apply(t,_a([this.primaryColumns||[],this.groupAutoColumns||[]]))},e.prototype.getPrimaryAndSecondaryColumns=function(){var t;return(t=[]).concat.apply(t,_a([this.primaryColumns||[],this.secondaryColumns||[]]))},e.prototype.createStateItemFromColumn=function(t){var i=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,s=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:i,pivot:t.isPivotActive(),pivotIndex:n,flex:l};return u},e.prototype.getColumnState=function(){if(Ue(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),i=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i},e.prototype.orderColumnStateList=function(t){var i=qo(this.gridColumns.map(function(n,o){return[n.getColId(),o]}));t.sort(function(n,o){var s=i.has(n.colId)?i.get(n.colId):-1,a=i.has(o.colId)?i.get(o.colId):-1;return s-a})},e.prototype.resetColumnState=function(t){t===void 0&&(t="api");var i=this.getColumnsFromTree(this.primaryColumnTree),n=[],o=1e3,s=1e3,a=[];this.groupAutoColumns&&(a=a.concat(this.groupAutoColumns)),i&&(a=a.concat(i)),a.forEach(function(l){var u=function(F,R){return F!=null?F:R!=null?R:null},c=l.getColDef(),h=u(c.sort,c.initialSort),d=u(c.sortIndex,c.initialSortIndex),p=u(c.hide,c.initialHide),f=u(c.pinned,c.initialPinned),m=u(c.width,c.initialWidth),g=u(c.flex,c.initialFlex),y=u(c.rowGroupIndex,c.initialRowGroupIndex),C=u(c.rowGroup,c.initialRowGroup);y==null&&(C==null||C==!1)&&(y=null,C=null);var w=u(c.pivotIndex,c.initialPivotIndex),S=u(c.pivot,c.initialPivot);w==null&&(S==null||S==!1)&&(w=null,S=null);var b=u(c.aggFunc,c.initialAggFunc),T={colId:l.getColId(),sort:h,sortIndex:d,hide:p,pinned:f,width:m,flex:g,rowGroup:C,rowGroupIndex:y,pivot:S,pivotIndex:w,aggFunc:b};Ue(y)&&C&&(T.rowGroupIndex=o++),Ue(w)&&S&&(T.pivotIndex=s++),n.push(T)}),this.applyColumnState({state:n,applyOrder:!0},t)},e.prototype.applyColumnState=function(t,i){var n=this;if(Xn(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,h){var d=n.compareColumnStatesAndRaiseEvents(i);n.autoGroupsNeedBuilding=!0;var p=c.slice(),f={},m={},g=[],y=[],C=0,w=n.rowGroupColumns.slice(),S=n.pivotColumns.slice();u.forEach(function(R){var P=R.colId||"",G=P.startsWith(k.GROUP_AUTO_COLUMN_ID);if(G){g.push(R),y.push(R);return}var q=h(P);q?(n.syncColumnWithStateItem(q,R,t.defaultState,f,m,!1,i),hn(p,q)):(y.push(R),C+=1)});var b=function(R){return n.syncColumnWithStateItem(R,null,t.defaultState,f,m,!1,i)};p.forEach(b);var T=function(R,P,G,q){var te=R[G.getId()],j=R[q.getId()],Y=te!=null,U=j!=null;if(Y&&U)return te-j;if(Y)return-1;if(U)return 1;var Z=P.indexOf(G),J=P.indexOf(q),ie=Z>=0,K=J>=0;return ie&&K?Z-J:ie?-1:1};n.rowGroupColumns.sort(T.bind(n,f,w)),n.pivotColumns.sort(T.bind(n,m,S)),n.updateGridColumns();var F=n.groupAutoColumns?n.groupAutoColumns.slice():[];return g.forEach(function(R){var P=n.getAutoColumn(R.colId);hn(F,P),n.syncColumnWithStateItem(P,R,t.defaultState,null,null,!0,i)}),F.forEach(b),n.applyOrderAfterApplyState(t),n.updateDisplayedColumns(i),n.dispatchEverythingChanged(i),d(),{unmatchedAndAutoStates:y,unmatchedCount:C}};this.columnAnimationService.start();var s=o(t.state||[],this.primaryColumns||[],function(u){return n.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||fe(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return n.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var i=this;if(!(!t.applyOrder||!t.state)){var n=[],o={};t.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=i.gridColumnsMap[a.colId];l&&(n.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(k.GROUP_AUTO_COLUMN_ID);c?Fh(n,a,s++):n.push(a)}}),n=this.placeLockedColumns(n),!this.doesMovePassMarryChildren(n)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=n}},e.prototype.compareColumnStatesAndRaiseEvents=function(t){var i=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){if(!i.gridOptionsWrapper.isSuppressColumnStateEvents()){var a=i.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,C,w,S){var b=C.map(S),T=w.map(S),F=Us(b,T);if(!F){var R={type:y,columns:w,column:w.length===1?w[0]:null,source:t};i.eventService.dispatchEvent(R)}},u=function(y){var C=[];return a.forEach(function(w){var S=s[w.getColId()];S&&y(S,w)&&C.push(w)}),C},c=function(y){return y.getColId()};l(A.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,i.rowGroupColumns,c),l(A.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,i.pivotColumns,c);var h=function(y,C){var w=y.aggFunc!=null,S=w!=C.isValueActive(),b=w&&y.aggFunc!=C.getAggFunc();return S||b},d=u(h);d.length>0&&i.fireColumnEvent(A.EVENT_COLUMN_VALUE_CHANGED,i.valueColumns,t);var p=function(y,C){return y.width!=C.getActualWidth()};i.fireColumnResizedEvent(u(p),!0,t);var f=function(y,C){return y.pinned!=C.getPinned()};i.raiseColumnPinnedEvent(u(f),t);var m=function(y,C){return y.hide==C.isVisible()};i.raiseColumnVisibleEvent(u(m),t);var g=function(y,C){return y.sort!=C.getSort()||y.sortIndex!=C.getSortIndex()};u(g).length>0&&i.sortController.dispatchSortChangedEvents(t),i.raiseColumnMovedEvent(o,t)}}},e.prototype.raiseColumnPinnedEvent=function(t,i){if(!!t.length){var n=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.getPinned()}),s={type:A.EVENT_COLUMN_PINNED,pinned:o!=null?o:null,columns:t,column:n,source:i};this.eventService.dispatchEvent(s)}},e.prototype.getCommonValue=function(t,i){if(!(!t||t.length==0)){for(var n=i(t[0]),o=1;o<t.length;o++)if(n!==i(t[o]))return;return n}},e.prototype.raiseColumnVisibleEvent=function(t,i){if(!!t.length){var n=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.isVisible()}),s={type:A.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:n,source:i};this.eventService.dispatchEvent(s)}},e.prototype.raiseColumnMovedEvent=function(t,i){var n=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};t.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=t.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];if(u.forEach(function(d,p){var f=l&&l[p];if(f&&f.colId!==d.colId){var m=n.getGridColumn(f.colId);m&&c.push(m)}}),!!c.length){var h={type:A.EVENT_COLUMN_MOVED,columns:c,column:null,source:i};this.eventService.dispatchEvent(h)}},e.prototype.syncColumnWithStateItem=function(t,i,n,o,s,a,l){if(!!t){var u=function(P,G){var q={value1:void 0,value2:void 0},te=!1;return i&&(i[P]!==void 0&&(q.value1=i[P],te=!0),fe(G)&&i[G]!==void 0&&(q.value2=i[G],te=!0)),!te&&n&&(n[P]!==void 0&&(q.value1=n[P]),fe(G)&&n[G]!==void 0&&(q.value2=n[G])),q},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var h=u("pinned").value1;h!==void 0&&t.setPinned(h);var d=this.columnUtils.calculateColMinWidth(t.getColDef()),p=u("flex").value1;p!==void 0&&t.setFlex(p);var f=t.getFlex()<=0;if(f){var m=u("width").value1;m!=null&&d!=null&&m>=d&&t.setActualWidth(m,l)}var g=u("sort").value1;g!==void 0&&(g===k.SORT_DESC||g===k.SORT_ASC?t.setSort(g,l):t.setSort(void 0,l));var y=u("sortIndex").value1;if(y!==void 0&&t.setSortIndex(y),!(a||!t.isPrimary())){var C=u("aggFunc").value1;C!==void 0&&(typeof C=="string"?(t.setAggFunc(C),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(fe(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),hn(this.valueColumns,t))));var w=u("rowGroup","rowGroupIndex"),S=w.value1,b=w.value2;(S!==void 0||b!==void 0)&&(typeof b=="number"||S?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof b=="number"&&(o[t.getId()]=b)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),hn(this.rowGroupColumns,t)));var T=u("pivot","pivotIndex"),F=T.value1,R=T.value2;(F!==void 0||R!==void 0)&&(typeof R=="number"||F?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),s&&typeof R=="number"&&(s[t.getId()]=R)):t.isPivotActive()&&(t.setPivotActive(!1,l),hn(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,i){var n=[];return t&&t.forEach(function(o){var s=i(o);s&&n.push(s)}),n},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var i=this.getGridColumn(t);return i||console.warn("AG Grid: could not find column "+t),i},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,i,n){if(!t)return null;if(typeof t=="string"&&n[t])return n[t];for(var o=0;o<i.length;o++)if(this.columnsMatch(i[o],t))return i[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var i=t.getColDef().showRowGroup;if(!i)return null;if(i===!0)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(i);return n?[n]:null},e.prototype.getAutoColumn=function(t){var i=this;return!this.groupAutoColumns||!fe(this.groupAutoColumns)||Ue(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(n){return i.columnsMatch(n,t)})||null},e.prototype.columnsMatch=function(t,i){var n=t===i,o=t.getColDef()===i,s=t.getColId()==i;return n||o||s},e.prototype.getDisplayNameForColumn=function(t,i,n){if(n===void 0&&(n=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,i);return n?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,i,n){var o=i?i.getColGroupDef():null;return o?this.getHeaderName(o,null,t,i,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,i){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),i)},e.prototype.getHeaderName=function(t,i,n,o,s){var a=t.headerValueGetter;if(a){var l={colDef:t,column:i,columnGroup:n,providedColumnGroup:o,location:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return tw(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,i){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return i;var n=t.getColDef().pivotValueColumn,o=fe(n),s=null,a;if(o){var l=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return i;s=n?n.getAggFunc():null,a=!0}else{var c=t.isValueActive(),h=this.pivotMode||!this.isRowGroupEmpty();c&&h?(s=t.getAggFunc(),a=!0):a=!1}if(a){var d=typeof s=="string"?s:"func",p=this.gridOptionsWrapper.getLocaleTextFunc(),f=p(d,d);return f+"("+i+")"}return i},e.prototype.getColumnGroup=function(t,i){if(!t)return null;if(t instanceof gn)return t;var n=this.getAllDisplayedTrees(),o=typeof i=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,function(a){if(a instanceof gn){var l=a,u=void 0;o?u=t===l.getGroupId()&&i===l.getInstanceId():u=t===l.getGroupId(),u&&(s=l)}}),s},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,i){this.valueColumns=this.extractColumns(i,this.valueColumns,function(n,o){return n.setValueActive(o,t)},function(){},function(){},function(n){var o=n.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(n){return n.initialAggFunc!=null&&n.initialAggFunc!=""}),this.valueColumns.forEach(function(n){var o=n.getColDef();o.aggFunc!=null&&o.aggFunc!=""?n.setAggFunc(o.aggFunc):n.getAggFunc()||n.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,function(n,o){return n.setRowGroupActive(o,t)},function(n){return n.rowGroupIndex},function(n){return n.initialRowGroupIndex},function(n){return n.rowGroup},function(n){return n.initialRowGroup})},e.prototype.extractColumns=function(t,i,n,o,s,a,l){t===void 0&&(t=[]),i===void 0&&(i=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var f=t.indexOf(p)<0,m=p.getColDef(),g=uo(a(m)),y=uo(l(m)),C=Cr(o(m)),w=Cr(s(m)),S,b=g!==void 0,T=C!==void 0,F=y!==void 0,R=w!==void 0;if(b?S=g:T?C===null?S=!1:S=C>=0:f?F?S=y:R?S=w!=null&&w>=0:S=!1:S=i.indexOf(p)>=0,S){var P=f?C!=null||w!=null:C!=null;P?u.push(p):c.push(p)}});var h=function(p){var f=o(p.getColDef()),m=s(p.getColDef());return f!=null?f:m};u.sort(function(p,f){var m=h(p),g=h(f);return m===g?0:m<g?-1:1});var d=[].concat(u);return i.forEach(function(p){c.indexOf(p)>=0&&d.push(p)}),c.forEach(function(p){d.indexOf(p)<0&&d.push(p)}),i.forEach(function(p){d.indexOf(p)<0&&n(p,!1)}),d.forEach(function(p){i.indexOf(p)<0&&n(p,!0)}),d},e.prototype.extractPivotColumns=function(t,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,function(n,o){return n.setPivotActive(o,t)},function(n){return n.pivotIndex},function(n){return n.initialPivotIndex},function(n){return n.pivot},function(n){return n.initialPivot})},e.prototype.resetColumnGroupState=function(t){t===void 0&&(t="api");var i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(n){if(n instanceof _i){var o=n.getColGroupDef(),s={groupId:n.getGroupId(),open:o?o.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof _i&&t.push({groupId:i.getGroupId(),open:i.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,i){var n=this;i===void 0&&(i="api"),this.columnAnimationService.start();var o=[];t.forEach(function(s){var a=s.groupId,l=s.open,u=n.getProvidedColumnGroup(a);!u||u.isExpanded()!==l&&(n.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),o.push(u))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),o.forEach(function(s){var a={type:A.EVENT_COLUMN_GROUP_OPENED,columnGroup:s};n.eventService.dispatchEvent(a)}),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,i,n){n===void 0&&(n="api");var o;t instanceof _i?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:i}],n)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof _i&&n.getId()===t&&(i=n)}),i},e.prototype.calculateColumnsForDisplay=function(){var t=this,i;return this.pivotMode&&Ue(this.secondaryColumns)?i=this.gridColumns.filter(function(n){var o=t.groupAutoColumns&&tr(t.groupAutoColumns,n),s=t.valueColumns&&tr(t.valueColumns,n);return o||s}):i=this.gridColumns.filter(function(n){var o=t.groupAutoColumns&&tr(t.groupAutoColumns,n);return o||n.isVisible()}),i},e.prototype.checkColSpanActiveInCols=function(t){var i=!1;return t.forEach(function(n){fe(n.getColDef().colSpan)&&(i=!0)}),i},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var i=function(n){var o=n.getColDef(),s=o.showRowGroup;o&&fe(s)&&(t.groupDisplayColumns.push(n),typeof s=="string"?t.groupDisplayColumnsMap[s]=n:s===!0&&t.getRowGroupColumns().forEach(function(a){t.groupDisplayColumnsMap[a.getId()]=n}))};this.gridColumns.forEach(i),this.groupAutoColumns&&this.groupAutoColumns.forEach(i)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return fe(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,i){var n=this;i===void 0&&(i="api");var o=t&&t.length>0;if(!(!o&&Ue(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var s=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return n.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}},e.prototype.processSecondaryColumnDefinitions=function(t){var i=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),n=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(!(!i&&!n)){var o=function(s){s.forEach(function(a){var l=fe(a.children);if(l){var u=a;n&&n(u),o(u.children)}else{var c=a;i&&i(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,i=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var n=void 0;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(n=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,n=this.lastPrimaryOrder);var s=this.createGroupAutoColumnsIfNeeded();if(s&&n){var a=qo(this.groupAutoColumns.map(function(u){return[u,!0]}));n=n.filter(function(u){return!a.has(u)}),n=_a(this.groupAutoColumns,n)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(n),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!Us(i,this.gridBalancedTree)){var l={type:A.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(o){return o.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.rowModel.getType(),i=t===k.ROW_MODEL_TYPE_CLIENT_SIDE||t===k.ROW_MODEL_TYPE_SERVER_SIDE;if(!i){var n="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";mt(function(){return console.warn(n)},"autoHeightActive.wrongRowModel")}}},e.prototype.orderGridColsLike=function(t){if(!Ue(t)){var i=qo(t.map(function(c,h){return[c,h]})),n=!0;if(this.gridColumns.forEach(function(c){i.has(c)&&(n=!1)}),!n){var o=qo(this.gridColumns.map(function(c){return[c,!0]})),s=t.filter(function(c){return o.has(c)}),a=qo(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var h=c.getOriginalParent();if(!h){u.push(c);return}for(var d=[];!d.length&&h;){var p=h.getLeafColumns();p.forEach(function(g){var y=u.indexOf(g)>=0,C=d.indexOf(g)<0;y&&C&&d.push(g)}),h=h.getOriginalParent()}if(!d.length){u.push(c);return}var f=d.map(function(g){return u.indexOf(g)}),m=Math.max.apply(Math,_a(f));Fh(u,c,m+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},e.prototype.placeLockedColumns=function(t){var i=[],n=[],o=[];return t.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?i.push(s):n.push(s)}),_a(i,n,o)},e.prototype.addAutoGroupToGridColumns=function(){if(!Ue(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var i={type:A.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(i){return i.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var i=this;if(!!this.primaryColumns){var n=this.primaryColumns.slice(0),o=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=i.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,t)})}else{var l=0;s.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}JC(n,s)}),n.forEach(function(s){s.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(i){if(i instanceof gn){var n=i;n.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(n){n instanceof St&&i.push(n)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,i){var n;switch(t){case k.PINNED_LEFT:n=this.viewportRowLeft[i];break;case k.PINNED_RIGHT:n=this.viewportRowRight[i];break;default:n=this.viewportRowCenter[i];break}return Ue(n)&&(n=[]),n},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(n){return t[n.getId()]=!0});var i=function(n,o,s){for(var a=!1,l=0;l<n.length;l++){var u=n[l],c=!1;if(u instanceof St)c=t[u.getId()]===!0;else{var h=u,d=h.getDisplayedChildren();d&&(c=i(d,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return o.getId()+"-"+(o.getPinned()||"normal")};this.extractViewportColumns();var i=this.viewportColumns.map(t).join("#"),n=this.viewportColumnsHash!==i;return n&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),n},e.prototype.refreshFlexedColumns=function(t){var i=this;t===void 0&&(t={});var n=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;t.resizingCols&&t.resizingCols.forEach(function(S){var b=i.displayedColumnsCenter.indexOf(S);o<b&&(o=b)});var s=function(S){var b=i.displayedColumnsCenter.indexOf(S)>o;return S.getFlex()&&b},a=this.displayedColumnsCenter.filter(function(S){return!s(S)}),l=this.displayedColumnsCenter.filter(function(S){return s(S)}),u=[];if(!l.length)return[];var c=[],h;e:for(;;){var d=l.reduce(function(S,b){return S+b.getFlex()},0);h=this.flexViewportWidth-this.getWidthOfColsInList(a);for(var p=0;p<l.length;p++){var f=l[p],m=h*f.getFlex()/d,g=0,y=f.getMinWidth(),C=f.getMaxWidth();if(fe(y)&&m<y?g=y:fe(C)&&m>C&&(g=C),g){f.setActualWidth(g,n),hn(l,f),u.push(f),a.push(f);continue e}c[p]=Math.round(m)}break}var w=h;return l.forEach(function(S,b){S.setActualWidth(Math.min(c[b],w),n),u.push(S),w-=c[b]}),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(u,!0,n,l),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),l},e.prototype.sizeColumnsToFit=function(t,i,n,o){i===void 0&&(i="sizeColumnsToFit");var s,a,l,u,c,h,d,p,f,m,g,y={};o&&((a=(s=o)===null||s===void 0?void 0:s.columnLimits)===null||a===void 0||a.forEach(function(V){var ye=V.key,Ce=a7(V,["key"]);y[typeof ye=="string"?ye:ye.getColId()]=Ce}));var C=this.getAllDisplayedColumns(),w=t===this.getWidthOfColsInList(C);if(!(t<=0||!C.length||w)){var S=[],b=[];C.forEach(function(V){V.getColDef().suppressSizeToFit===!0?b.push(V):S.push(V)});var T=S.slice(0),F=!1,R=function(V){hn(S,V),b.push(V)};for(S.forEach(function(V){return V.resetActualWidth(i)});!F;){F=!0;var P=t-this.getWidthOfColsInList(b);if(P<=0)S.forEach(function(V){var ye,Ce,W,ce,it=(W=(Ce=(ye=y)===null||ye===void 0?void 0:ye[V.getId()])===null||Ce===void 0?void 0:Ce.minWidth,W!=null?W:(ce=o)===null||ce===void 0?void 0:ce.defaultMinWidth);if(typeof it=="number"){V.setActualWidth(it);return}V.setMinimum(i)});else for(var G=P/this.getWidthOfColsInList(S),q=P,te=S.length-1;te>=0;te--){var j=S[te],Y=(l=y)===null||l===void 0?void 0:l[j.getId()],U=(c=(u=Y)===null||u===void 0?void 0:u.minWidth,c!=null?c:(h=o)===null||h===void 0?void 0:h.defaultMinWidth),Z=(p=(d=Y)===null||d===void 0?void 0:d.maxWidth,p!=null?p:(f=o)===null||f===void 0?void 0:f.defaultMaxWidth),J=(m=j.getMinWidth(),m!=null?m:0),ie=(g=j.getMaxWidth(),g!=null?g:Number.MAX_VALUE),K=typeof U=="number"&&U>J?U:j.getMinWidth(),H=typeof Z=="number"&&Z<ie?Z:j.getMaxWidth(),ge=Math.round(j.getActualWidth()*G);fe(K)&&ge<K?(ge=K,R(j),F=!1):fe(H)&&ge>H?(ge=H,R(j),F=!1):te===0&&(ge=q),j.setActualWidth(ge,i,!0),q-=ge}}T.forEach(function(V){V.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!n&&this.fireColumnResizedEvent(T,!0,i)}},e.prototype.buildDisplayedTrees=function(t){var i=[],n=[],o=[];t.forEach(function(a){switch(a.getPinned()){case"left":i.push(a);break;case"right":n.push(a);break;default:o.push(a);break}});var s=new YT;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,s,k.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,s,k.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var i=function(n){t.displayedColumnsAndGroupsMap[n.getUniqueId()]=n};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,i)},e.prototype.isDisplayed=function(t){var i=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return i===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(i){if(i instanceof gn){var n=i;n.calculateDisplayedColumns()}})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn(),n=this.rowGroupColumns.length>0||this.usingTreeData,o=n&&!i&&!t;if(o){var s=this.groupAutoColumns||[],a=this.autoGroupColService.createAutoGroupColumns(s,this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||this.forceRecreateAutoGroups)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},e.prototype.autoColsEqual=function(t,i){return Us(t,i,function(n,o){return n.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(i,n){return i+n.getActualWidth()},0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){if(!this.gridColumns)return!1;var t=this.gridColumns.some(function(i){return i.getColDef().floatingFilter});return t},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&i.reverse();for(var n=0;n<i.length;n++){var o=this[i[n]]();if(o.length)return t?Ut(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,i){var n=t.setAutoHeaderHeight(i);if(n){var o={type:A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(function(n){return n.isAutoHeaderHeight()}).map(function(n){return n.getAutoHeaderHeight()||0});return Math.max.apply(Math,_a([t],i))},Zi([M("expressionService")],e.prototype,"expressionService",void 0),Zi([M("columnFactory")],e.prototype,"columnFactory",void 0),Zi([M("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Zi([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Zi([M("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Zi([M("columnUtils")],e.prototype,"columnUtils",void 0),Zi([M("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Zi([M("autoGroupColService")],e.prototype,"autoGroupColService",void 0),Zi([It("aggFuncService")],e.prototype,"aggFuncService",void 0),Zi([It("valueCache")],e.prototype,"valueCache",void 0),Zi([It("animationFrameService")],e.prototype,"animationFrameService",void 0),Zi([M("rowModel")],e.prototype,"rowModel",void 0),Zi([M("sortController")],e.prototype,"sortController",void 0),Zi([M("columnDefFactory")],e.prototype,"columnDefFactory",void 0),Zi([we],e.prototype,"init",null),Zi([s7(0,bn("loggerFactory"))],e.prototype,"setBeans",null),e=Zi([Ie("columnModel")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var c7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),h7=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},d7=function(r){c7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.gridOptionsWrapper.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var i=this.calculateColMinWidth(t),n=this.calculateColMaxWidth(t),o,s=Cr(t.width),a=Cr(t.initialWidth);return s!=null?o=s:a!=null?o=a:o=this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(o,n),i)},e.prototype.getOriginalPathForColumn=function(t,i){var n=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof _i){var h=c;s(h.getChildren(),l+1),n[l]=c}else c===t&&(o=!0)}};return s(i,0),o?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,i,n){var o=this;!i||i.forEach(function(s){s instanceof _i&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),n),n(s,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,i){var n=this;!t||t.forEach(function(o){o instanceof gn&&n.depthFirstAllColumnTreeSearch(o.getChildren(),i),i(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,i){var n=this;!t||t.forEach(function(o){o instanceof gn&&n.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),i),i(o)})},e=h7([Ie("columnUtils")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var p7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),f7=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},g7=function(r){p7(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,i,n,o,s){var a=this,l=[],u,c,h=this.mapOldGroupsById(s);return t.forEach(function(d){for(var p=a.getOriginalPathForColumn(i,d),f=[],m=!c,g=0;g<p.length;g++)if(m||p[g]!==c[g]){var y=a.createColumnGroup(p[g],n,h,o);f[g]=y,g==0?l.push(y):f[g-1].addChild(y)}else f[g]=u[g];var C=f.length===0;if(C)l.push(d);else{var w=Ut(f);w.addChild(d)}u=f,c=p}),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,i,n,o){var s=t.getGroupId(),a=i.getInstanceIdForKey(s),l=gn.createUniqueId(s,a),u=n[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),fe(u)?u.reset():(u=new gn(t,s,a,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var i={},n=function(o){o.forEach(function(s){if(s instanceof gn){var a=s;i[s.getUniqueId()]=a,n(a.getChildren())}})};return t&&n(t),i},e.prototype.setupParentsIntoColumns=function(t,i){var n=this;t.forEach(function(o){if(o.setParent(i),o instanceof gn){var s=o;n.setupParentsIntoColumns(s.getChildren(),s)}})},e.prototype.getOriginalPathForColumn=function(t,i){var n=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];c instanceof _i?(s(c.getChildren(),l+1),n[l]=c):c===i&&(o=!0)}};return s(t,0),o?n:(console.warn("AG Grid: could not get path"),null)},e=f7([Ie("displayedGroupCreator")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var m7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),v7=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},y7=function(r){m7(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var i=this;t&&t.forEach(function(n){return i.addComponent(n)})},e.prototype.addComponent=function(t){var i=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=i.toUpperCase();this.componentsMappedByName[n]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=v7([Ie("agStackComponentsRegistry")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Wx=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},xc=function(){function r(e,t,i,n){n===void 0&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,i||0)),this.a=Math.min(1,Math.max(0,n||0))}return r.fromString=function(e){if(e.indexOf("#")>=0)return r.fromHexString(e);var t=r.nameToHex[e];if(t)return r.fromHexString(t);if(e.indexOf("rgb")>=0)return r.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},r.parseHex=function(e){e=e.replace(/ /g,"").slice(1);var t;switch(e.length){case 6:case 8:t=[];for(var i=0;i<e.length;i+=2)t.push(parseInt(""+e[i]+e[i+1],16));break;case 3:case 4:t=e.split("").map(function(n){return parseInt(n,16)}).map(function(n){return n+n*16});break}if(t.length>=3&&t.every(function(n){return n>=0}))return t.length===3&&t.push(255),t},r.fromHexString=function(e){var t=r.parseHex(e);if(t){var i=Wx(t,4),n=i[0],o=i[1],s=i[2],a=i[3];return new r(n/255,o/255,s/255,a/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},r.stringToRgba=function(e){for(var t=Wx([NaN,NaN],2),i=t[0],n=t[1],o=0;o<e.length;o++){var s=e[o];if(!i&&s==="(")i=o;else if(s===")"){n=o;break}}var a=i&&n&&e.substring(i+1,n);if(!!a){for(var l=a.split(","),u=[],o=0;o<l.length;o++){var c=l[o],h=parseFloat(c);if(isNaN(h))return;c.indexOf("%")>=0?(h=Math.max(0,Math.min(100,h)),h/=100):o===3?h=Math.max(0,Math.min(1,h)):(h=Math.max(0,Math.min(255,h)),h/=255),u.push(h)}return u}},r.fromRgbaString=function(e){var t=r.stringToRgba(e);if(t){if(t.length===3)return new r(t[0],t[1],t[2]);if(t.length===4)return new r(t[0],t[1],t[2],t[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},r.fromArray=function(e){if(e.length===4)return new r(e[0],e[1],e[2],e[3]);if(e.length===3)return new r(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},r.fromHSB=function(e,t,i,n){n===void 0&&(n=1);var o=r.HSBtoRGB(e,t,i);return new r(o[0],o[1],o[2],n)},r.padHex=function(e){return e.length===1?"0"+e:e},r.prototype.toHexString=function(){var e="#"+r.padHex(Math.round(this.r*255).toString(16))+r.padHex(Math.round(this.g*255).toString(16))+r.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=r.padHex(Math.round(this.a*255).toString(16))),e},r.prototype.toRgbaString=function(e){e===void 0&&(e=3);var t=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],i=Math.pow(10,e);return this.a!==1?(t.push(Math.round(this.a*i)/i),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},r.prototype.toString=function(){return this.a===1?this.toHexString():this.toRgbaString()},r.prototype.toHSB=function(){return r.RGBtoHSB(this.r,this.g,this.b)},r.RGBtoHSB=function(e,t,i){var n=Math.min(e,t,i),o=Math.max(e,t,i),s=o!==0?(o-n)/o:0,a=NaN;if(n!==o){var l=o-n,u=(o-e)/l,c=(o-t)/l,h=(o-i)/l;e===o?a=h-c:t===o?a=2+u-h:a=4+c-u,a/=6,a<0&&(a=a+1)}return[a*360,s,o]},r.HSBtoRGB=function(e,t,i){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,o=0,s=0;if(t===0)n=o=s=i;else{var a=(e-Math.floor(e))*6,l=a-Math.floor(a),u=i*(1-t),c=i*(1-t*l),h=i*(1-t*(1-l));switch(a>>0){case 0:n=i,o=h,s=u;break;case 1:n=c,o=i,s=u;break;case 2:n=u,o=i,s=h;break;case 3:n=u,o=c,s=i;break;case 4:n=h,o=u,s=i;break;case 5:n=i,o=u,s=c;break}}return[n,o,s]},r.prototype.derive=function(e,t,i,n){var o=r.RGBtoHSB(this.r,this.g,this.b),s=o[2];s==0&&i>1&&(s=.05);var a=((o[0]+e)%360+360)%360,l=Math.max(Math.min(o[1]*t,1),0);s=Math.max(Math.min(s*i,1),0);var u=Math.max(Math.min(this.a*n,1),0),c=r.HSBtoRGB(a,l,s);return c.push(u),r.fromArray(c)},r.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},r.prototype.darker=function(){return this.derive(0,1,.7,1)},r.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function _7(r,e){e===void 0&&(e=",");var t=[],i=function(d){return d==="\r"||d===`
`},n=!1;if(r==="")return[[""]];for(var o=function(d,p,f){var m=r[f-1],g=r[f],y=r[f+1],C=function(){t[d]||(t[d]=[]),t[d][p]||(t[d][p]="")};if(C(),g==='"'){if(n)return y==='"'?(t[d][p]+='"',f++):n=!1,s=d,a=p,l=f,"continue";if(m===void 0||m===e||i(m))return n=!0,s=d,a=p,l=f,"continue"}if(!n){if(g===e)return p++,C(),s=d,a=p,l=f,"continue";if(i(g))return p=0,d++,C(),g==="\r"&&y===`
`&&f++,s=d,a=p,l=f,"continue"}t[d][p]+=g,s=d,a=p,l=f},s,a,l,u=0,c=0,h=0;h<r.length;h++)o(u,c,h),u=s,c=a,h=l;return t}var C7=Object.freeze({__proto__:null,stringToArray:_7});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var mp;function w7(r,e,t){for(var i=r.parentElement,n=i&&i.firstChild;n;)e&&n.classList.toggle(e,n===r),t&&n.classList.toggle(t,n!==r),n=n.nextSibling}function ow(r){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t=e.call(r,k.INPUT_SELECTOR),i=e.call(r,k.FOCUSABLE_EXCLUDE),n=oc(r),o=t&&!i&&n;return o}function qt(r,e){r.classList.toggle("ag-hidden",!e)}function uP(r,e){r.classList.toggle("ag-invisible",!e)}function ku(r,e){var t="disabled",i=e?function(n){return n.setAttribute(t,"")}:function(n){return n.removeAttribute(t)};i(r),hw(r.querySelectorAll("input"),function(n){return i(n)})}function Ya(r,e,t){for(var i=0;r;){if(r.classList.contains(e))return!0;if(r=r.parentElement,typeof t=="number"){if(++i>t)break}else if(r===t)break}return!1}function fl(r){var e=window.getComputedStyle(r),t=e.height,i=e.width,n=e.paddingTop,o=e.paddingRight,s=e.paddingBottom,a=e.paddingLeft,l=e.marginTop,u=e.marginRight,c=e.marginBottom,h=e.marginLeft,d=e.boxSizing;return{height:parseFloat(t),width:parseFloat(i),paddingTop:parseFloat(n),paddingRight:parseFloat(o),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(l),marginRight:parseFloat(u),marginBottom:parseFloat(c),marginLeft:parseFloat(h),boxSizing:d}}function ld(r){var e=fl(r);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function Yg(r){var e=fl(r);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function sw(r){var e=fl(r),t=e.marginBottom+e.marginTop;return Math.ceil(r.offsetHeight+t)}function Kg(r){var e=fl(r),t=e.marginLeft+e.marginRight;return Math.ceil(r.offsetWidth+t)}function Nh(){if(typeof mp=="boolean")return mp;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,mp=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),mp}function Gh(r,e){var t=r.scrollLeft;return e&&(t=Math.abs(t),ad()&&!Nh()&&(t=r.scrollWidth-r.clientWidth-t)),t}function Kf(r,e,t){t&&(Nh()?e*=-1:(pl()||ad())&&(e=r.scrollWidth-r.clientWidth-e)),r.scrollLeft=e}function ir(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function S7(r,e){Va(r.querySelector(e))}function Va(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function oc(r){return r.offsetParent!==null}function ji(r){var e=document.createElement("div");return e.innerHTML=(r||"").trim(),e.firstChild}function E7(r,e){r.lastChild?r.insertAdjacentHTML("afterbegin",e):r.innerHTML=e}function x7(r,e){if(r.attributes&&r.attributes[e]){var t=r.attributes[e];return t.value}return null}function m_(r){return r&&r.clientHeight?r.clientHeight:0}function v_(r){return r&&r.clientWidth?r.clientWidth:0}function aw(r,e,t){if(!(t&&t.nextSibling===e)){var i=document.activeElement,n=e.contains(i);t?t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e):r.firstChild&&r.firstChild!==e&&r.insertAdjacentElement("afterbegin",e),n&&i&&$g()&&i.focus({preventScroll:!0})}}function lw(r,e){for(var t=0;t<e.length;t++){var i=e[t],n=r.children[t];n!==i&&r.insertBefore(i,n)}}function cP(r,e,t){t?t.insertAdjacentElement("afterend",e):r.firstChild?r.insertAdjacentElement("afterbegin",e):r.appendChild(e)}function R7(r,e){fe(r.firstChild)?r.insertBefore(e,r.firstChild):r.appendChild(e)}function uw(r,e){!e||Object.keys(e).forEach(function(t){var i=XT(t);i&&(r.style[i]=e[t])})}function y_(r){return r.clientWidth<r.scrollWidth}function hP(r){return r.clientHeight<r.scrollHeight}function ud(r,e){e==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):Mo(r,e)}function Mo(r,e){e=cw(e),r.style.width=e.toString(),r.style.maxWidth=e.toString(),r.style.minWidth=e.toString()}function b7(r,e){e==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):Ka(r,e)}function Ka(r,e){e=cw(e),r.style.height=e.toString(),r.style.maxHeight=e.toString(),r.style.minHeight=e.toString()}function cw(r){return typeof r=="number"?r+"px":r}function dP(r){return typeof Node=="function"?r instanceof Node:r&&typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.nodeName=="string"}function pP(r){return typeof HTMLElement=="function"?r instanceof HTMLElement:r&&Wu(r)&&r.nodeType===1&&typeof r.nodeName=="string"}function cd(r){return dP(r)||pP(r)}function fP(r){if(r==null)return[];var e=[];return hw(r,function(t){return e.push(t)}),e}function gP(r,e){if(!!r)for(var t=0;t<r.length;t++){var i=r[t];e(i.name,i.value)}}function M7(r,e){typeof e=="boolean"?(r.checked=e,r.indeterminate=!1):r.indeterminate=!0}function ch(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t.toString())}function hw(r,e){if(r!=null)for(var t=0;t<r.length;t++)e(r[t])}var T7=Object.freeze({__proto__:null,radioCssClass:w7,isFocusableFormField:ow,setDisplayed:qt,setVisible:uP,setDisabled:ku,isElementChildOfClass:Ya,getElementSize:fl,getInnerHeight:ld,getInnerWidth:Yg,getAbsoluteHeight:sw,getAbsoluteWidth:Kg,isRtlNegativeScroll:Nh,getScrollLeft:Gh,setScrollLeft:Kf,clearElement:ir,removeElement:S7,removeFromParent:Va,isVisible:oc,loadTemplate:ji,appendHtml:E7,getElementAttribute:x7,offsetHeight:m_,offsetWidth:v_,ensureDomOrder:aw,setDomChildOrder:lw,insertWithDomOrder:cP,prependDC:R7,addStylesToElement:uw,isHorizontalScrollShowing:y_,isVerticalScrollShowing:hP,setElementWidth:ud,setFixedWidth:Mo,setElementHeight:b7,setFixedHeight:Ka,formatSize:cw,isNode:dP,isElement:pP,isNodeOrElement:cd,copyNodeList:fP,iterateNamedNodeMap:gP,setCheckboxState:M7,addOrRemoveAttribute:ch,nodeListForEach:hw});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function P7(r){var e=/function (.{1,})\(/,t=r.toString(),i=e.exec(t);return i&&i.length>1?i[1]:""}function O7(r){var e=r.length,t=0;if(e<=1)return r;for(var i=0;i<r.length;i++){var n=r[i],o=n.toString().split("e-");if(o.length>1){t=Math.max(t,parseInt(o[1],10));continue}Math.floor(n)!==n&&(t=Math.max(t,n.toString().split(".")[1].length))}for(var s=0,a=0,l=0,u=0,c=0,h=0;h<e;h++)c=r[h],s+=h,a+=c,u+=h*h,l+=h*c;for(var d=(e*l-s*a)/(e*u-s*s),p=a/e-d*s/e,f=[],h=0;h<=e;h++)f.push(parseFloat((h*d+p).toFixed(t)));return f}function A7(r){if(!r)return"";var e=[];return Vt(r,function(t,i){var n=KT(t);e.push(n+": "+i+";")}),e.join(" ")}function D7(r){var e=document.createElement("div"),t=document.querySelector("#__ag__message");if(e.innerHTML=r,!t){var i='<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>';t=ji(i),document.body&&document.body.appendChild(t)}t.insertBefore(e,t.children[0])}function I7(r,e){r.then(function(t){var i=t.getGui();i!=null&&(typeof i=="object"?e.appendChild(i):e.innerHTML=i)})}var L7=Object.freeze({__proto__:null,getNameOfClass:P7,findLineByLeastSquares:O7,cssStyleObjectToMarkup:A7,message:D7,bindCellRendererToHtmlElement:I7});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Hi(r,e,t){r.setAttribute(mP(e),t.toString())}function ca(r,e){r.removeAttribute(mP(e))}function mP(r){return"aria-"+r}function yn(r,e){e?r.setAttribute("role",e):r.removeAttribute("role")}function vP(r){var e;return r.isSortAscending()?e="ascending":r.isSortDescending()?e="descending":e="none",e}function yP(r){return parseInt(r.getAttribute("aria-level"),10)}function _P(r){return parseInt(r.getAttribute("aria-posinset"),10)}function F7(r){return r.getAttribute("aria-describedby")||""}function gl(r,e){var t="label";e!=null&&e!==""?Hi(r,t,e):ca(r,t)}function dw(r,e){var t="labelledby";e?Hi(r,t,e):ca(r,t)}function CP(r,e){var t="description";e?Hi(r,t,e):ca(r,t)}function pw(r,e){var t="describedby";e?Hi(r,t,e):ca(r,t)}function wP(r,e){Hi(r,"level",e)}function fw(r,e){Hi(r,"disabled",e)}function gw(r,e){e?Hi(r,"hidden",!0):ca(r,"hidden")}function Jn(r,e){Hi(r,"expanded",e)}function SP(r){ca(r,"expanded")}function mw(r,e){Hi(r,"setsize",e)}function vw(r,e){Hi(r,"posinset",e)}function EP(r,e){Hi(r,"multiselectable",e)}function xP(r,e){Hi(r,"rowcount",e)}function yw(r,e){Hi(r,"rowindex",e)}function RP(r,e){Hi(r,"colcount",e)}function _w(r,e){Hi(r,"colindex",e)}function bP(r,e){Hi(r,"colspan",e)}function MP(r,e){Hi(r,"sort",e)}function TP(r){ca(r,"sort")}function Bu(r,e){var t="selected";e?Hi(r,t,e):ca(r,t)}function PP(r,e){Hi(r,"checked",e===void 0?"mixed":e)}var N7=Object.freeze({__proto__:null,setAriaRole:yn,getAriaSortState:vP,getAriaLevel:yP,getAriaPosInSet:_P,getAriaDescribedBy:F7,setAriaLabel:gl,setAriaLabelledBy:dw,setAriaDescription:CP,setAriaDescribedBy:pw,setAriaLevel:wP,setAriaDisabled:fw,setAriaHidden:gw,setAriaExpanded:Jn,removeAriaExpanded:SP,setAriaSetSize:mw,setAriaPosInSet:vw,setAriaMultiSelectable:EP,setAriaRowCount:xP,setAriaRowIndex:yw,setAriaColCount:RP,setAriaColIndex:_w,setAriaColSpan:bP,setAriaSort:MP,removeAriaSort:TP,setAriaSelected:Bu,setAriaChecked:PP});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bv=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o};function Hh(r,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!r)return null;var i=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(n){return Eu(n,2)}).join(t);return e&&(i+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(n){return Eu(n,2)}).join(":")),i}var Mv=function(r){if(r>3&&r<21)return"th";var e=r%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Jp(r,e){e===void 0&&(e="YYYY-MM-DD");var t=Eu(r.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return""+r.getFullYear()},MMMM:function(){return i[r.getMonth()]},MMM:function(){return i[r.getMonth()].slice(0,3)},MM:function(){return Eu(r.getMonth()+1,2)},Mo:function(){return""+(r.getMonth()+1)+Mv(r.getMonth()+1)},M:function(){return""+(r.getMonth()+1)},Do:function(){return""+r.getDate()+Mv(r.getDate())},DD:function(){return Eu(r.getDate(),2)},D:function(){return""+r.getDate()},dddd:function(){return n[r.getDay()]},ddd:function(){return n[r.getDay()].slice(0,3)},dd:function(){return n[r.getDay()].slice(0,2)},do:function(){return""+r.getDay()+Mv(r.getDay())},d:function(){return""+r.getDay()}},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,function(a){return a in o?o[a]():a})}function zs(r){if(!r)return null;var e=bv(r.split(" "),2),t=e[0],i=e[1];if(!t)return null;var n=t.split("-").map(function(f){return parseInt(f,10)});if(n.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=bv(n,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!i||i==="00:00:00")return u;var c=bv(i.split(":").map(function(f){return parseInt(f,10)}),3),h=c[0],d=c[1],p=c[2];return h>=0&&h<24&&u.setHours(h),d>=0&&d<60&&u.setMinutes(d),p>=0&&p<60&&u.setSeconds(p),u}var G7=Object.freeze({__proto__:null,serialiseDate:Hh,dateToFormattedString:Jp,parseDateTimeFromString:zs});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var OP={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function fr(r,e,t){var i=Ti(r,e,t);if(i&&i.className.indexOf("ag-icon")>-1)return i;var n=document.createElement("span");return n.appendChild(i),n}function Ti(r,e,t,i){var n=null,o=t&&t.getColDef().icons;if(o&&(n=o[r]),e&&!n){var s=e.getIcons();s&&(n=s[r])}if(n){var a=void 0;if(typeof n=="function")a=n();else if(typeof n=="string")a=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return ji(a);if(cd(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=OP[r];return u||(i?u=r:(console.warn("AG Grid: Did not find icon "+r),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),yn(l,"presentation"),l}}var H7=Object.freeze({__proto__:null,iconNameClassMap:OP,createIcon:fr,createIconNoSpan:Ti});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var de=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.V="KeyV",r.D="KeyD",r.Z="KeyZ",r.Y="KeyY",r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var W7="Del",V7=46,k7=65,B7=67,U7=86,z7=68,j7=90,$7=89;function AP(r){if(r.altKey||r.ctrlKey||r.metaKey)return!1;var e=r.key.length===1,t=Y7(r);return e||t}function Xf(r,e,t,i,n){var o=r.getSuppressKeyboardEventFunc(),s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o&&!s)return!1;var a={event:e,editing:n,column:i,api:r.getApi(),node:t,data:t.data,colDef:i.getColDef(),context:r.getContext(),columnApi:r.getColumnApi()};if(s){var l=s(a);if(l)return!0}return o?o(a):!1}function DP(r,e,t,i){var n=i.getDefinition(),o=n&&n.suppressHeaderKeyboardEvent;if(!fe(o))return!1;var s={api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext(),colDef:n,column:i,headerRowIndex:t,event:e};return!!o(s)}function Y7(r){return jg()&&r.key===W7&&r.charCode===V7}function IP(r){var e=r.keyCode,t;switch(e){case k7:t=de.A;break;case B7:t=de.C;break;case U7:t=de.V;break;case z7:t=de.D;break;case j7:t=de.Z;break;case $7:t=de.Y;break;default:t=r.code}return t}function LP(r,e){return e===void 0&&(e=!1),r===de.DELETE?!0:!e&&r===de.BACKSPACE?nw():!1}var K7=Object.freeze({__proto__:null,isEventFromPrintableCharacter:AP,isUserSuppressingKeyboardEvent:Xf,isUserSuppressingHeaderKeyboardEvent:DP,normaliseQwertyAzerty:IP,isDeleteKey:LP});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Cw(r,e,t){if(t===0)return!1;var i=Math.abs(r.clientX-e.clientX),n=Math.abs(r.clientY-e.clientY);return Math.max(i,n)<=t}var X7=Object.freeze({__proto__:null,areEventsNear:Cw});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function q7(r,e){if(!r)return!1;for(var t=function(a,l){var u=e[a.id],c=e[l.id],h=u!==void 0,d=c!==void 0,p=h&&d,f=!h&&!d;return p?u-c:f?a.__objectId-l.__objectId:h?1:-1},i,n,o=!1,s=0;s<r.length-1;s++)if(i=r[s],n=r[s+1],t(i,n)>0){o=!0;break}return o?(r.sort(t),!0):!1}function Z7(r,e){var t=[];i(r);function i(n){!n||n.forEach(function(o){if(o.group||o.hasChildren()){t.push(o.key);var s=t.join("|");e(o,s),i(o.childrenAfterGroup),t.pop()}})}}var J7=Object.freeze({__proto__:null,sortRowNodesByOrder:q7,traverseNodesWithKey:Z7});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */function ww(r){var e=new Set;return r.forEach(function(t){return e.add(t)}),e}var Q7=Object.freeze({__proto__:null,convertToSet:ww});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var vi=function(){return vi=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},vi.apply(this,arguments)},e9=vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi({},L7),N7),w$),j$),C7),G7),T7),M$),c$),$$),e$),H7),K7),G$),X7),Z$),a$),J7),Q7),L$),Ze=e9;/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Uu=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return r.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(e){this.nextValue+=e},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cu;(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"})(cu||(cu={}));var vr=function(){function r(e){var t=this;this.status=cu.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(i){return t.onDone(i)},function(i){return t.onReject(i)})}return r.all=function(e){return new r(function(t){var i=e.length,n=new Array(i);e.forEach(function(o,s){o.then(function(a){n[s]=a,i--,i===0&&t(n)})})})},r.resolve=function(e){return e===void 0&&(e=null),new r(function(t){return t(e)})},r.prototype.then=function(e){var t=this;return new r(function(i){t.status===cu.RESOLVED?i(e(t.resolution)):t.waiters.push(function(n){return i(e(n))})})},r.prototype.resolveNow=function(e,t){return this.status===cu.RESOLVED?t(this.resolution):e},r.prototype.onDone=function(e){this.status=cu.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},r.prototype.onReject=function(e){console.warn("TBI")},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var t9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),__=function(){return __=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},__.apply(this,arguments)},Rc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Fr;(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"})(Fr||(Fr={}));var Sw=function(r){t9(e,r);function e(t){var i=r.call(this)||this;return i.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,i.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.state=Fr.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i.parentComp=t,i}return e.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(!ua()&&this.state==Fr.NOTHING){var i=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.lastMouseEvent=t,this.state=Fr.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===Fr.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Fr.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===Fr.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime()),this.state=Fr.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var i=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(function(){i(),t.getContext().destroyBean(n)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),i=e.lastTooltipHideTime;return t-i<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=__({},this.parentComp.getTooltipParams());if(!fe(t.value)){this.setToDoNothing();return}this.state=Fr.SHOWING,this.tooltipInstanceCount++;var i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),n=this.userComponentFactory.getTooltipCompDetails(t);n.newAgStackInstance().then(i)},e.prototype.newTooltipComponentCallback=function(t,i){var n=this.state!==Fr.SHOWING||this.tooltipInstanceCount!==t;if(n){this.getContext().destroyBean(i);return}var o=i.getGui();this.tooltipComp=i,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom");var s=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Rc([M("popupService")],e.prototype,"popupService",void 0),Rc([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Rc([M("columnApi")],e.prototype,"columnApi",void 0),Rc([M("gridApi")],e.prototype,"gridApi",void 0),Rc([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var i9=function(){function r(e){this.cssClassStates={},this.getGui=e}return r.prototype.addCssClass=function(e){var t=this,i=(e||"").split(" ");if(i.length>1){i.forEach(function(s){return t.addCssClass(s)});return}var n=this.cssClassStates[e]!==!0;if(n&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},r.prototype.removeCssClass=function(e){var t=this,i=(e||"").split(" ");if(i.length>1){i.forEach(function(s){return t.removeCssClass(s)});return}var n=this.cssClassStates[e]!==!1;if(n&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},r.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},r.prototype.addOrRemoveCssClass=function(e,t){var i=this;if(!!e){if(e.indexOf(" ")>=0){var n=(e||"").split(" ");if(n.length>1){n.forEach(function(a){return i.addOrRemoveCssClass(a,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var n9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},r9=new Uu,ct=function(r){n9(e,r);function e(t){var i=r.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=r9.next(),i.cssClassManager=new i9(function(){return i.eGui}),t&&i.setTemplate(t),i}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t){var i=this,n=function(){i.usingBrowserTooltips?i.getGui().removeAttribute("title"):i.tooltipFeature=i.destroyBean(i.tooltipFeature)},o=function(){i.usingBrowserTooltips?i.getGui().setAttribute("title",i.tooltipText):i.tooltipFeature=i.createBean(new Sw(i))};this.tooltipText!=t&&(this.tooltipText&&n(),t!=null&&(this.tooltipText=t,this.tooltipText&&o()))},e.prototype.createChildComponentsFromTags=function(t,i){var n=this,o=fP(t.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=n.createComponentFromElement(s,function(u){var c=u.getGui();c&&n.copyAttributesFromNode(s,u.getGui())},i);if(a){if(a.addItems&&s.children.length){n.createChildComponentsFromTags(s,i);var l=Array.prototype.slice.call(s.children);a.addItems(l)}n.swapComponentForNode(a,t,s)}else s.childNodes&&n.createChildComponentsFromTags(s,i)}})},e.prototype.createComponentFromElement=function(t,i,n){var o=t.nodeName,s=n?n[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){e.elementGettingCreated=t;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,i),l}return null},e.prototype.copyAttributesFromNode=function(t,i){gP(t.attributes,function(n,o){return i.setAttribute(n,o)})},e.prototype.swapComponentForNode=function(t,i,n){var o=t.getGui();i.replaceChild(o,n),i.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,i){var n=this;this.iterateOverQuerySelectors(function(o){n[o.attributeName]===i&&(n[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var i=Object.getPrototypeOf(this);i!=null;){var n=i.__agComponentMetaData,o=Ug(i.constructor);n&&n[o]&&n[o].querySelectors&&n[o].querySelectors.forEach(function(s){return t(s)}),i=Object.getPrototypeOf(i)}},e.prototype.setTemplate=function(t,i){var n=ji(t);this.setTemplateFromElement(n,i)},e.prototype.setTemplateFromElement=function(t,i){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(!!this.eGui){var i=this;this.iterateOverQuerySelectors(function(n){var o=function(l){return i[n.attributeName]=l},s=n.refSelector&&t.eGui.getAttribute("ref")===n.refSelector;if(s)o(t.eGui);else{var a=t.eGui.querySelector(n.querySelector);a&&o(a.__agComponent||a)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,i){if(t!=null)if(i||(i=this.eGui),cd(t))i.appendChild(t);else{var n=t;i.appendChild(n.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,uP(this.eGui,t))},e.prototype.setDisplayed=function(t){if(t!==this.displayed){this.displayed=t,qt(this.eGui,t);var i={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),r.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,i){var n=this;this.eGui.addEventListener(t,i),this.addDestroyFunc(function(){return n.eGui.removeEventListener(t,i)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)},e.prototype.getAttribute=function(t){var i=this.eGui;return i?i.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",Tv([M("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Tv([Dx],e.prototype,"preConstructOnComponent",null),Tv([Dx],e.prototype,"createChildComponentsPreConstruct",null),e}(me);function pe(r){return o9.bind(this,"[ref="+r+"]",r)}function o9(r,e,t,i,n){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof n=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}s9(t,"querySelectors",{attributeName:i,querySelector:r,refSelector:e})}function s9(r,e,t){var i=a9(r,Ug(r.constructor));i[e]||(i[e]=[]),i[e].push(t)}function a9(r,e){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[e]||(r.__agComponentMetaData[e]={}),r.__agComponentMetaData[e]}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var l9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},u9=function(r){l9(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var i=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(i+" "+n("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var i=this;if(!t){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(n){if(n.getModelAsString){var o=n.getModelAsString(t);i.eFloatingFilterText.setValue(o)}})},Vx([pe("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),Vx([M("columnModel")],e.prototype,"columnModel",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FP=function(){function r(e,t,i,n){var o=this;this.alive=!0,this.context=e,this.eParent=n;var s=t.getDateCompDetails(i),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(n.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},r.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},r.prototype.setDisplayed=function(e){qt(this.eParent,e)},r.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},r.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},r.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},r.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var C_=function(){return C_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},C_.apply(this,arguments)},NP=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e),this.checkForDeprecatedParams()},r.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(e){return typeof e!="string"&&e.test!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(e){return typeof e!="string"&&e.hideFilterInput!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var e=this;!this.filterOptions||this.filterOptions.forEach(function(t){if(typeof t!="string"){var i=[["displayKey"],["displayName"],["predicate","test"]],n=function(a){return a.some(function(l){return t[l]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+a+"'"),!1)};if(!i.every(n)){e.filterOptions=e.filterOptions.filter(function(a){return a===t})||[];return}var o=t.test,s=C_({},t);o!=null&&t.predicate==null&&(s.predicate=function(a,l){return o(a[0],l)},delete s.test),s.hideFilterInput&&s.numberOfInputs==null&&(s.numberOfInputs=0,delete s.hideFilterInput),e.customFilterOptions[t.displayKey]=s}})},r.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var c9={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var h9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),w_=function(){return w_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},w_.apply(this,arguments)},kx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ha=function(r){h9(e,r);function e(t,i){i===void 0&&(i={});var n=r.call(this)||this;return n.eFocusableElement=t,n.callbacks=i,n.callbacks=w_({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=n.focusService.findNextFocusableElement(n.eFocusableElement,!1,o.shiftKey);!s||(s.focus(),o.preventDefault())}}},i),n}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var i=this;this.addManagedListener(t,"keydown",function(n){if(!(n.defaultPrevented||So(n))){if(i.callbacks.shouldStopEventPropagation(n)){Vu(n);return}n.key===de.TAB?i.callbacks.onTabKeyDown(n):i.callbacks.handleKeyDown&&i.callbacks.handleKeyDown(n)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",kx([M("focusService")],e.prototype,"focusService",void 0),kx([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var d9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qf=function(r){d9(e,r);function e(t){var i=r.call(this)||this;return i.filterNameKey=t,i.applyActive=!1,i.hidePopup=null,i.appliedModel=null,i}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ha(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);var n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper">
                    `+this.createBodyTemplate()+`
                </div>
            </form>`;this.setTemplate(n,t),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var i=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,i=this.providedFilterParams.buttons;if(!(!i||i.length<1||this.isReadOnly())){var n=document.createElement("div");n.classList.add("ag-filter-apply-panel");var o=function(s){var a,l;switch(s){case"apply":a=t.translate("applyFilter"),l=function(h){return t.onBtApply(!1,!1,h)};break;case"clear":a=t.translate("clearFilter"),l=function(){return t.onBtClear()};break;case"reset":a=t.translate("resetFilter"),l=function(){return t.onBtReset()};break;case"cancel":a=t.translate("cancelFilter"),l=function(h){t.onBtCancel(h)};break;default:console.warn("AG Grid: Unknown button type specified");return}var u=s==="apply"?"submit":"button",c=ji(`<button
                    type="`+u+`"
                    ref="`+s+`FilterButton"
                    class="ag-standard-button ag-filter-apply-panel-button"
                >`+a+`
                </button>`);n.appendChild(c),t.addManagedListener(c,"click",l)};ww(i).forEach(function(s){return o(s)}),this.getGui().appendChild(n)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=oa(this.onBtApply.bind(this),t)},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var i=this,n=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return n.then(function(){i.updateUiVisibility(),i.applyModel()})},e.prototype.onBtCancel=function(t){var i=this,n=this.getModel(),o=function(){i.onUiChanged(!1,"prevent"),i.providedFilterParams.closeOnApply&&i.close(t)};n!=null?this.setModelIntoUi(n).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,i,n){t===void 0&&(t=!1),i===void 0&&(i=!1),n&&n.preventDefault(),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:i});var o=this.providedFilterParams.closeOnApply;o&&this.applyActive&&!t&&!i&&this.close(n)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(!!this.hidePopup){var i=t,n=i&&i.key,o;(n==="Enter"||n==="Space")&&(o={keyboardEvent:i}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,i){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var n=this.isModelValid(this.getModelFromUi());ku(this.getRefElement("applyFilterButton"),!n)}t&&!i||i==="immediately"?this.onBtApply(t):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t!=null&&(this.hidePopup=t.hidePopup)},e.getDebounceMs=function(t,i){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:i},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,r.prototype.destroy.call(this)},e.prototype.translate=function(t){var i=this.gridOptionsWrapper.getLocaleTextFunc();return i(t,c9[t])},e.prototype.getCellValue=function(t){var i=this.providedFilterParams,n=i.api,o=i.colDef,s=i.column,a=i.columnApi,l=i.context;return this.providedFilterParams.valueGetter({api:n,colDef:o,column:s,columnApi:a,context:l,data:t.data,getValue:function(u){return t.data[u]},node:t})},Bx([M("rowModel")],e.prototype,"rowModel",void 0),Bx([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var p9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),f9=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ew=function(r){p9(e,r);function e(t,i){var n=r.call(this,i)||this;return n.labelSeparator="",n.labelAlignment="left",n.disabled=!1,n.label="",n.config=t||{},n}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,i=t.labelSeparator,n=t.label,o=t.labelWidth,s=t.labelAlignment;i!=null&&this.setLabelSeparator(i),n!=null&&this.setLabel(n),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){ir(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(this.eLabel.classList.add("ag-hidden"),yn(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),yn(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var i=this.getGui(),n=i.classList;return n.toggle("ag-label-align-left",t==="left"),n.toggle("ag-label-align-right",t==="right"),n.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(ud(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var i=this.getGui();return ku(i,t),i.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},f9([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var g9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),is=function(r){g9(e,r);function e(t,i,n){var o=r.call(this,t,i)||this;return o.className=n,o}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var i=this;return this.addManagedListener(this,e.EVENT_CHANGED,function(){return t(i.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Mo(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,i){return this.value===t?this:(this.previousValue=this.value,this.value=t,i||this.dispatchEvent({type:e.EVENT_CHANGED}),this)},e.EVENT_CHANGED="valueChange",e}(Ew);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var m9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},GP=function(r){m9(e,r);function e(t,i,n,o){var s=r.call(this,t,`<div class="ag-picker-field" role="presentation">
                <div ref="eLabel"></div>
                <div ref="eWrapper"
                    class="ag-wrapper ag-picker-field-wrapper"
                    tabIndex="-1"
                    aria-expanded="false"
                    `+(o?'role="'+o+'"':"")+`
                >
                    <div ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,i)||this;return s.pickerIcon=n,s.isPickerDisplayed=!1,s.isDestroyingPicker=!1,s.skipClick=!1,s}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this);var i=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",i),pw(this.eWrapper,i);var n=function(){if(t.skipClick){t.skipClick=!1;return}t.isDisabled()||(t.pickerComponent=t.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",function(a){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&oc(t.pickerComponent.getGui())&&o.contains(a.target)&&(t.skipClick=!0)}),this.addManagedListener(o,"keydown",function(a){switch(a.key){case de.UP:case de.DOWN:case de.ENTER:case de.SPACE:n();case de.ESCAPE:t.isPickerDisplayed&&a.preventDefault();break}}),this.addManagedListener(this.eWrapper,"click",n),this.addManagedListener(this.eLabel,"click",n),this.pickerIcon){var s=Ti(this.pickerIcon,this.gridOptionsWrapper);s&&this.eIcon.appendChild(s)}},e.prototype.refreshLabel=function(){fe(this.getLabel())?dw(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),r.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return gl(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return ud(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},vp([pe("eLabel")],e.prototype,"eLabel",void 0),vp([pe("eWrapper")],e.prototype,"eWrapper",void 0),vp([pe("eDisplayField")],e.prototype,"eDisplayField",void 0),vp([pe("eIcon")],e.prototype,"eIcon",void 0),e}(is);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var v9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),y9=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ux=function(r){v9(e,r);function e(t){t===void 0&&(t="default");var i=r.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return i.cssIdentifier=t,i.options=[],i.itemEls=[],i}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var i=t.key;switch(i){case de.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case de.DOWN:case de.UP:var o=i===de.DOWN,s=void 0;if(t.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},e.prototype.addOptions=function(t){var i=this;return t.forEach(function(n){return i.addOption(n)}),this},e.prototype.addOption=function(t){var i=t.value,n=t.text,o=bo(n||i);return this.options.push({value:i,text:o}),this.renderOption(i,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(i,n){vw(i,n+1),mw(i,t.length)})},e.prototype.renderOption=function(t,i){var n=this,o=document.createElement("div");yn(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+i+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return n.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return n.clearHighlighted()}),this.addManagedListener(o,"click",function(){return n.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,i){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var n=this.options.findIndex(function(s){return s.value===t});if(n!==-1){var o=this.options[n];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var i=this.options.findIndex(function(n){return n.value===t.value});i!==-1&&this.highlightItem(this.itemEls[i])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){!t.offsetParent||(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),Bu(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),Bu(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:is.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",y9([we],e.prototype,"init",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},HP=function(r){_9(e,r);function e(t){return r.call(this,t,"ag-select","smallDown","listbox")||this}return e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new Ux("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Ux.EVENT_ITEM_SELECTED,function(){t.hideList&&t.hideList()}),this.listComponent.addManagedListener(this.listComponent,is.EVENT_CHANGED,function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()})},e.prototype.showPicker=function(){var t=this,i=this.listComponent.getGui(),n=this.gridOptionsWrapper.getDocument(),o=this.addManagedListener(n.body,"wheel",function(u){!i.contains(u.target)&&t.hideList&&t.hideList()}),s=this.addManagedListener(i,"focusout",function(u){!i.contains(u.relatedTarget)&&t.hideList&&t.hideList()}),a=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,s(),o(),t.isAlive()&&(Jn(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:a("ariaLabelSelectField","Select Field")});return l&&(this.hideList=l.hideFunc),this.isPickerDisplayed=!0,ud(i,Kg(this.eWrapper)),Jn(this.eWrapper,!0),i.style.maxHeight=ld(this.popupService.getPopupParent())+"px",i.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:i,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var i=this;return t.forEach(function(n){return i.addOption(n)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,i,n){if(this.value===t)return this;n||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,t,i))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),r.prototype.destroy.call(this)},zx([M("popupService")],e.prototype,"popupService",void 0),zx([we],e.prototype,"init",null),e}(GP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var C9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Zo=function(r){C9(e,r);function e(t,i,n,o){n===void 0&&(n="text"),o===void 0&&(o="input");var s=r.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+o+' ref="eInput" class="ag-input-field-input"></'+o+`>
                </div>
            </div>`,i)||this;return s.inputType=n,s.displayFieldTag=o,s}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,i=t.width,n=t.value;i!=null&&this.setWidth(i),n!=null&&this.setValue(n),this.addInputListeners()},e.prototype.refreshLabel=function(){fe(this.getLabel())?dw(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),r.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(i){return t.setValue(i.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return ud(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var i=this.eInput;return i.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return ch(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return gl(this.eInput,t),this},e.prototype.setDisabled=function(t){return ku(this.eInput,t),r.prototype.setDisabled.call(this,t)},Pv([pe("eLabel")],e.prototype,"eLabel",void 0),Pv([pe("eWrapper")],e.prototype,"eWrapper",void 0),Pv([pe("eInput")],e.prototype,"eInput",void 0),e}(is);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var w9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ca=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ln;(function(r){r[r.One=0]="One",r[r.Two=1]="Two"})(ln||(ln={}));var pi=function(r){w9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getNumberOfInputs=function(t){var i=this.optionsFactory.getCustomOption(t);if(i){var n=i.numberOfInputs;return n!=null?n:1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,i){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(ln.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(ln.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(ln.One),condition2:this.createCondition(ln.Two)}:this.createCondition(ln.One):null},e.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},e.prototype.getJoinOperator=function(){return this.eJoinOperatorOr.getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,i){if(!t&&!i)return!0;if(!t&&i||t&&!i)return!1;var n=!t.operator,o=!i.operator,s=!n&&o||n&&!o;if(s)return!1;var a;if(n){var l=t,u=i;a=this.areSimpleModelsEqual(l,u)}else{var c=t,h=i;a=c.operator===h.operator&&this.areSimpleModelsEqual(c.condition1,h.condition1)&&this.areSimpleModelsEqual(c.condition2,h.condition2)}return a},e.prototype.setModelIntoUi=function(t){var i=t.operator;if(i){var n=t,o=n.operator==="OR";this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(n.condition1.type),this.eType2.setValue(n.condition2.type),this.setConditionIntoUi(n.condition1,ln.One),this.setConditionIntoUi(n.condition2,ln.Two)}else{var s=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(s.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(s,ln.One),this.setConditionIntoUi(null,ln.Two)}return vr.resolve()},e.prototype.doesFilterPass=function(t){var i=this,n=this.getModel();if(n==null)return!0;var o=n.operator,s=[];if(o){var a=n;s.push(a.condition1,a.condition2)}else s.push(n);var l=o&&o==="OR"?"some":"every";return s[l](function(u){return i.individualConditionPasses(t,u)})},e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.optionsFactory=new NP,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.getDefaultJoinOperator=function(t){return tr(["AND","OR"],t)?t:"AND"},e.prototype.putOptionsIntoDropdown=function(){var t=this,i=this.optionsFactory.getFilterOptions(),n=[this.eType1,this.eType2];i.forEach(function(o){var s=typeof o=="string"?t.createBoilerplateListOption(o):t.createCustomListOption(o);n.forEach(function(a){return a.addOption(s)})}),n.forEach(function(o){return o.setDisabled(i.length<=1)})},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var i=t.displayKey,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:i,text:n?this.gridOptionsWrapper.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){return`
            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>
            `+this.createValueTemplate(ln.One)+`
            <div class="ag-filter-condition" ref="eJoinOperatorPanel">
               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>
               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>
            </div>
            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>
            `+this.createValueTemplate(ln.Two)},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this,i=[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],n=[this.eCondition1Body,this.eCondition2Body];i.forEach(function(o,s){var a=t.isConditionVisible(s),l=t.isConditionDisabled(s);o.forEach(function(u){u instanceof Zo||u instanceof HP?(u.setDisabled(l),u.setDisplayed(a)):(ku(u,l),qt(u,a))})}),n.forEach(function(o,s){qt(o,t.isConditionBodyVisible(s))}),this.forEachInput(function(o,s,a,l){t.setElementDisplayed(o,s<l),t.setElementDisabled(o,t.isConditionDisabled(a))}),this.resetPlaceholder()},e.prototype.afterGuiAttached=function(t){if(r.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){var i=this.getInputs()[0][0];if(!i)return;i instanceof Zo&&i.getInputElement().focus()}},e.prototype.getPlaceholderText=function(t,i){var n=this.translate(t);if(zg(this.filterPlaceholder)){var o=this.filterPlaceholder,s=i===0?this.eType1.getValue():this.eType2.getValue(),a=this.translate(s);n=o({filterOptionKey:s,filterOption:a,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n},e.prototype.resetPlaceholder=function(){var t=this,i=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(n,o,s,a){if(n instanceof Zo){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?i("ariaFilterFromValue","Filter from value"):o===0?i("ariaFilterValue","Filter Value"):i("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(t.getPlaceholderText(l,s)),n.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,i,n){t instanceof Zo&&t.setValue(i!=null?String(i):null,n)},e.prototype.setElementDisplayed=function(t,i){t instanceof ct&&qt(t.getGui(),i)},e.prototype.setElementDisabled=function(t,i){t instanceof ct&&ku(t.getGui(),i)},e.prototype.attachElementOnChange=function(t,i){t instanceof Zo&&t.onValueChange(i)},e.prototype.forEachInput=function(t){var i=this,n=this.getInputs();this.getConditionTypes().forEach(function(o,s){for(var a=i.getNumberOfInputs(o),l=0;l<n[s].length;l++){var u=n[s][l];u!=null&&t(u,l,s,a)}})},e.prototype.isConditionVisible=function(t){return t===0?!0:this.allowTwoConditions?this.isReadOnly()?this.isConditionUiComplete(t):this.alwaysShowBothConditions?!0:this.isConditionUiComplete(t-1):!1},e.prototype.isConditionDisabled=function(t){return this.isReadOnly()||!this.isConditionVisible(t)?!0:t===0?!1:!this.isConditionUiComplete(t-1)},e.prototype.isConditionBodyVisible=function(t){if(!this.isConditionVisible(t))return!1;var i=this.getConditionTypes()[t],n=this.getNumberOfInputs(i);return n>0},e.prototype.isConditionUiComplete=function(t){var i=this.getConditionTypes()[t];return!(i===e.EMPTY||this.getValues(t).some(function(n){return n==null}))},e.prototype.resetUiToDefaults=function(t){var i=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=n("ariaFilteringOperator","Filtering operator"),s="ag-simple-filter-and-or-"+this.getCompId(),a=this.optionsFactory.getDefaultOption();return this.eType1.setValue(a,t).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),t).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(s).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(s).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(l){i.setElementValue(l,null,t),i.setElementDisabled(l,i.isReadOnly())}),this.resetPlaceholder(),vr.resolve()},e.prototype.setConditionIntoUi=function(t,i){var n=this,o=this.mapValuesFromModel(t);this.forEachInput(function(s,a,l,u){l===i&&n.setElementValue(s,o[a]!=null?o[a]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var i=this;this.forEachInput(function(n,o,s,a){i.setElementValue(n,o===0&&s===0?t:null)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(){var t=this;if(!this.isReadOnly()){var i=function(){return t.onUiChanged()};this.eType1.onValueChange(i),this.eType2.onValueChange(i),this.eJoinOperatorOr.onValueChange(i),this.eJoinOperatorAnd.onValueChange(i),this.forEachInput(function(n){t.attachElementOnChange(n,i)})}},e.prototype.individualConditionPasses=function(t,i){var n=this.getCellValue(t.node),o=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type),a=this.evaluateCustomFilter(s,o,n);return a!=null?a:n==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(o,n,i,t)},e.prototype.evaluateCustomFilter=function(t,i,n){if(t!=null){var o=t.predicate;if(o!=null&&!i.some(function(s){return s==null}))return o(i,n)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",Ca([pe("eOptions1")],e.prototype,"eType1",void 0),Ca([pe("eOptions2")],e.prototype,"eType2",void 0),Ca([pe("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),Ca([pe("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),Ca([pe("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),Ca([pe("eCondition1Body")],e.prototype,"eCondition1Body",void 0),Ca([pe("eCondition2Body")],e.prototype,"eCondition2Body",void 0),e}(qf);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var S9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ki=function(r){S9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,i,n){var o=this.comparator(),s=t[0]!=null?o(t[0],i):0;switch(n.type){case e.EQUALS:return s===0;case e.NOT_EQUAL:return s!==0;case e.GREATER_THAN:return s>0;case e.GREATER_THAN_OR_EQUAL:return s>=0;case e.LESS_THAN:return s<0;case e.LESS_THAN_OR_EQUAL:return s<=0;case e.IN_RANGE:{var a=o(t[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case e.BLANK:return this.isBlank(i);case e.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(pi);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var E9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),S_=function(){return S_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},S_.apply(this,arguments)},bc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jx=1e3,$x=1/0,WP=function(r){E9(e,r);function e(){var t=r.call(this,"dateFilter")||this;return t.minValidYear=jx,t.maxValidYear=$x,t}return e.prototype.afterGuiAttached=function(t){r.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var i=t||{},n=i.dateFrom,o=i.dateTo,s=i.type;return[n&&zs(n)||null,o&&zs(o)||null].slice(0,this.getNumberOfInputs(s))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,i){var n=i;return i==null||n<t?-1:n>t?1:0},e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.dateFilterParams=t;var i=function(n,o){if(t[n]!=null)if(isNaN(t[n]))console.warn("AG Grid: DateFilter "+n+" is not a number");else return t[n]==null?o:Number(t[n]);return o};this.minValidYear=i("minValidYear",jx),this.maxValidYear=i("maxValidYear",$x),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},e.prototype.createDateComponents=function(){var t=this,i=function(n){return new FP(t.getContext(),t.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:t.dateFilterParams},n)};this.dateCondition1FromComp=i(this.eCondition1PanelFrom),this.dateCondition1ToComp=i(this.eCondition1PanelTo),this.dateCondition2FromComp=i(this.eCondition2PanelFrom),this.dateCondition2ToComp=i(this.eCondition2PanelTo),this.addDestroyFunc(function(){t.forEachInput(function(n){return n.destroy()})})},e.prototype.setElementValue=function(t,i,n){t.setDate(i)},e.prototype.setElementDisplayed=function(t,i){t.setDisplayed(i)},e.prototype.setElementDisabled=function(t,i){t.setDisabled(i)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var i=t===ln.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+i+`Body">
                <div class="ag-filter-from ag-filter-date-from" ref="eCondition`+i+`PanelFrom"></div>
                <div class="ag-filter-to ag-filter-date-to" ref="eCondition`+i+`PanelTo"></div>
            </div>`},e.prototype.isConditionUiComplete=function(t){var i=this;if(!r.prototype.isConditionUiComplete.call(this,t))return!1;var n=function(s){return s!=null&&s.getUTCFullYear()>=i.minValidYear&&s.getUTCFullYear()<=i.maxValidYear},o=!0;return this.forEachInput(function(s,a,l,u){l!==t||!o||a>=u||(o=o&&n(s.getDate()))}),o},e.prototype.areSimpleModelsEqual=function(t,i){return t.dateFrom===i.dateFrom&&t.dateTo===i.dateTo&&t.type===i.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var i=this.getConditionTypes()[t],n={},o=this.getValues(t);return o.length>0&&(n.dateFrom=Hh(o[0])),o.length>1&&(n.dateTo=Hh(o[1])),S_({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},n)},e.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(i),o.setInputAriaLabel(n)})},e.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},e.prototype.getValues=function(t){var i=[];return this.forEachInput(function(n,o,s,a){t===s&&o<a&&i.push(n.getDate())}),i},e.DEFAULT_FILTER_OPTIONS=[ki.EQUALS,ki.GREATER_THAN,ki.LESS_THAN,ki.NOT_EQUAL,ki.IN_RANGE,ki.BLANK,ki.NOT_BLANK],bc([pe("eCondition1PanelFrom")],e.prototype,"eCondition1PanelFrom",void 0),bc([pe("eCondition1PanelTo")],e.prototype,"eCondition1PanelTo",void 0),bc([pe("eCondition2PanelFrom")],e.prototype,"eCondition2PanelFrom",void 0),bc([pe("eCondition2PanelTo")],e.prototype,"eCondition2PanelTo",void 0),bc([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ki);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var x9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),VP=function(r){x9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.getTextFromModel=function(t){if(!t)return null;var i=t.operator!=null;if(i){var n=t,o=n||{},s=o.condition1,a=o.condition2,l=this.getTextFromModel(s),u=this.getTextFromModel(a);return[l,n.operator,u].join(" ")}else if(t.type===pi.BLANK||t.type===pi.NOT_BLANK){var c=this.gridOptionsWrapper.getLocaleTextFunc();return c(t.type,t.type)}else{var h=t,d=this.optionsFactory.getCustomOption(h.type),p=d||{},f=p.displayKey,m=p.displayName,g=p.numberOfInputs;return f&&m&&g===0?(this.gridOptionsWrapper.getLocaleTextFunc()(f,m),m):this.conditionToString(h,d)}},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var i=t.operator,n;if(i){var o=t;n=o.condition1}else n=t;this.lastType=n.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var i=t.operator;if(i)return!1;var n=t;return this.isTypeEditable(n.type)},e.prototype.init=function(t){this.optionsFactory=new NP,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var i=this.isTypeEditable(this.lastType);this.setEditable(i)},e.prototype.doesFilterHaveSingleInput=function(t){var i=this.optionsFactory.getCustomOption(t),n=(i||{}).numberOfInputs;return n==null||n==1},e.prototype.isTypeEditable=function(t){var i=[pi.IN_RANGE,pi.EMPTY,pi.BLANK,pi.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&i.indexOf(t)<0},e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var R9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ov=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},b9=function(r){R9(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return WP.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t,i){var n=t.type,o=(i||{}).numberOfInputs,s=n==pi.IN_RANGE||o===2,a=zs(t.dateFrom),l=zs(t.dateTo),u=this.filterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?Jp(a,u):"null",h=l!==null?Jp(l,u):"null";return c+"-"+h}return a!=null?Jp(a,u):""+n},e.prototype.init=function(t){r.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent();var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))},e.prototype.setEditable=function(t){qt(this.eDateWrapper,t),qt(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,i){if(!this.isEventFromFloatingFilter(i)){r.prototype.setLastTypeFromModel.call(this,t);var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(n),n){if(t){var o=t;this.dateComp.setDate(zs(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,i=this.dateComp.getDate(),n=Hh(i);this.params.parentFilterInstance(function(o){if(o){var s=zs(n);o.onFloatingFilterChanged(t.getLastType()||null,s)}})},e.prototype.createDateComponent=function(){var t=this,i=qf.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:oa(this.onDateChanged.bind(this),i),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new FP(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},Ov([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ov([pe("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Ov([pe("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(VP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var M9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),T9=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},P9=function(r){M9(e,r);function e(){return r.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var i=this,n=this.gridOptionsWrapper.getDocument(),o=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(t)&&(o.type="date"),this.addManagedListener(o,"mousedown",function(){i.eDateInput.isDisabled()||o.focus()}),this.addManagedListener(o,"input",function(u){u.target===n.activeElement&&(i.eDateInput.isDisabled()||t.onDateChanged())});var s=t.filterParams||{},a=s.minValidYear,l=s.maxValidYear;a&&(o.min=a+"-01-01"),l&&(o.max=l+"-12-31")},e.prototype.getDate=function(){return zs(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Hh(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:ad()||iw()},T9([pe("eDateInput")],e.prototype,"eDateInput",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var O9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kP=function(r){O9(e,r);function e(){return r.call(this,"numberFilter")||this}return e.prototype.mapValuesFromModel=function(t){var i=t||{},n=i.filter,o=i.filterTo,s=i.type;return[n==null?null:n,o==null?null:o].slice(0,this.getNumberOfInputs(s))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,i){return t===i?0:t<i?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t;var i=this.getAllowedCharPattern();if(i){var n={allowedCharPattern:i};this.resetTemplate({"eValue-index0-1":n,"eValue-index1-1":n,"eValue-index0-2":n,"eValue-index1-2":n})}r.prototype.setParams.call(this,t)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var i=t===ln.One?"1":"2",n=this.getAllowedCharPattern(),o=n?"ag-input-text-field":"ag-input-number-field";return`
            <div class="ag-filter-body" ref="eCondition`+i+`Body" role="presentation">
                <`+o+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+i+'"></'+o+`>
                <`+o+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+i+'"></'+o+`>
            </div>`},e.prototype.getValues=function(t){var i=this,n=[];return this.forEachInput(function(o,s,a,l){t===a&&s<l&&n.push(i.stringToFloat(o.getValue()))}),n},e.prototype.areSimpleModelsEqual=function(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type},e.prototype.getFilterType=function(){return"number"},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var i=Zs(t);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)},e.prototype.createCondition=function(t){var i=this.getConditionTypes()[t],n={filterType:this.getFilterType(),type:i},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},e.prototype.getAllowedCharPattern=function(){var t=(this.numberFilterParams||{}).allowedCharPattern;return t||(!ad()&&!jg()?"\\d\\-\\.":null)},e.DEFAULT_FILTER_OPTIONS=[ki.EQUALS,ki.NOT_EQUAL,ki.LESS_THAN,ki.LESS_THAN_OR_EQUAL,ki.GREATER_THAN,ki.GREATER_THAN_OR_EQUAL,ki.IN_RANGE,ki.BLANK,ki.NOT_BLANK],yp([pe("eValue-index0-1")],e.prototype,"eValueFrom1",void 0),yp([pe("eValue-index1-1")],e.prototype,"eValueTo1",void 0),yp([pe("eValue-index0-2")],e.prototype,"eValueFrom2",void 0),yp([pe("eValue-index1-2")],e.prototype,"eValueTo2",void 0),e}(ki);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var A9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zf=function(){return Zf=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Zf.apply(this,arguments)},_p=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xw=function(r){A9(e,r);function e(){return r.call(this,"textFilter")||this}return e.trimInput=function(t){var i=t&&t.trim();return i===""?t:i},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.textFilterParams=t,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(Ze.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(i){var n=i.filterOption,o=i.value,s=i.filterText;return t(n,o,s)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var i=this.getConditionTypes()[t],n={filterType:this.getFilterType(),type:i},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type},e.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},e.prototype.getValues=function(t){var i=this,n=[];return this.forEachInput(function(o,s,a,l){if(t===a&&s<l){var u=Zs(o.getValue()),c=(i.textFilterParams.trimInput?e.trimInput(u):u)||null;n.push(c),o.setValue(c,!0)}}),n},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var i=t===ln.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+i+`Body" role="presentation">
                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-`+i+`"></ag-input-text-field>
                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-`+i+`"></ag-input-text-field>
            </div>`},e.prototype.mapValuesFromModel=function(t){var i=t||{},n=i.filter,o=i.filterTo,s=i.type;return[n||null,o||null].slice(0,this.getNumberOfInputs(s))},e.prototype.evaluateNullValue=function(t){var i=[pi.NOT_EQUAL,pi.NOT_CONTAINS,pi.BLANK];return t?i.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,i,n,o){var s=this,a=t.map(function(y){return s.formatter(y)})||[],l=this.formatter(i),u=this.textFilterParams,c=u.api,h=u.colDef,d=u.column,p=u.columnApi,f=u.context,m=u.textFormatter;if(n.type===pi.BLANK)return this.isBlank(i);if(n.type===pi.NOT_BLANK)return!this.isBlank(i);var g={api:c,colDef:h,column:d,columnApi:p,context:f,node:o.node,data:o.data,filterOption:n.type,value:l,textFormatter:m};return a.some(function(y){return s.matcher(Zf(Zf({},g),{filterText:y}))})},e.DEFAULT_FILTER_OPTIONS=[pi.CONTAINS,pi.NOT_CONTAINS,pi.EQUALS,pi.NOT_EQUAL,pi.STARTS_WITH,pi.ENDS_WITH,pi.BLANK,pi.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var i=t.filterOption,n=t.value,o=t.filterText;if(o==null)return!1;switch(i){case e.CONTAINS:return n.indexOf(o)>=0;case e.NOT_CONTAINS:return n.indexOf(o)<0;case e.EQUALS:return n===o;case e.NOT_EQUAL:return n!=o;case e.STARTS_WITH:return n.indexOf(o)===0;case e.ENDS_WITH:var s=n.lastIndexOf(o);return s>=0&&s===n.length-o.length;default:return!1}},_p([pe("eValue-index0-1")],e.prototype,"eValueFrom1",void 0),_p([pe("eValue-index1-1")],e.prototype,"eValueTo1",void 0),_p([pe("eValue-index0-2")],e.prototype,"eValueFrom2",void 0),_p([pe("eValue-index1-2")],e.prototype,"eValueTo2",void 0),e}(pi);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var D9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Av=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},BP=function(r){D9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.resetTemplate()},e.prototype.resetTemplate=function(t){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>
            </div>
        `,t)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,i){this.isEventFromFloatingFilter(i)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},e.prototype.init=function(t){r.prototype.init.call(this,t),this.params=t,this.applyActive=qf.isUseApplyButton(this.params.filterParams);var i=this.params.filterParams.allowedCharPattern;if(i!=null&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:i}}),!this.isReadOnly()){var n=qf.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=oa(this.syncUpWithParentFilter.bind(this),n),s=this.eFloatingFilterInput.getGui();this.addManagedListener(s,"input",o),this.addManagedListener(s,"keypress",o),this.addManagedListener(s,"keydown",o)}var a=t.column.getDefinition();(this.isReadOnly()||a.filterParams&&a.filterParams.filterOptions&&a.filterParams.filterOptions.length===1&&a.filterParams.filterOptions[0]==="inRange")&&this.eFloatingFilterInput.setDisabled(!0);var l=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(l+" "+u("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var i=this,n=t.key===de.ENTER;if(!(this.applyActive&&!n)){var o=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(o=xw.trimInput(o),this.eFloatingFilterInput.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(i.getLastType()||null,o||null)})}},e.prototype.conditionToString=function(t,i){var n=(i||{}).numberOfInputs,o=t.type==pi.IN_RANGE||n===2;return o?t.filter+"-"+t.filterTo:t.filter!=null?""+t.filter:""+t.type},e.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},Av([M("columnModel")],e.prototype,"columnModel",void 0),Av([pe("eFloatingFilterInput")],e.prototype,"eFloatingFilterInput",void 0),Av([we],e.prototype,"postConstruct",null),e}(VP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var I9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),L9=function(r){I9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultFilterOptions=function(){return kP.DEFAULT_FILTER_OPTIONS},e}(BP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var F9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),N9=function(r){F9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultFilterOptions=function(){return xw.DEFAULT_FILTER_OPTIONS},e}(BP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Qn=function(){function r(e,t){var i=this;t===void 0&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new la,this.eElement=e,this.preventMouseClick=t;var n=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){i.eElement.removeEventListener("touchstart",n,{passive:!0}),i.eElement.removeEventListener("touchmove",o,{passive:!0}),i.eElement.removeEventListener("touchend",s,{passive:!1})})}return r.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var i=e[t].identifier===this.touchStart.identifier;if(i)return e[t]}return null},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){var n=t.touchStart===i;if(t.touching&&n&&!t.moved){t.moved=!0;var o={type:r.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},r.prototype.onTouchMove=function(e){if(!!this.touching){var t=this.getActiveTouch(e.touches);if(!!t){var i=!Cw(t,this.touchStart,4);i&&(this.moved=!0)}}},r.prototype.onTouchEnd=function(e){if(!!this.touching){if(!this.moved){var t={type:r.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},r.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>r.DOUBLE_TAP_MILLIS){var i={type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var G9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wa=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rw=function(r){G9(e,r);function e(t){var i=r.call(this)||this;return t||i.setTemplate(e.TEMPLATE),i}return e.prototype.attachCustomElements=function(t,i,n,o,s){this.eSortOrder=t,this.eSortAsc=i,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=s},e.prototype.setupSort=function(t,i){var n=this;i===void 0&&(i=!1),this.column=t,this.suppressOrder=i,this.setupMultiSortIndicator();var o=!!this.column.getColDef().sortable;!o||(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,function(){return n.onSortChanged()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,i,n){if(i!=null){var o=Ti(t,this.gridOptionsWrapper,n);o&&i.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var i=t==="asc";this.eSortAsc.classList.toggle("ag-hidden",!i)}if(this.eSortDesc){var n=t==="desc";this.eSortDesc.classList.toggle("ag-hidden",!n)}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon(),s=t==null;this.eSortNone.classList.toggle("ag-hidden",o||!s)}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var i=this.column.getColDef().showRowGroup,n=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();n&&i&&(this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";this.eSortMixed.classList.toggle("ag-hidden",!t)}},e.prototype.updateSortOrder=function(){var t=this,i;if(!!this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),o=(i=this.sortController.getDisplaySortIndexForColumn(this.column),i!=null?i:-1),s=n.some(function(l){var u;return u=t.sortController.getDisplaySortIndexForColumn(l),u!=null?u:-1>=1}),a=o>=0&&s;qt(this.eSortOrder,a),o>=0?this.eSortOrder.innerHTML=(o+1).toString():ir(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,wa([pe("eSortOrder")],e.prototype,"eSortOrder",void 0),wa([pe("eSortAsc")],e.prototype,"eSortAsc",void 0),wa([pe("eSortDesc")],e.prototype,"eSortDesc",void 0),wa([pe("eSortMixed")],e.prototype,"eSortMixed",void 0),wa([pe("eSortNone")],e.prototype,"eSortNone",void 0),wa([M("columnModel")],e.prototype,"columnModel",void 0),wa([M("sortController")],e.prototype,"sortController",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var H9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jn=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},W9=function(r){H9(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=kT(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t,t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var i=bo(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,i,n){if(i!=null){var o=Ti(t,this.gridOptionsWrapper,n);o&&i.appendChild(o)}},e.prototype.setupTap=function(){var t=this,i=this.gridOptionsWrapper;if(!i.isSuppressTouch()){var n=new Qn(this.getGui(),!0),o=i.isSuppressMenuHide(),s=o&&fe(this.eMenu),a=s?new Qn(this.eMenu,!0):n;if(this.params.enableMenu){var l=s?"EVENT_TAP":"EVENT_LONG_TAP",u=function(h){i.getApi().showColumnMenuAfterMouseClick(t.params.column,h.touchStart)};this.addManagedListener(a,Qn[l],u)}if(this.params.enableSorting){var c=function(h){var d=h.touchStart.target;o&&t.eMenu.contains(d)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(n,Qn.EVENT_TAP,c)}this.addDestroyFunc(function(){return n.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),i=ua()&&t,n=this.params.enableMenu&&!i;return n},e.prototype.setMenu=function(){var t=this;if(!!this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Va(this.eMenu);return}var i=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",i)}},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Rw(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){var i=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,St.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var s=t.params.column.isMoving(),a=new Date().getTime(),l=a-t.lastMovingChanged<50,u=s||l;if(!u){var c=i?o.ctrlKey||o.metaKey:o.shiftKey;t.params.progressSort(c)}});var n=function(){var o;if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var s=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),a=(o=s)===null||o===void 0?void 0:o.every(function(u){return t.params.column.getSort()==u.getSort()}),l=!a;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",l)}};this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,St.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!t)},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,jn([M("sortController")],e.prototype,"sortController",void 0),jn([M("menuFactory")],e.prototype,"menuFactory",void 0),jn([M("columnModel")],e.prototype,"columnModel",void 0),jn([pe("eFilter")],e.prototype,"eFilter",void 0),jn([pe("eSortIndicator")],e.prototype,"eSortIndicator",void 0),jn([pe("eMenu")],e.prototype,"eMenu",void 0),jn([pe("eLabel")],e.prototype,"eLabel",void 0),jn([pe("eText")],e.prototype,"eText",void 0),jn([pe("eSortOrder")],e.prototype,"eSortOrder",void 0),jn([pe("eSortAsc")],e.prototype,"eSortAsc",void 0),jn([pe("eSortDesc")],e.prototype,"eSortDesc",void 0),jn([pe("eSortMixed")],e.prototype,"eSortMixed",void 0),jn([pe("eSortNone")],e.prototype,"eSortNone",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var V9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},k9=function(r){V9(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;if(t.template){var i="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";mt(function(){return console.warn(i)},"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var i=function(s){if(!So(s)){var a=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,i),this.addTouchAndClickListeners(this.eOpenIcon,i);var n=function(s){Vu(s)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",i),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,_i.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,_i.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,i){var n=new Qn(t,!0);this.addManagedListener(n,Qn.EVENT_TAP,i),this.addDestroyFunc(function(){return n.destroy()}),this.addManagedListener(t,"click",i)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var i=this.params.columnGroup.isExpanded();qt(this.eOpenIcon,i),qt(this.eCloseIcon,!i)}else qt(this.eOpenIcon,!1),qt(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,i){var n=Ti(t,this.gridOptionsWrapper,null);n&&this.getRefElement(i).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){qt(this.eOpenIcon,!1),qt(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t=this.params.displayName;if(fe(t)){var i=bo(t);this.getRefElement("agLabel").innerHTML=i}},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,Dv([M("columnModel")],e.prototype,"columnModel",void 0),Dv([pe("agOpened")],e.prototype,"eOpenIcon",void 0),Dv([pe("agClosed")],e.prototype,"eCloseIcon",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var B9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hd=function(r){B9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,i=t&&t.isAlive();i&&t.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var U9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),z9=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},j9=function(r){U9(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),fe(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var i=t.key;(i===de.LEFT||i===de.UP||i===de.RIGHT||i===de.DOWN||t.shiftKey&&i===de.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE=`<div class="ag-large-text" tabindex="0">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,z9([pe("eTextArea")],e.prototype,"eTextArea",void 0),e}(hd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},UP=function(r){$9(e,r);function e(){var t=r.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){var i=this;if(this.focusAfterAttached=t.cellStartedEdit,Ue(t.values)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=t.eventKey!=null?t.eventKey===de.ENTER:!1;var n=!1;t.values.forEach(function(o){var s={value:o},a=i.valueFormatterService.formatValue(t.column,null,o),l=a!=null;s.text=l?a:o,i.eSelect.addOption(s),n=n||t.value===o}),n?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},Yx([M("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Yx([pe("eSelect")],e.prototype,"eSelect",void 0),e}(hd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Y9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),K9=function(r){Y9(e,r);function e(){var t=r.call(this)||this;return mt(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),t}return e.prototype.isPopup=function(){return!0},e}(UP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var X9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),q9=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},E_=function(r){X9(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t;var i=this.eInput,n;t.cellStartedEdit?(this.focusAfterAttached=!0,t.eventKey===de.BACKSPACE||t.eventKey===de.DELETE?n="":t.charPress?n=t.charPress:(n=this.getStartValue(t),t.eventKey!==de.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,n=this.getStartValue(t)),n!=null&&i.setValue(n,!0),t.maxLength!=null&&i.setMaxLength(t.maxLength),this.addManagedListener(i.getGui(),"keydown",function(o){var s=o.key;(s===de.PAGE_UP||s===de.PAGE_DOWN)&&o.preventDefault()})},e.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(t("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){pl()||i.getFocusableElement().focus();var n=i.getInputElement();if(this.highlightAllOnFocus)n.select();else{var o=i.getValue(),s=fe(o)&&o.length||0;s&&n.setSelectionRange(s,s)}}},e.prototype.focusIn=function(){var t=this.eInput,i=t.getFocusableElement(),n=t.getInputElement();i.focus(),n.select()},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.getValue())},e.prototype.getStartValue=function(t){var i=t.useFormatter||t.column.getColDef().refData;return i?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE=`<div class="ag-cell-edit-wrapper">
            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>
        </div>`,q9([pe("eInput")],e.prototype,"eInput",void 0),e}(hd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Z9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),J9=function(r){Z9(e,r);function e(){var t=r.call(this)||this;return mt(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),t}return e.prototype.isPopup=function(){return!0},e}(E_);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Q9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),eY=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tY="\u2191",iY="\u2193",nY=function(r){Q9(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,i){var n=Math.abs(i),o=t.formatValue(n),s=fe(o)?o:n,a=i>=0;a?this.eDelta.innerHTML=tY+s:this.eDelta.innerHTML=iY+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var i=this.refreshCount;window.setTimeout(function(){i===t.refreshCount&&t.hideDeltaValue()},2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),ir(this.eDelta)},e.prototype.refresh=function(t){var i=t.value;if(i===this.lastValue||(fe(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:fe(t.value)?this.eValue.innerHTML=i:ir(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){var n=i-this.lastValue;this.showDelta(t,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',eY([M("filterManager")],e.prototype,"filterManager",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var rY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oY=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},sY=function(r){rY(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var i=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=ji('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){i===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){i===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},e.prototype.refresh=function(t){var i=t.value;return Ue(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=i,fe(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:fe(t.value)?this.eCurrent.innerHTML=i:ir(this.eCurrent),!0)},e.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,oY([M("filterManager")],e.prototype,"filterManager",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ns;(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"})(ns||(ns={}));var pt=function(){function r(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=e}return r.prototype.setData=function(e){this.setDataCommon(e,!1)},r.prototype.updateData=function(e){this.setDataCommon(e,!0)},r.prototype.setDataCommon=function(e,t){var i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(e,i,t);this.dispatchLocalEvent(n)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(e,t,i){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:i}},r.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},r.prototype.getRowIndexString=function(){return this.rowPinned===k.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===k.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var e=new r(this.beans);return e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},r.prototype.setDataAndId=function(e,t){var i=fe(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,i),this.checkRowSelectable();var o=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(e?e(this):!0)},r.prototype.setRowSelectable=function(e){if(this.selectable!==e){this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED));var t=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(t){var i=this.calculateSelectedFromChildren();this.setSelected(i!=null?i:!1)}}},r.prototype.setId=function(e){var t=this.beans.gridOptionsWrapper.getRowIdFunc();if(t)if(this.data){var i=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+r.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},r.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],i=this;for(e&&(i=i.parent);i&&i.level>=0;)t.push(i.key),i=i.parent;return t.reverse(),t},r.prototype.isPixelInRange=function(e){return!fe(this.rowTop)||!fe(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={});var i=this.__autoHeights;i[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=oa(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var e=!1,t=!0,i=0,n=this.__autoHeights;if(n!=null){var o=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(o.forEach(function(a){var l=n[a.getId()];if(l==null){e=!0;return}t=!1,l>i&&(i=l)}),!e&&((t||i<10)&&(i=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},r.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(A.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},r.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},r.prototype.setDataValue=function(e,t,i){var n=this.beans.columnModel.getPrimaryColumn(e),o=this.beans.valueService.getValue(n,this),s=this.beans.valueService.setValue(this,n,t,i);return this.dispatchCellChangedEvent(n,t,o),this.checkRowSelectable(),s},r.prototype.setGroupValue=function(e,t){var i=this.beans.columnModel.getGridColumn(e);Ue(this.groupData)&&(this.groupData={});var n=i.getColId(),o=this.groupData[n];o!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(i,t,o))},r.prototype.setAggData=function(e){var t=this,i=IT([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&i.forEach(function(o){var s=t.beans.columnModel.getGridColumn(o),a=t.aggData?t.aggData[o]:void 0,l=n?n[o]:void 0;t.dispatchCellChangedEvent(s,a,l)})},r.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&Xn(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(e,t,i){var n={type:r.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:i};this.dispatchLocalEvent(n)},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},r.prototype.calculateSelectedFromChildren=function(){var e,t=!1,i=!1,n=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:i=!0;break;default:n=!0;break}}if(!(n||t&&i))return t?!0:i?!1:this.selectable?this.selected:null},r.prototype.setSelectedInitialValue=function(e){this.selected=e},r.prototype.setSelected=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:i,rangeSelect:!1})},r.prototype.isRowPinned=function(){return this.rowPinned===k.PINNED_TOP||this.rowPinned===k.PINNED_BOTTOM},r.prototype.setSelectedParams=function(e){var t,i=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),n=e.newValue===!0,o=e.clearSelection===!0,s=e.suppressFinishActions===!0,a=e.rangeSelect===!0,l=i&&e.groupSelectsFiltered===!0;if(this.id===void 0)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(a&&this.beans.selectionService.getLastSelectedNode()){var u=this.beans.selectionService.getLastSelectedNode()!==this,c=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(u&&c){var h=this.doRowRangeSelection(e.newValue);return this.beans.selectionService.setLastSelectedNode(this),h}}var d=0,p=l&&this.group;if(!p){var f=this.selectThisNode(n,e.event);f&&d++}if(i&&((t=this.childrenAfterGroup)===null||t===void 0?void 0:t.length)&&(d+=this.selectChildNodes(n,l)),!s){var m=n&&(o||!this.beans.gridOptionsWrapper.isRowSelectionMulti());if(m&&(d+=this.beans.selectionService.clearOtherNodes(this)),d>0){this.beans.selectionService.updateGroupsFromChildrenSelections();var g={type:A.EVENT_SELECTION_CHANGED};this.beans.eventService.dispatchEvent(g)}n&&this.beans.selectionService.setLastSelectedNode(this)}return d},r.prototype.doRowRangeSelection=function(e){var t=this;e===void 0&&(e=!0);var i=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),n=this.beans.selectionService.getLastSelectedNode(),o=this.beans.rowModel.getNodesInRangeForSelection(this,n),s=0;o.forEach(function(l){if(!(l.group&&i||e===!1&&t===l)){var u=l.selectThisNode(e);u&&s++}}),this.beans.selectionService.updateGroupsFromChildrenSelections();var a={type:A.EVENT_SELECTION_CHANGED};return this.beans.eventService.dispatchEvent(a),s},r.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},r.prototype.selectThisNode=function(e,t){var i=!this.selectable&&e,n=this.selected===e;if(i||n)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var o=Object.assign({},this.createGlobalRowEvent(A.EVENT_ROW_SELECTED),{event:t||null});return this.beans.eventService.dispatchEvent(o),!0},r.prototype.selectChildNodes=function(e,t){var i=t?this.childrenAfterAggFilter:this.childrenAfterGroup;if(Ue(i))return 0;for(var n=0,o=0;o<i.length;o++)n+=i[o].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return n},r.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new la),this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){!this.eventService||(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,i=!0,n=!1,o=null;i&&!n;){var s=t.parent,a=fe(s)&&t.firstChild;a?s.rowGroupColumn===e&&(n=!0,o=s):i=!1,t=s}return n?o:null},r.prototype.isFullWidthCell=function(){var e=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return e?e({rowNode:this}):!1},r.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var aY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Jf=function(){return Jf=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Jf.apply(this,arguments)},Kx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},zP=function(r){aY(e,r);function e(){return r.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.rowNode.isSelected(),n=i===void 0?t("ariaIndeterminate","indeterminate"):i===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(o+" ("+n+")")},e.prototype.onCheckedClicked=function(t){var i=this.gridOptionsWrapper.isGroupSelectsFiltered(),n=this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:i});return n},e.prototype.onUncheckedClicked=function(t){var i=this.gridOptionsWrapper.isGroupSelectsFiltered(),n=this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:i});return n},e.prototype.init=function(t){var i=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){Vu(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){Vu(a);var l=i.eCheckbox.getValue(),u=i.eCheckbox.getPreviousValue();if(u===void 0||l===void 0){var c=i.onUncheckedClicked(a||{});c===0&&i.onCheckedClicked(a)}else l?i.onCheckedClicked(a):i.onUncheckedClicked(a||{})}),this.addManagedListener(this.rowNode,pt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var n=this.gridOptionsWrapper.getIsRowSelectableFunc(),o=n||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,pt.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,pt.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t,i,n,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(i=this.column)===null||i===void 0?void 0:i.createColumnFunctionCallbackParams(this.rowNode);s=u?a(Jf(Jf({},l),u)):!1}else s=a!=null?a:!1;var c=(n=this.column)===null||n===void 0?void 0:n.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},e.prototype.getIsVisible=function(){var t,i;return this.overrides?this.overrides.isVisible:(i=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||i===void 0?void 0:i.checkboxSelection},Kx([pe("eCheckbox")],e.prototype,"eCheckbox",void 0),Kx([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var lY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ss=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Cp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tn;(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel"})(Tn||(Tn={}));var zu;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(zu||(zu={}));var co;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"})(co||(co={}));var en=function(r){lY(e,r);function e(){var i=r!==null&&r.apply(this,arguments)||this;return i.dragSourceAndParamsList=[],i.dropTargets=[],i}t=e,e.prototype.init=function(){this.ePinnedIcon=fr("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=fr("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=fr("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=fr("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=fr("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=fr("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=fr("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=fr("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=fr("dropNotAllowed",this.gridOptionsWrapper,null)},e.prototype.addDragSource=function(i,n){n===void 0&&(n=!1);var o={eElement:i.eElement,dragStartPixels:i.dragStartPixels,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:i}),this.dragService.addDragSource(o,n)},e.prototype.removeDragSource=function(i){var n=this.dragSourceAndParamsList.find(function(o){return o.dragSource===i});n&&(this.dragService.removeDragSource(n.params),hn(this.dragSourceAndParamsList,n))},e.prototype.clearDragSourceParamsList=function(){var i=this;this.dragSourceAndParamsList.forEach(function(n){return i.dragService.removeDragSource(n.params)}),this.dragSourceAndParamsList.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(i,n){this.dragging=!0,this.dragSource=i,this.eventLastTime=n,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(i){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var n=this.createDropTargetEvent(this.lastDropTarget,i,null,null,!1);this.lastDropTarget.onDragStop(n)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(i,n){var o=this,s,a,l,u,c=this.getHorizontalDirection(i),h=this.getVerticalDirection(i);this.eventLastTime=i,this.positionGhost(i);var d=this.dropTargets.filter(function(m){return o.isMouseOnDropTarget(i,m)}),p=this.findCurrentDropTarget(i,d);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(i,c,h,n),this.lastDropTarget!==null&&p===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&p!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,i,c,h,n),this.lastDropTarget=p;else if(p&&p.onDragging){var f=this.createDropTargetEvent(p,i,c,h,n);p.onDragging(f)}},e.prototype.getAllContainersFromDropTarget=function(i){var n=i.getSecondaryContainers?i.getSecondaryContainers():null,o=[[i.getContainer()]];return n?o.concat(n):o},e.prototype.allContainersIntersect=function(i,n){var o,s;try{for(var a=Cp(n),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var h=i.clientX>=c.left&&i.clientX<c.right,d=i.clientY>=c.top&&i.clientY<c.bottom;if(!h||!d)return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(i,n){var o,s,a=this.getAllContainersFromDropTarget(n),l=!1;try{for(var u=Cp(a),c=u.next();!c.done;c=u.next()){var h=c.value;if(this.allContainersIntersect(i,h)){l=!0;break}}}catch(d){o={error:d}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return n.targetContainsSource&&!n.getContainer().contains(this.dragSource.eElement)?!1:l&&n.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(i,n){var o,s,a,l,u=n.length;if(u===0)return null;if(u===1)return n[0];var c=this.gridOptionsWrapper.getDocument(),h=c.elementsFromPoint(i.clientX,i.clientY);try{for(var d=Cp(h),p=d.next();!p.done;p=d.next()){var f=p.value;try{for(var m=(a=void 0,Cp(n)),g=m.next();!g.done;g=m.next()){var y=g.value,C=UT(this.getAllContainersFromDropTarget(y));if(C.indexOf(f)!==-1)return y}}catch(w){a={error:w}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}}}catch(w){o={error:w}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(i,n,o,s,a){if(!!i){if(i.onDragEnter){var l=this.createDropTargetEvent(i,n,o,s,a);i.onDragEnter(l)}this.setGhostIcon(i.getIconName?i.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(i,n,o,s){if(!!this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,i,n,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(i){this.dropTargets.push(i)},e.prototype.removeDropTarget=function(i){this.dropTargets=this.dropTargets.filter(function(n){return n.getContainer()!==i.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(i){return i.external})},e.prototype.findExternalZone=function(i){var n=this.dropTargets.filter(function(o){return o.external});return n.find(function(o){return o.getContainer()===i.getContainer()})||null},e.prototype.getHorizontalDirection=function(i){var n=this.eventLastTime&&this.eventLastTime.clientX,o=i.clientX;return n===o?null:n>o?co.Left:co.Right},e.prototype.getVerticalDirection=function(i){var n=this.eventLastTime&&this.eventLastTime.clientY,o=i.clientY;return n===o?null:n>o?zu.Up:zu.Down},e.prototype.createDropTargetEvent=function(i,n,o,s,a){var l=i.getContainer(),u=l.getBoundingClientRect(),c=this,h=c.gridApi,d=c.columnApi,p=c.dragItem,f=c.dragSource,m=n.clientX-u.left,g=n.clientY-u.top;return{event:n,x:m,y:g,vDirection:s,hDirection:o,dragSource:f,fromNudge:a,dragItem:p,api:h,columnApi:d,dropZoneTarget:l}},e.prototype.positionGhost=function(i){var n=this.eGhost;if(!!n){var o=n.getBoundingClientRect(),s=o.height,a=iP()-2,l=nP()-2,u=i.pageY-s/2,c=i.pageX-10,h=this.gridOptionsWrapper.getDocument(),d=h.defaultView||window,p=d.pageYOffset||h.documentElement.scrollTop,f=d.pageXOffset||h.documentElement.scrollLeft;a>0&&c+n.clientWidth>a+f&&(c=a+f-n.clientWidth),c<0&&(c=0),l>0&&u+n.clientHeight>l+p&&(u=l+p-n.clientHeight),u<0&&(u=0),n.style.left=c+"px",n.style.top=u+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=ji(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var i=this.environment.getTheme().theme;i&&this.eGhost.classList.add(i),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var n=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;zg(o)&&(o=o()),n.innerHTML=bo(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsWrapper.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{a||(a=s.querySelector("body"))}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(i,n){n===void 0&&(n=!1),ir(this.eGhostIcon);var o=null;switch(i||(i=this.dragSource.defaultIconName||t.ICON_NOT_ALLOWED),i){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",n),!(o===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Ss([M("dragService")],e.prototype,"dragService",void 0),Ss([M("mouseEventService")],e.prototype,"mouseEventService",void 0),Ss([M("environment")],e.prototype,"environment",void 0),Ss([M("columnApi")],e.prototype,"columnApi",void 0),Ss([M("gridApi")],e.prototype,"gridApi",void 0),Ss([we],e.prototype,"init",null),Ss([nn],e.prototype,"clearDragSourceParamsList",null),e=t=Ss([Ie("dragAndDropService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Xg=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hh=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qf=function(r){Xg(e,r);function e(t,i,n,o,s,a){var l=r.call(this)||this;return l.cellValueFn=t,l.rowNode=i,l.column=n,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ti("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new cY(this,this.beans,this.rowNode,this.column):new uY(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,i){this.setTemplateFromElement(t),this.addDragSource(i)},e.prototype.getSelectedNodes=function(){var t=this.beans.gridOptionsWrapper.isRowDragMultiRow();if(!t)return[this.rowNode];var i=this.beans.selectionService.getSelectedNodes();return i.indexOf(this.rowNode)!==-1?i:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged(),i=this.beans.gridOptionsWrapper.isTreeData();i&&t&&mt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.addDragSource=function(t){var i=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var n=this.gridOptionsWrapper.getRowDragText(this.column),o=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:Tn.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=i.getDragItem(),l=((s=a.rowNodes)===null||s===void 0?void 0:s.length)||1;return n?n(a,l):l===1?i.cellValueFn():l+" "+o("rowDragRows","rows")},getDragItem:function(){return i.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},hh([M("beans")],e.prototype,"beans",void 0),hh([we],e.prototype,"postConstruct",null),hh([nn],e.prototype,"removeDragSource",null),e}(ct),jP=function(r){Xg(e,r);function e(t,i,n){var o=r.call(this)||this;return o.parent=t,o.rowNode=i,o.column=n,o}return e.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=zg(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0),this.parent.setVisible(i)):(this.parent.setDisplayed(i),this.parent.setVisible(!0))}},e}(me),uY=function(r){Xg(e,r);function e(t,i,n,o){var s=r.call(this,t,n,o)||this;return s.beans=i,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},hh([we],e.prototype,"postConstruct",null),e}(jP),cY=function(r){Xg(e,r);function e(t,i,n,o){var s=r.call(this,t,n,o)||this;return s.beans=i,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,A.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),i=t.getRowDragFeature(),n=i&&i.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),s=this.beans.dragAndDropService.hasExternalDropZones(),a=n&&!s||o;this.setDisplayedOrVisible(a)},hh([we],e.prototype,"postConstruct",null),e}(jP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var hY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),eg=function(){return eg=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},eg.apply(this,arguments)},kl=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},dY=function(r){hY(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,i,n,o,s,a,l){this.params=l,this.eGui=i,this.eCheckbox=n,this.eExpanded=o,this.eContracted=s,this.comp=t,this.compClass=a;var u=this.isTopLevelFooter(),c=this.isEmbeddedRowMismatch(),h=l.value==null,d=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var p=l.node;if(p.footer){var f=l.colDef&&l.colDef.showRowGroup,m=p.rowGroupColumn&&p.rowGroupColumn.getColId();d=f!==m}}this.cellIsBlank=u?!1:c||h||d,!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,i=t.node,n=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){SP(n);return}var o=function(){Jn(n,!!i.expanded)};this.expandListener=this.addManagedListener(i,pt.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,i=t==null;if(i||t.showRowGroup===!0)return!0;var n=this.columnModel.getRowGroupColumns();if(!n||n.length===0)return!0;var o=n[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===k.PINNED_LEFT,i=this.params.pinned===k.PINNED_RIGHT,n=!t&&!i;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!i:!n:this.columnModel.isPinningLeft()?!t:!n},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent)for(var n=i.parent;n!=null;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}Ue(this.displayedGroupNode)&&(this.displayedGroupNode=i)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,i=this.params.column;if(!this.gridOptionsWrapper.isGroupHideOpenParents()){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var n=t.rowGroupColumn!=null;if(n){var o=t.rowGroupColumn.getId(),s=i.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=t.groupData[i.getId()]!=null;this.showingValueForOpenedParent=a},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(t),n=t.valueFormatted,o=t.value,s=n!=null?n:o;this.comp.setInnerRenderer(i,s)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!t)return this.params;var n=i!=null;if(n){var o=i.isRowGroupDisplayed(t.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(t,u,l),h=eg(eg({},s),{valueFormatted:c});return h},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,i="";if(t){var n=ZC(this.params);n.value=this.params.value,typeof t=="function"?i=t(n):typeof t=="string"?i=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,i)},e.prototype.getInnerCompDetails=function(t){var i=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,t);var n=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==i.compClass};if(n&&!o(n))return n;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(!!a){var l=this.userComponentFactory.getCellRendererDetails(a,t);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,pt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow(),n=i&&t!=null&&t>=0,o=n?"("+t+")":"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var i=this.params.column,n=i==null||i.isRowGroupDisplayed(t.getId());return n},e.prototype.addExpandAndContract=function(){var t=this.params,i=Ti("groupExpanded",this.gridOptionsWrapper,null),n=Ti("groupContracted",this.gridOptionsWrapper,null);i&&this.eExpanded.appendChild(i),n&&this.eContracted.appendChild(n);var o=t.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,pt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var s=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,pt.EVENT_ALL_CHILDREN_COUNT_CHANGED,s),this.addManagedListener(this.displayedGroupNode,pt.EVENT_MASTER_CHANGED,s),this.addManagedListener(this.displayedGroupNode,pt.EVENT_GROUP_CHANGED,s),this.addManagedListener(this.displayedGroupNode,pt.EVENT_HAS_CHILDREN_CHANGED,s)},e.prototype.onExpandClicked=function(t){So(t)||(Vu(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var i=this.displayedGroupNode,n=!i.expanded;!n&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(n,t)},e.prototype.scrollToStickyNode=function(t){var i=this.ctrlsService.getGridBodyCtrl(),n=i.getScrollFeature();n.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&t.leafGroup,n=t.isExpandable()&&!t.footer&&!i;if(!n)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,i=t.params,n=t.displayedGroupNode,o=t.columnModel,s=i.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&n.leafGroup,h=a&&!c,d=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",h),this.comp.addOrRemoveCssClass("ag-row-group",h),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):d||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!h)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,i=this.params.suppressPadding;i||(this.addManagedListener(t,pt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,i=t.node,n=!!t.colDef,o=this.gridOptionsWrapper.isTreeData(),s=!n||o||t.colDef.showRowGroup===!0,a=s?i.uiLevel:0,l=t.padding>=0;l&&mt(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var i=new Qf(function(){return t.params.value},this.params.node);this.createManagedBean(i,this.context),this.eGui.insertAdjacentElement("afterbegin",i.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,i=this.displayedGroupNode,n=this.isUserWantsSelected()&&!i.footer&&!i.rowPinned&&!i.detail;if(n){var o=new zP;this.getContext().createBean(o),o.init({rowNode:i,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(n)},e.prototype.onKeyDown=function(t){var i=t.key===de.ENTER;if(!(!i||this.params.suppressEnterExpand)){var n=this.params.column&&this.params.column.isCellEditable(this.params.node);n||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!So(t)){var i=zf(this.eExpanded,t)||zf(this.eContracted,t);i||this.onExpandOrContract(t)}},kl([M("expressionService")],e.prototype,"expressionService",void 0),kl([M("valueFormatterService")],e.prototype,"valueFormatterService",void 0),kl([M("columnModel")],e.prototype,"columnModel",void 0),kl([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),kl([M("gridOptions")],e.prototype,"gridOptions",void 0),kl([M("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Mc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Xx=function(r){pY(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var i=this,n={setInnerRenderer:function(l,u){return i.setRenderDetails(l,u)},setChildCount:function(l){return i.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return i.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return qt(i.eContracted,l)},setExpandedDisplayed:function(l){return qt(i.eExpanded,l)},setCheckboxVisible:function(l){return i.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new dY),s=!t.colDef,a=this.getGui();o.init(n,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&yn(a,"gridcell")},e.prototype.setRenderDetails=function(t,i){var n=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(s){if(!!s){var a=function(){return n.context.destroyBean(s)};n.isAlive()?(n.eValue.appendChild(s.getGui()),n.addDestroyFunc(a)):a()}})}else this.eValue.innerText=i},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,Mc([pe("eExpanded")],e.prototype,"eExpanded",void 0),Mc([pe("eContracted")],e.prototype,"eContracted",void 0),Mc([pe("eCheckbox")],e.prototype,"eCheckbox",void 0),Mc([pe("eValue")],e.prototype,"eValue",void 0),Mc([pe("eChildCount")],e.prototype,"eChildCount",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gY=function(r){fY(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Ti("groupLoading",this.gridOptionsWrapper,null);t&&this.eLoadingIcon.appendChild(t);var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,qx([pe("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),qx([pe("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var mY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vY=function(r){mY(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var i=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=i.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(o)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_Y=function(r){yY(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var i=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=i.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(o)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wY=function(r){CY(e,r);function e(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var i=t.value;this.getGui().innerHTML=bo(i)},e}(hd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},EY=function(r){SY(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:P9,agColumnHeader:W9,agColumnGroupHeader:k9,agSortIndicator:Rw,agTextColumnFloatingFilter:N9,agNumberColumnFloatingFilter:L9,agDateColumnFloatingFilter:b9,agReadOnlyFloatingFilter:u9,agAnimateShowChangeCellRenderer:nY,agAnimateSlideCellRenderer:sY,agGroupCellRenderer:Xx,agGroupRowRenderer:Xx,agLoadingCellRenderer:gY,agCellEditor:E_,agTextCellEditor:E_,agSelectCellEditor:UP,agPopupTextCellEditor:J9,agPopupSelectCellEditor:K9,agLargeTextCellEditor:j9,agTextColumnFilter:xw,agNumberColumnFilter:kP,agDateColumnFilter:WP,agLoadingOverlay:vY,agNoRowsOverlay:_Y,agTooltipComponent:wY},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComps={},t.fwComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&Vt(this.gridOptions.components,function(i,n){return t.registerJsComponent(i,n)}),this.gridOptions.frameworkComponents!=null&&Vt(this.gridOptions.frameworkComponents,function(i,n){return t.registerFwComponent(i,n)})},e.prototype.registerDefaultComponent=function(t,i){var n=this.translateIfDeprecated(t);if(this.agGridDefaults[n]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[n]=i},e.prototype.registerJsComponent=function(t,i){var n=this.translateIfDeprecated(t);if(this.fwComps[n]){console.error("Trying to register a component that you have already registered for frameworks: "+n);return}this.jsComps[n]=i},e.prototype.registerFwComponent=function(t,i){var n="AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.";mt(function(){return console.warn(n)},"UserComponentRegistry.frameworkComponentsDeprecated");var o=this.translateIfDeprecated(t);this.fwComps[o]=i},e.prototype.retrieve=function(t){var i=this.translateIfDeprecated(t),n=function(c,h){return{componentFromFramework:h,component:c}},o=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(o!=null)return n(o,!0);var s=this.fwComps[i];if(s)return n(s,!0);var a=this.jsComps[i];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return n(a,l)}var u=this.agGridDefaults[i];return u?n(u,!1):(Object.keys(this.agGridDefaults).indexOf(i)<0&&console.warn("AG Grid: Looking for component ["+i+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(t){var i=this.agDeprecatedNames[t];return i!=null?(mt(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+i.propertyHolder+":"+t+" to "+i.propertyHolder+":"+i.newComponentName)},"DEPRECATE_COMPONENT_"+t),i.newComponentName):t},wp([M("gridOptions")],e.prototype,"gridOptions",void 0),wp([M("agComponentUtils")],e.prototype,"agComponentUtils",void 0),wp([we],e.prototype,"init",null),e=wp([Ie("userComponentRegistry")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var xY={propertyName:"dateComponent",cellRenderer:!1},RY={propertyName:"headerComponent",cellRenderer:!1},bY={propertyName:"headerGroupComponent",cellRenderer:!1},Zx={propertyName:"cellRenderer",cellRenderer:!0},MY={propertyName:"cellEditor",cellRenderer:!1},Jx={propertyName:"innerRenderer",cellRenderer:!0},TY={propertyName:"loadingOverlayComponent",cellRenderer:!1},PY={propertyName:"noRowsOverlayComponent",cellRenderer:!1},OY={propertyName:"tooltipComponent",cellRenderer:!1},x_={propertyName:"filter",cellRenderer:!1},AY={propertyName:"floatingFilterComponent",cellRenderer:!1},DY={propertyName:"toolPanel",cellRenderer:!1},IY={propertyName:"statusPanel",cellRenderer:!1},LY={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FY={propertyName:"loadingCellRenderer",cellRenderer:!0},NY={propertyName:"groupRowRenderer",cellRenderer:!0},GY={propertyName:"detailCellRenderer",cellRenderer:!0};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var HY=function(){function r(){}return r.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var WY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bl=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},VY=function(r){WY(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,i){return this.getCompDetails(t,RY,"agColumnHeader",i)},e.prototype.getHeaderGroupCompDetails=function(t){var i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,bY,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,LY,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,FY,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,NY,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,GY,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,i){return this.getCompDetails(t,Jx,null,i)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,i){return this.getCompDetails(t,Jx,null,i)},e.prototype.getCellRendererDetails=function(t,i){return this.getCompDetails(t,Zx,null,i)},e.prototype.getCellEditorDetails=function(t,i){return this.getCompDetails(t,MY,"agCellEditor",i,!0)},e.prototype.getFilterDetails=function(t,i,n){return this.getCompDetails(t,x_,n,i,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,xY,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,TY,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,PY,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,OY,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,i){return this.getCompDetails(t,Zx,null,i)},e.prototype.getFloatingFilterCompDetails=function(t,i,n){return this.getCompDetails(t,AY,n,i)},e.prototype.getToolPanelCompDetails=function(t,i){return this.getCompDetails(t,DY,null,i,!0)},e.prototype.getStatusPanelCompDetails=function(t,i){return this.getCompDetails(t,IY,null,i,!0)},e.prototype.getCompDetails=function(t,i,n,o,s){var a=this;s===void 0&&(s=!1);var l=i.propertyName,u=i.cellRenderer,c=this.getCompKeys(t,i,o),h=c.compName,d=c.jsComp,p=c.fwComp,f=c.paramsFromSelector,m=c.popupFromSelector,g=c.popupPositionFromSelector,y=function(b){var T=a.userComponentRegistry.retrieve(b);T&&(d=T.componentFromFramework?void 0:T.component,p=T.componentFromFramework?T.component:void 0)};if(h!=null&&y(h),d==null&&p==null&&n!=null&&y(n),d&&u&&!this.agComponentUtils.doesImplementIComponent(d)&&(d=this.agComponentUtils.adaptFunction(l,d)),!d&&!p){s&&console.error("Could not find component "+h+", did you forget to configure this component?");return}var C=this.mergeParamsWithApplicationProvidedParams(t,i,o,f),w=d==null,S=d||p;return{componentFromFramework:w,componentClass:S,params:C,type:i,popupFromSelector:m,popupPositionFromSelector:g,newAgStackInstance:function(){return a.newAgStackInstance(S,w,C,i)}}},e.prototype.getCompKeys=function(t,i,n){var o=this,s=i.propertyName,a,l,u,c,h,d;if(t){var p=t,f=p[s+"Selector"],m=f?f(n):null,g=function(C,w){var S=function(){var T="AG Grid: As of v27, the property "+s+"Framework is deprecated. The property "+s+" can now be used for JavaScript AND Framework Components.";mt(function(){return console.warn(T)},"UserComponentFactory."+s+"FrameworkDeprecated")};if(typeof C=="string")a=C;else if(typeof w=="string")S(),a=w;else if(C!=null&&C!==!0){var b=o.getFrameworkOverrides().isFrameworkComponent(C);b?u=C:l=C}else w!=null&&(S(),u=w)};if(m){if(m.frameworkComponent!=null){var y="AG Grid: As of v27, the return for "+s+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";mt(function(){return console.warn(y)},"UserComponentFactory."+s+"FrameworkSelectorDeprecated"),g(m.frameworkComponent,void 0)}else g(m.component,void 0);c=m.params,h=m.popup,d=m.popupPosition}else g(p[s],p[s+"Framework"])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:h,popupPositionFromSelector:d}},e.prototype.newAgStackInstance=function(t,i,n,o){var s=o.propertyName,a=!i,l;if(a)l=new t;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,n);return c==null?vr.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,i,n,o){o===void 0&&(o=null);var s={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Zn(s,n);var a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){var u=l(n);Zn(s,u)}else typeof l=="object"&&Zn(s,l);return Zn(s,o),s},e.prototype.initComponent=function(t,i){if(this.context.createBean(t),t.init!=null)return t.init(i)},e.prototype.getDefaultFloatingFilterType=function(t){if(t==null)return null;var i=null,n=this.getCompKeys(t,x_),o=n.compName,s=n.jsComp,a=n.fwComp;if(o)i=HY.getFloatingFilterType(o);else{var l=s==null&&a==null&&t.filter===!0;if(l){var u=et.isRegistered(Xe.SetFilterModule);i=u?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}}return i},Bl([M("gridOptions")],e.prototype,"gridOptions",void 0),Bl([M("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Bl([M("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Bl([M("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Bl([It("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Bl([Ie("userComponentFactory")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var dh;(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"})(dh||(dh={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},BY=function(r){kY(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var i=t.dragSource.eElement,n=t.mouseDownListener;if(i.removeEventListener("mousedown",n),t.touchEnabled){var o=t.touchStartListener;i.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var i=this.dragSources.find(function(n){return n.dragSource===t});!i||(this.removeListener(i),hn(this.dragSources,i))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,i){var n=this;i===void 0&&(i=!1);var o=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",o);var s=null,a=this.gridOptionsWrapper.isSuppressTouch();i&&!a&&(s=function(l){ow(l.target)||(l.cancelable&&l.preventDefault(),n.onTouchStart(t,l))},t.eElement.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:o,touchStartListener:s,touchEnabled:i})},e.prototype.onTouchStart=function(t,i){var n=this;this.currentDragParams=t,this.dragging=!1;var o=i.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(h){return n.onTouchMove(h,t.eElement)},a=function(h){return n.onTouchUp(h,t.eElement)},l=function(h){h.cancelable&&h.preventDefault()},u=i.target,c=[{target:document,type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,i){var n=this,o=i;if(!(t.skipMouseEvent&&t.skipMouseEvent(i))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,i.button===0)){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=i;var s=this.gridOptionsWrapper.getDocument(),a=function(d){return n.onMouseMove(d,t.eElement)},l=function(d){return n.onMouseUp(d,t.eElement)},u=function(d){return d.preventDefault()},c=s,h=[{target:c,type:"mousemove",listener:a},{target:c,type:"mouseup",listener:l},{target:c,type:"contextmenu",listener:u}];this.addTemporaryEvents(h),t.dragStartPixels===0&&this.onMouseMove(i,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(i){var n=i.target,o=i.type,s=i.listener,a=i.options;n.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){t.forEach(function(i){var n=i.target,o=i.type,s=i.listener,a=i.options;n.removeEventListener(o,s,a)})})},e.prototype.isEventNearStartEvent=function(t,i){var n=this.currentDragParams.dragStartPixels,o=fe(n)?n:4;return Cw(t,i,o)},e.prototype.getFirstActiveTouch=function(t){for(var i=0;i<t.length;i++)if(t[i].identifier===this.touchStart.identifier)return t[i];return null},e.prototype.onCommonMove=function(t,i,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,i))return;this.dragging=!0;var o={type:A.EVENT_DRAG_STARTED,target:n};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,i){var n=this.getFirstActiveTouch(t.touches);!n||this.onCommonMove(n,this.touchStart,i)},e.prototype.onMouseMove=function(t,i){(this.gridOptionsWrapper.isEnableCellTextSelect()||pl())&&t.type==="mousemove"&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,i)},e.prototype.isOverFormFieldElement=function(t){var i,n,o=t.target,s=(i=o)===null||i===void 0?void 0:i.tagName.toLocaleLowerCase();return!!(!((n=s)===null||n===void 0)&&n.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,i){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,i)},e.prototype.onMouseUp=function(t,i){this.onUpCommon(t,i)},e.prototype.onUpCommon=function(t,i){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var n={type:A.EVENT_DRAG_STOPPED,target:i};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},Tc([M("loggerFactory")],e.prototype,"loggerFactory",void 0),Tc([M("mouseEventService")],e.prototype,"mouseEventService",void 0),Tc([we],e.prototype,"init",null),Tc([nn],e.prototype,"removeAllListeners",null),e=Tc([Ie("dragService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var UY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),tg=function(){return tg=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},tg.apply(this,arguments)},Es=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},zY=function(r){UY(e,r);function e(){var i=r!==null&&r.apply(this,arguments)||this;return i.allColumnFilters=new Map,i.activeAggregateFilters=[],i.activeColumnFilters=[],i.quickFilter=null,i.quickFilterParts=null,i.processingFilterChange=!1,i}t=e,e.prototype.init=function(){var i=this;this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,function(){return i.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,function(){return i.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return i.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(i){var n=this,o=[],s=this.getFilterModel();if(i){var a=ww(Object.keys(i));this.allColumnFilters.forEach(function(l,u){var c=i[u];o.push(n.setModelOnFilterWrapper(l.filterPromise,c)),a.delete(u)}),a.forEach(function(l){var u=n.columnModel.getPrimaryColumn(l)||n.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=n.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(n.setModelOnFilterWrapper(c.filterPromise,i[l]))})}else this.allColumnFilters.forEach(function(l){o.push(n.setModelOnFilterWrapper(l.filterPromise,null))});vr.all(o).then(function(){var l=n.getFilterModel(),u=[];n.allColumnFilters.forEach(function(c,h){var d=s?s[h]:null,p=l?l[h]:null;Ze.jsonEquals(d,p)||u.push(c.column)}),u.length>0&&n.onFilterChanged({columns:u})})},e.prototype.setModelOnFilterWrapper=function(i,n){return new vr(function(o){i.then(function(s){typeof s.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),o()),(s.setModel(n)||vr.resolve()).then(function(){return o()})})})},e.prototype.getFilterModel=function(){var i={};return this.allColumnFilters.forEach(function(n,o){var s=n.filterPromise,a=s.resolveNow(null,function(u){return u});if(a==null)return null;if(typeof a.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var l=a.getModel();fe(l)&&(i[o]=l)}),i},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.doAggregateFiltersPass=function(i,n){return this.doColumnFiltersPass(i,n,!0)},e.prototype.updateActiveFilters=function(){var i=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(a){return a?a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},o=!!this.gridOptionsWrapper.getGroupAggFiltering(),s=function(a){var l=!a.isPrimary();if(l)return!0;var u=!i.columnModel.isPivotActive(),c=a.isValueActive();return!c||!u?!1:i.columnModel.isPivotMode()?!0:o};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,n)){var l=a.filterPromise.resolveNow(null,function(u){return u});s(a.column)?i.activeAggregateFilters.push(l):i.activeColumnFilters.push(l)}})},e.prototype.updateFilterFlagInColumns=function(i,n){this.allColumnFilters.forEach(function(o){var s=o.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});o.column.setFilterActive(s,i,n)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(i,n,o){for(var s=i.data,a=i.aggData,l=o?this.activeAggregateFilters:this.activeColumnFilters,u=o?a:s,c=0;c<l.length;c++){var h=l[c];if(!(h==null||h===n)){if(typeof h.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!h.doesFilterPass({node:i,data:u}))return!1}}return!0},e.prototype.parseQuickFilter=function(i){return fe(i)?this.gridOptionsWrapper.isRowModelDefault()?i.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(i){if(i!=null&&typeof i!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof i);return}var n=this.parseQuickFilter(i);this.quickFilter!==n&&(this.quickFilter=n,this.setQuickFilterParts(),this.onFilterChanged())},e.prototype.refreshFiltersForAggregations=function(){var i=this.gridOptionsWrapper.getGroupAggFiltering();i&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(i){var n=this;i===void 0&&(i={});var o=function(){return n.onFilterChanged(i)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()},e.prototype.onFilterChanged=function(i){i===void 0&&(i={});var n=i.filterInstance,o=i.additionalEventAttributes,s=i.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(l){!l.filterPromise||l.filterPromise.then(function(u){u&&u!==n&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={type:A.EVENT_FILTER_CHANGED,columns:s||[]};o&&Zn(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassOtherFilters=function(i,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:i})},e.prototype.doesRowPassQuickFilterNoCache=function(i,n){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,i);return fe(l)&&l.indexOf(n)>=0})},e.prototype.doesRowPassQuickFilterCache=function(i,n){return i.quickFilterAggregateText||this.aggregateRowForQuickFilter(i),i.quickFilterAggregateText.indexOf(n)>=0},e.prototype.doesRowPassQuickFilter=function(i){var n=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(s){return o?n.doesRowPassQuickFilterCache(i,s):n.doesRowPassQuickFilterNoCache(i,s)})},e.prototype.doesRowPassAggregateFilters=function(i){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(i.rowNode,i.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(i){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(i.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(i.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(i.rowNode,i.filterInstanceToSkip))},e.prototype.getQuickFilterTextForColumn=function(i,n){var o=this.valueService.getValue(i,n,!0),s=i.getColDef();if(s.getQuickFilterText){var a={value:o,node:n,data:n.data,column:i,colDef:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};o=s.getQuickFilterText(a)}return fe(o)?o.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(i){var n=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();s.forEach(function(a){var l=n.getQuickFilterTextForColumn(a,i);fe(l)&&o.push(l)}),i.quickFilterAggregateText=o.join(t.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(i){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(o){o.onNewRowsLoaded&&o.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(i),this.updateActiveFilters()},e.prototype.createValueGetter=function(i){var n=this;return function(o){var s=o.node;return n.valueService.getValue(i,s,!0)}},e.prototype.getFilterComponent=function(i,n,o){o===void 0&&(o=!0);var s;if(o)return((s=this.getOrCreateFilterWrapper(i,n))===null||s===void 0?void 0:s.filterPromise)||null;var a=this.cachedFilter(i);return a?a.filterPromise:null},e.prototype.isFilterActive=function(i){var n=this.cachedFilter(i);return!!n&&n.filterPromise.resolveNow(!1,function(o){return o.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(i,n){if(!i.isFilterAllowed())return null;var o=this.cachedFilter(i);return o?n!=="NO_UI"&&this.putIntoGui(o,n):(o=this.createFilterWrapper(i,n),this.allColumnFilters.set(i.getColId(),o)),o},e.prototype.cachedFilter=function(i){return this.allColumnFilters.get(i.getColId())},e.prototype.createFilterInstance=function(i){var n=this,o=et.isRegistered(Xe.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=i.getColDef(),a,l=tg(tg({},this.createFilterParams(i,s)),{filterModifiedCallback:function(){var h={type:A.EVENT_FILTER_MODIFIED,column:i,filterInstance:a};n.eventService.dispatchEvent(h)},filterChangedCallback:function(h){var d={filterInstance:a,additionalEventAttributes:h,columns:[i]};n.callOnFilterChangedOutsideRenderCycle(d)},doesRowPassOtherFilter:function(h){return n.doesRowPassOtherFilters(a,h)}}),u=this.userComponentFactory.getFilterDetails(s,l,o);if(!u)return null;var c=u.newAgStackInstance();return c&&c.then(function(h){return a=h}),c},e.prototype.createFilterParams=function(i,n){var o={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:i,colDef:ZC(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(i),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return o},e.prototype.createFilterWrapper=function(i,n){var o={column:i,filterPromise:null,compiledElement:null,guiPromise:vr.resolve(null)};return o.filterPromise=this.createFilterInstance(i),o.filterPromise&&this.putIntoGui(o,n),o},e.prototype.putIntoGui=function(i,n){var o=this,s=document.createElement("div");s.className="ag-filter",i.guiPromise=new vr(function(a){i.filterPromise.then(function(l){var u=l.getGui();fe(u)||console.warn("AG Grid: getGui method from filter returned "+u+", it should be a DOM element or an HTML template string."),typeof u=="string"&&(u=ji(u)),s.appendChild(u),a(s);var c={type:A.EVENT_FILTER_OPENED,column:i.column,source:n,eGui:s};o.eventService.dispatchEvent(c)})})},e.prototype.onColumnsChanged=function(){var i=this,n=[];this.allColumnFilters.forEach(function(o,s){var a;o.column.isPrimary()?a=i.columnModel.getPrimaryColumn(s):a=i.columnModel.getGridColumn(s),!a&&(n.push(o.column),i.disposeFilterWrapper(o,"filterDestroyed"))}),n.length>0&&this.onFilterChanged({columns:n})},e.prototype.destroyFilter=function(i,n){n===void 0&&(n="api");var o=this.allColumnFilters.get(i.getColId());o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[i]}))},e.prototype.disposeFilterWrapper=function(i,n){var o=this;i.filterPromise.then(function(s){(s.setModel(null)||vr.resolve()).then(function(){o.getContext().destroyBean(s),i.column.setFilterActive(!1,n),o.allColumnFilters.delete(i.column.getColId())})})},e.prototype.destroy=function(){var i=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return i.disposeFilterWrapper(n,"filterDestroyed")})};var t;return e.QUICK_FILTER_SEPARATOR=`
`,Es([M("valueService")],e.prototype,"valueService",void 0),Es([M("columnModel")],e.prototype,"columnModel",void 0),Es([M("rowModel")],e.prototype,"rowModel",void 0),Es([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Es([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Es([we],e.prototype,"init",null),Es([nn],e.prototype,"destroy",null),e=t=Es([Ie("filterManager")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var jY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bw=function(r){jY(e,r);function e(t,i){var n=r.call(this,t)||this;return n.ctrl=i,n}return e.prototype.getCtrl=function(){return this.ctrl},e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $Y=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},YY=function(r){$Y(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),n={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return t.eFloatingFilterBody.classList.toggle(o,s)},addOrRemoveButtonWrapperCssClass:function(o,s){return t.eButtonWrapper.classList.toggle(o,s)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return i.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(n,i,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var i=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(n){return i.afterCompCreated(n)})},e.prototype.afterCompCreated=function(t){var i=this;!t||(this.addDestroyFunc(function(){return i.context.destroyBean(t)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Sp([pe("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Sp([pe("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Sp([pe("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Sp([we],e.prototype,"postConstruct",null),e}(bw);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qx=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ai;(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"})(Ai||(Ai={}));var Mw=function(r){KY(e,r);function e(t){var i=r.call(this)||this;return i.view=t,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.gridOptionsWrapper.getDomLayout(),i={autoHeight:t===k.DOM_LAYOUT_AUTO_HEIGHT,normal:t===k.DOM_LAYOUT_NORMAL,print:t===k.DOM_LAYOUT_PRINT},n=i.autoHeight?Ai.AUTO_HEIGHT:i.print?Ai.PRINT:Ai.NORMAL;this.view.updateLayoutClasses(n,i)},Qx([M("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Qx([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xs=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qY=function(r){XY(e,r);function e(t){var i=r.call(this)||this;return i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.eBodyViewport=t,i.resetLastHorizontalScrollElementDebounced=oa(i.resetLastHorizontalScrollElement.bind(i),500),i}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(i){t.centerRowContainerCtrl=i.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var i=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?oa(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var i=this.centerRowContainerCtrl==null;if(!i){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var n=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollCtrl(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(n),a.setContainerTranslateX(n),o.setContainerTranslateX(n),s.setContainerTranslateX(n);var c=this.centerRowContainerCtrl.getViewportElement(),h=this.lastHorizontalScrollElement===c,d=h?l.getViewport():this.centerRowContainerCtrl.getViewportElement();Kf(d,Math.abs(t),this.enableRtl)}},e.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},e.prototype.onFakeHorizontalScroll=function(){var t=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(t)||this.onBodyHorizontalScroll(t)},e.prototype.onCenterViewportScroll=function(){var t=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(t)||this.onBodyHorizontalScroll(t)},e.prototype.onBodyHorizontalScroll=function(t){var i=this.centerRowContainerCtrl.getViewportElement(),n=i.scrollLeft;this.shouldBlockScrollUpdate("horizontal",n,!0)||(this.doHorizontalScroll(Math.round(Gh(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},e.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},e.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},e.prototype.doHorizontalScroll=function(t){var i=this.ctrlsService.getFakeHScrollCtrl().getViewport(),n=Gh(i,this.enableRtl);this.scrollLeft===t&&t===n||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},e.prototype.fireScrollEvent=function(t){var i=this,n={type:A.EVENT_BODY_SCROLL,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Object.assign({},n,{type:A.EVENT_BODY_SCROLL_END});i.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,i,n){if(n===void 0&&(n=!1),n&&!ua())return!1;if(t==="vertical"){var o=ld(this.eBodyViewport),s=this.eBodyViewport.scrollHeight;if(i<0||i+o>s)return!0}if(t==="horizontal"){var a=this.centerRowContainerCtrl.getCenterWidth(),l=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Nh()){if(i>0)return!0}else if(i<0)return!0;if(Math.abs(i)+a>l)return!0}return!1},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},e.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},e.prototype.executeAnimationFrameScroll=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t){var i=0,n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(this.enableRtl&&Nh()?t=t>0?0:n:t=Math.min(Math.max(t,i),n)),Kf(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){var t={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return t},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,i){i===void 0&&(i=null);for(var n=this.rowModel.getRowCount(),o=-1,s=0;s<n;s++){var a=this.rowModel.getRow(s);if(typeof t=="function"){var l=t;if(a&&l(a)){o=s;break}}else if(t===a||t===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,i)},e.prototype.ensureIndexVisible=function(t,i){if(this.gridOptionsWrapper.getDomLayout()!==k.DOM_LAYOUT_PRINT){var n=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=n){console.warn("invalid row index for ensureIndexVisible: "+t);return}var o=this.gridOptionsWrapper.isPagination(),s=o&&!this.gridOptionsWrapper.isSuppressPaginationPanel();s||this.paginationProxy.goToPageWithIndex(t);var a=this.ctrlsService.getGridBodyCtrl(),l=a.getStickyTopHeight(),u=this.paginationProxy.getRow(t),c;do{var h=u.rowTop,d=u.rowHeight,p=this.paginationProxy.getPixelOffset(),f=u.rowTop-p,m=f+u.rowHeight,g=this.getVScrollPosition(),y=this.heightScaler.getDivStretchOffset(),C=g.top+y,w=g.bottom+y,S=w-C,b=this.heightScaler.getScrollPositionForPixel(f),T=this.heightScaler.getScrollPositionForPixel(m-S),F=Math.min((b+T)/2,f),R=C+l>f,P=w<m,G=null;i==="top"?G=b:i==="bottom"?G=T:i==="middle"?G=F:R?G=b-l:P&&(G=T),G!==null&&(this.eBodyViewport.scrollTop=G,this.rowRenderer.redrawAfterScroll()),c=h!==u.rowTop||d!==u.rowHeight}while(c);this.animationFrameService.flushAllFrames()}},e.prototype.ensureColumnVisible=function(t,i){i===void 0&&(i="auto");var n=this.columnModel.getGridColumn(t);if(!!n&&!n.isPinned()&&!!this.columnModel.isColumnDisplayed(n)){var o=this.getPositionedHorizontalScroll(n,i);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,i){var n=this.isColumnOutsideViewport(t),o=n.columnBeforeStart,s=n.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,h=u?s:o;i!=="auto"&&(c=i==="start",h=i==="end");var d=i==="middle";if(c||h||d){var p=this.getColumnBounds(t),f=p.colLeft,m=p.colMiddle,g=p.colRight;return d?m-l/2:c?u?g:f:u?f-l:g-l}return null},e.prototype.isColumnOutsideViewport=function(t){var i=this.getViewportBounds(),n=i.start,o=i.end,s=this.getColumnBounds(t),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?n>l:o<l,h=u?o<a:n>a;return{columnBeforeStart:c,columnAfterEnd:h}},e.prototype.getColumnBounds=function(t){var i=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),s=t.getLeft(),a=i?-1:1,l=i?n-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),n=i,o=t+i;return{start:n,end:o,width:t}},xs([M("ctrlsService")],e.prototype,"ctrlsService",void 0),xs([M("animationFrameService")],e.prototype,"animationFrameService",void 0),xs([M("paginationProxy")],e.prototype,"paginationProxy",void 0),xs([M("rowModel")],e.prototype,"rowModel",void 0),xs([M("rowContainerHeightService")],e.prototype,"heightScaler",void 0),xs([M("rowRenderer")],e.prototype,"rowRenderer",void 0),xs([M("columnModel")],e.prototype,"columnModel",void 0),xs([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ZY=function(){function r(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(e,t){t===void 0&&(t=!1);var i=t||this.shouldSkipVerticalScroll();if(!(i&&this.shouldSkipHorizontalScroll())){var n=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<n.left+o,this.tickRight=e.clientX>n.right-o,this.tickUp=e.clientY<n.top+o&&!i,this.tickDown=e.clientY>n.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-e),this.tickRight&&this.setHorizontalPosition(i+e)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var JY=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),R_=function(){return R_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},R_.apply(this,arguments)},lr=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QY=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},eK=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(QY(arguments[e]));return r},tK=function(r){JY(e,r);function e(t){var i=r.call(this)||this;return i.isMultiRowDrag=!1,i.isGridSorted=!1,i.isGridFiltered=!1,i.isRowGroupActive=!1,i.eContainer=t,i}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var i=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,function(){i()}),i(),this.ctrlsService.whenReady(function(){var n=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new ZY({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return n.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Xn(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Tn.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsWrapper.isRowDragManaged();return t&&this.shouldPreventRowMove()?en.ICON_NOT_ALLOWED:en.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var i=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var n=this.gridOptionsWrapper.isRowDragMultiRow(),o=eK(this.selectionService.getSelectedNodes()).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:i.getRowIndexNumber(a)-i.getRowIndexNumber(l)}),s=t.dragItem.rowNode;return n&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(A.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(i){i.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var i=t.dragSource.dragSourceDomDataKey;return i===this.gridOptionsWrapper.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var i=this.ctrlsService.getGridBodyCtrl(),n=i.getGui(),o=t.dropZoneTarget;return!n.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(A.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var i=this.mouseEventService.getNormalisedPosition(t).y,n=this.gridOptionsWrapper.isRowDragManaged();n&&this.doManagedDrag(t,i),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,i){var n=this.isFromThisGrid(t),o=this.gridOptionsWrapper.isRowDragManaged(),s=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(s[0],i):this.moveRows(s,i))},e.prototype.getRowIndexNumber=function(t){return parseInt(Ut(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var i=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),o=n&&n.highlighted===ns.Below,s=this.mouseEventService.getNormalisedPosition(t).y,a=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))a.forEach(function(h){h.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsWrapper.getRowIdFunc(),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===ns.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(h){return h.data}).filter(function(h){return!i.clientSideRowModel.getRowNode(u?u({data:h,level:0}):h.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,i,n){n===void 0&&(n=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,i,n);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var i=this;if(!t.getContainer()){mt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(o){t.onDragEnter(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(n.onDragLeave=function(o){t.onDragLeave(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(n.onDragging=function(o){t.onDragging(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(n.onDragStop=function(o){t.onDragStop(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(R_({isInterestedIn:function(o){return o===Tn.RowDrag},getIconName:function(){return en.ICON_MOVE},external:!0},n))},e.prototype.getRowDropZone=function(t){var i=this,n=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){s(u),t.onDragLeave(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:t.onDragging?function(u){a(u),t.onDragging(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(i.draggingToRowDragEvent(A.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:n,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,i){var n=this.mouseEventService.getNormalisedPosition(i).y,o=n>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(n),a=this.rowModel.getRow(s));var l;switch(i.vDirection){case zu.Down:l="down";break;case zu.Up:l="up";break;default:l=null;break}var u={type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:s,overNode:a,y:n,vDirection:l};return u},e.prototype.dispatchGridEvent=function(t,i){var n=this.draggingToRowDragEvent(t,i);this.eventService.dispatchEvent(n)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(A.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(A.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(i){i.setDragging(!1)})},lr([M("dragAndDropService")],e.prototype,"dragAndDropService",void 0),lr([M("rowModel")],e.prototype,"rowModel",void 0),lr([M("paginationProxy")],e.prototype,"paginationProxy",void 0),lr([M("columnModel")],e.prototype,"columnModel",void 0),lr([M("focusService")],e.prototype,"focusService",void 0),lr([M("sortController")],e.prototype,"sortController",void 0),lr([M("filterManager")],e.prototype,"filterManager",void 0),lr([M("selectionService")],e.prototype,"selectionService",void 0),lr([M("mouseEventService")],e.prototype,"mouseEventService",void 0),lr([M("ctrlsService")],e.prototype,"ctrlsService",void 0),lr([It("rangeService")],e.prototype,"rangeService",void 0),lr([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ur=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ju;(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"})(ju||(ju={}));var $P="ag-selectable",YP="ag-force-vertical-scroll",KP="ag-column-moving",nK=function(r){iK(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,i,n,o,s,a){this.comp=t,this.eGridBody=i,this.eBodyViewport=n,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Mw(this.comp)),this.bodyScrollFeature=this.createManagedBean(new qY(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var i=this;t.forEach(function(n){i.addManagedListener(n,"focusin",function(o){var s=o.target,a=Ya(s,"ag-root",n);n.classList.toggle("ag-has-focus",!a)}),i.addManagedListener(n,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=n.contains(a),u=Ya(a,"ag-root",n),c=Ya(s,"ag-root",n);c||(!l||u)&&n.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(t?KP:null,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1);var i=t?$P:null;this.comp.setCellSelectableCss(i,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t)},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(!!this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var i=function(o){var s=o.relatedTarget;if(jf(s)===null){t.rowRenderer.stopEditing();return}var a=n.some(function(u){return u.contains(s)})&&t.mouseEventService.isElementInThisGrid(s);if(!a){var l=t.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||t.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach(function(o){return t.addManagedListener(o,"focusout",i)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=i===-1?-1:t+i;this.comp.setRowCount(n)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var i=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(i)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),i=t?YP:null,n=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_NORMAL;return this.comp.setAlwaysVerticalScrollClass(i,t),t||n&&hP(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,i=function(){var n=t.gridOptionsWrapper.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=n?ju.ANIMATION_ON:ju.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,n)};i(),this.addManagedListener(this.eventService,A.EVENT_HEIGHT_SCALE_CHANGED,i)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this,i=function(n,o,s){if(!(!n&&!s)){if(t.gridOptionsWrapper.isPreventDefaultOnContextMenu()){var a=n||s;a.preventDefault()}var l=(n||o).target;(l===t.eBodyViewport||l===t.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&t.contextMenuFactory&&(n?t.contextMenuFactory.onContextMenu(n,null,null,null,null,t.eGridBody):s&&t.contextMenuFactory.onContextMenu(null,s,null,null,null,t.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",i),this.mockContextMenuForIPad(i),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},e.prototype.mockContextMenuForIPad=function(t){if(!!ua()){var i=new Qn(this.eBodyViewport),n=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(i,Qn.EVENT_LONG_TAP,n),this.addDestroyFunc(function(){return i.destroy()})}},e.prototype.onBodyViewportWheel=function(t){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+t),this.eBodyViewport.scrollTop-i},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new tK(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,i=t.getPinnedTopTotalHeight();i&&(i+=1);var n=t.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(i),this.comp.setBottomHeight(n),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var i=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+i+"px)")}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),i=t.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;i>0&&(o+=i+1),n>0&&(o+=n+1),this.comp.setStickyTopTop(o+"px")},e.prototype.sizeColumnsToFit=function(t,i){var n=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsWrapper.getScrollbarWidth():0,a=Yg(this.eBodyViewport),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}i===void 0?window.setTimeout(function(){n.sizeColumnsToFit(t,100)},0):i===100?window.setTimeout(function(){n.sizeColumnsToFit(t,500)},100):i===500?window.setTimeout(function(){n.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},ur([M("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),ur([M("ctrlsService")],e.prototype,"ctrlsService",void 0),ur([M("columnModel")],e.prototype,"columnModel",void 0),ur([M("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),ur([It("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ur([M("headerNavigationService")],e.prototype,"headerNavigationService",void 0),ur([M("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ur([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ur([M("rowRenderer")],e.prototype,"rowRenderer",void 0),ur([M("popupService")],e.prototype,"popupService",void 0),ur([M("mouseEventService")],e.prototype,"mouseEventService",void 0),ur([M("rowModel")],e.prototype,"rowModel",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ig;(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"})(ig||(ig={}));var hu;(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"})(hu||(hu={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Pc="ag-cell-range-selected",rK="ag-cell-range-chart",oK="ag-cell-range-single-cell",sK="ag-cell-range-chart-category",aK="ag-cell-range-handle",lK="ag-cell-range-top",uK="ag-cell-range-right",cK="ag-cell-range-bottom",hK="ag-cell-range-left",dK=function(){function r(e,t){this.beans=e,this.cellCtrl=t}return r.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Pc,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(Pc+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(Pc+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(Pc+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(Pc+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(rK,this.hasChartRange),Bu(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(oK,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(lK,i),this.cellComp.addOrRemoveCssClass(uK,n),this.cellComp.addOrRemoveCssClass(cK,o),this.cellComp.addOrRemoveCssClass(hK,s)},r.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(i){return tr([hu.DIMENSION,hu.VALUE],i.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsWrapper.isEnableRtl(),i=!1,n=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,h,d;t?(h=c.getDisplayedColAfter(a),d=c.getDisplayedColBefore(a)):(h=c.getDisplayedColBefore(a),d=c.getDisplayedColAfter(a));var p=u.getCellRanges().filter(function(C){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),C)});h||(s=!0),d||(n=!0);for(var f=0;f<p.length&&!(i&&n&&o&&s);f++){var m=p[f],g=u.getRangeStartRow(m),y=u.getRangeEndRow(m);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!o&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(o=!0),!s&&h&&m.columns.indexOf(h)<0&&(s=!0),!n&&d&&m.columns.indexOf(d)<0&&(n=!0)}return{top:i,right:n,bottom:o,left:s}},r.prototype.refreshHandle=function(){if(!!this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(aK,!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,i=e.rangeService,n=i.getCellRanges(),o=n.length;if(this.rangeCount<1||o<1)return!1;var s=Ut(n),a=this.cellCtrl.getCellPosition(),l=t.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),u=t.isEnableRangeHandle(),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var h=n[0].type===hu.DIMENSION,d=h&&i.isCellInSpecificRange(a,n[0]);this.cellComp.addOrRemoveCssClass(sK,d),c=s.type===hu.VALUE}return c&&s.endRow!=null&&i.isContiguousRange(s)&&i.isBottomRightCell(s,a)},r.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsWrapper,i=e.rangeService,n=Ut(i.getCellRanges()).type,o=t.isEnableFillHandle()&&Ue(n),s=o?ig.FILL:ig.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fK=function(r){pK(e,r);function e(t,i){var n=r.call(this)||this;return n.cellCtrl=t,n.beans=i,n.column=t.getColumn(),n.rowNode=t.getRowNode(),n.setupColSpan(),n.setupRowSpan(),n}return e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();Us(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(!!this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,i){return t+i.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),i=[];if(t===1)i.push(this.column);else for(var n=this.column,o=this.column.getPinned(),s=0;n&&s<t&&(i.push(n),n=this.beans.columnModel.getDisplayedColAfter(n),!(!n||Ue(n)||o!==n.getPinned()));s++);return i},e.prototype.onLeftChanged=function(){if(!!this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?t=Ut(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===k.PINNED_LEFT)return t;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()===k.PINNED_RIGHT){var n=this.beans.columnModel.getBodyContainerWidth();return i+n+(t||0)}return i+(t||0)},e.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var t=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),i=t*this.rowSpan;this.eGui.style.height=i+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var gK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mK=function(r){gK(e,r);function e(t,i){var n=r.call(this)||this;return n.staticClasses=[],n.cellCtrl=t,n.beans=i,n.column=t.getColumn(),n.rowNode=t.getRowNode(),n}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,i=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(i.cellClassRules,n,function(o){return t.cellComp.addOrRemoveCssClass(o,!0)},function(o){return t.cellComp.addOrRemoveCssClass(o,!1)})},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(!!t.cellStyle){var i;if(typeof t.cellStyle=="function"){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=t.cellStyle;i=o(n)}else i=t.cellStyle;this.cellComp.setUserStyles(i)}},e.prototype.applyClassesFromColDef=function(){var t=this,i=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:i,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(i,n),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var vK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tw=function(r){vK(e,r);function e(t,i){var n=r.call(this)||this;return n.ctrl=t,n.beans=i,n}return e.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this;if(this.genericTooltipFeature==null){var i={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new Sw(i),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0)},e.prototype.getTooltipParams=function(){var t=this.ctrl,i=t.getColumn?t.getColumn():void 0,n=t.getColDef?t.getColDef():void 0,o=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:n,column:i,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var lt=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},XP=function(){function r(){}return r.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},lt([M("resizeObserverService")],r.prototype,"resizeObserverService",void 0),lt([M("paginationProxy")],r.prototype,"paginationProxy",void 0),lt([M("context")],r.prototype,"context",void 0),lt([M("columnApi")],r.prototype,"columnApi",void 0),lt([M("gridApi")],r.prototype,"gridApi",void 0),lt([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),lt([M("expressionService")],r.prototype,"expressionService",void 0),lt([M("rowRenderer")],r.prototype,"rowRenderer",void 0),lt([M("templateService")],r.prototype,"templateService",void 0),lt([M("valueService")],r.prototype,"valueService",void 0),lt([M("eventService")],r.prototype,"eventService",void 0),lt([M("columnModel")],r.prototype,"columnModel",void 0),lt([M("headerNavigationService")],r.prototype,"headerNavigationService",void 0),lt([M("navigationService")],r.prototype,"navigationService",void 0),lt([M("columnAnimationService")],r.prototype,"columnAnimationService",void 0),lt([It("rangeService")],r.prototype,"rangeService",void 0),lt([M("focusService")],r.prototype,"focusService",void 0),lt([It("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),lt([M("popupService")],r.prototype,"popupService",void 0),lt([M("valueFormatterService")],r.prototype,"valueFormatterService",void 0),lt([M("stylingService")],r.prototype,"stylingService",void 0),lt([M("columnHoverService")],r.prototype,"columnHoverService",void 0),lt([M("userComponentFactory")],r.prototype,"userComponentFactory",void 0),lt([M("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),lt([M("animationFrameService")],r.prototype,"animationFrameService",void 0),lt([M("dragAndDropService")],r.prototype,"dragAndDropService",void 0),lt([M("sortController")],r.prototype,"sortController",void 0),lt([M("filterManager")],r.prototype,"filterManager",void 0),lt([M("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),lt([M("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),lt([M("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),lt([M("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),lt([M("selectionService")],r.prototype,"selectionService",void 0),lt([It("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),lt([M("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),lt([M("rowModel")],r.prototype,"rowModel",void 0),lt([M("ctrlsService")],r.prototype,"ctrlsService",void 0),lt([M("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),lt([M("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),lt([M("valueCache")],r.prototype,"valueCache",void 0),lt([M("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),lt([we],r.prototype,"postConstruct",null),r=lt([Ie("beans")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_K=function(r){yK(e,r);function e(t,i,n){var o=r.call(this)||this;return o.cellCtrl=t,o.beans=i,o.column=n,o}return e.prototype.onMouseEvent=function(t,i){if(!So(i))switch(t){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i);break}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var i=this.beans,n=i.eventService,o=i.rangeService,s=i.gridOptionsWrapper,a=t.ctrlKey||t.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(t,A.EVENT_CELL_CLICKED);n.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.isSingleClickEdit()||u.singleClickEdit)&&!s.isSuppressClickEdit();c&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!ua()||QC("dblclick"))return!1;var t=new Date().getTime(),i=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,i},e.prototype.onCellDoubleClicked=function(t){var i=this.column.getColDef(),n=this.cellCtrl.createEvent(t,A.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(function(){return i.onCellDoubleClicked(n)},0);var o=!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit();o&&this.cellCtrl.startRowOrCellEdit(null,null,t)},e.prototype.onMouseDown=function(t){var i=t.ctrlKey,n=t.metaKey,o=t.shiftKey,s=t.target,a=this.beans,l=a.eventService,u=a.rangeService;if(!this.isRightClickInExistingRange(t)){var c=u&&u.getCellRanges().length!=0;if(!o||!c){var h=(jg()||pl())&&!this.cellCtrl.isEditing()&&!ow(s);this.cellCtrl.focusCell(h)}if(o&&c&&t.preventDefault(),!this.containsWidget(s)){if(u){var d=this.cellCtrl.getCellPosition();if(o)u.extendLatestRangeToCell(d);else{var p=i||n;u.setRangeToCell(d,p)}}l.dispatchEvent(this.cellCtrl.createEvent(t,A.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var i=this.beans.rangeService;if(i){var n=i.isCellInAnyRange(this.cellCtrl.getCellPosition());if(n&&t.button===2)return!0}return!1},e.prototype.containsWidget=function(t){return Ya(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var i=this.cellCtrl.createEvent(t,A.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var i=this.cellCtrl.createEvent(t,A.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var i=this.cellCtrl.getGui(),n=i.contains(t.target),o=i.contains(t.relatedTarget);return n&&o},e.prototype.destroy=function(){},e}(XP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wK=function(r){CK(e,r);function e(t,i,n,o,s){var a=r.call(this)||this;return a.cellCtrl=t,a.beans=i,a.rowNode=o,a.rowCtrl=s,a}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var i=t.key;switch(i){case de.ENTER:this.onEnterKeyDown(t);break;case de.F2:this.onF2KeyDown(t);break;case de.ESCAPE:this.onEscapeKeyDown(t);break;case de.TAB:this.onTabKeyDown(t);break;case de.BACKSPACE:case de.DELETE:this.onBackspaceOrDeleteKeyPressed(i,t);break;case de.DOWN:case de.UP:case de.RIGHT:case de.LEFT:this.onNavigationKeyPressed(t,i);break}},e.prototype.onNavigationKeyPressed=function(t,i){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,i,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(!!this.beans.rangeService){var i=this.beans.rangeService.extendLatestRangeInDirection(t);i&&this.beans.navigationService.ensureCellVisible(i)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t,i){var n=this,o=n.cellCtrl,s=n.beans,a=n.rowNode,l=s.gridOptionsWrapper,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),LP(t,l.isEnableCellEditingOnBackspace())?u&&l.isEnableRangeSelection()?u.clearCellRangeCellValues():o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellKeyboardListenerFeature"):o.startRowOrCellEdit(t,void 0,i),c.dispatchEvent({type:A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,de.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(de.ENTER,void 0,t),this.cellCtrl.isEditing()&&t.preventDefault())},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(de.F2,void 0,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.onKeyPress=function(t){var i=t.target,n=i!==this.eGui;if(!(n||this.cellCtrl.isEditing())){var o=String.fromCharCode(t.charCode);o===" "?this.onSpaceKeyPressed(t):AP(t)&&(this.cellCtrl.startRowOrCellEdit(null,o,t),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){var i=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){var n=this.rowNode.isSelected(),o=!n;if(o||!i.isSuppressRowDeselection()){var s=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:s});n===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s})}}t.preventDefault()},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),EK=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xK=function(r){SK(e,r);function e(t,i,n,o){var s=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=i,s.beans=n,s.eCell=o,s}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(Ti("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(i){i.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var i=this,n=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(i.rowNode.data);t.dataTransfer.setData("application/json",a),t.dataTransfer.setData("text/plain",a)}catch{}};if(n){var s={rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};n(s)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},EK([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var RK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ng=function(){return ng=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ng.apply(this,arguments)},bK="ag-cell",MK="ag-cell-auto-height",TK="ag-cell-normal-height",PK="ag-cell-focus",OK="ag-cell-first-right-pinned",AK="ag-cell-last-left-pinned",eR="ag-cell-not-inline-editing",DK="ag-cell-inline-editing",IK="ag-cell-popup-editing",LK="ag-column-hover",FK="ag-cell-wrap-text",NK=0,Xa=function(r){RK(e,r);function e(t,i,n,o){var s=r.call(this)||this;return s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=t,s.rowNode=i,s.beans=n,s.rowCtrl=o,s.instanceId=t.getId()+"-"+NK++,s.createCellPosition(),s.addFeatures(),s}return e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new fK(this,this.beans),this.addDestroyFunc(function(){return t.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new mK(this,this.beans),this.addDestroyFunc(function(){return t.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new _K(this,this.beans,this.column),this.addDestroyFunc(function(){return t.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new wK(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return t.cellKeyboardListenerFeature.destroy()});var i=this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection();i&&(this.cellRangeFeature=new dK(this.beans,this),this.addDestroyFunc(function(){return t.cellRangeFeature.destroy()})),this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,i=function(){var o=t.column.getColDef(),s=t.rowNode.data;if(o.tooltipField&&fe(s))return kf(s,o.tooltipField,t.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a({location:"cell",api:t.beans.gridOptionsWrapper.getApi(),columnApi:t.beans.gridOptionsWrapper.getColumnApi(),context:t.beans.gridOptionsWrapper.getContext(),colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},n={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:i,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new Tw(n,this.beans),this.addDestroyFunc(function(){return t.tooltipFeature.destroy()})},e.prototype.setComp=function(t,i,n,o,s){this.cellComp=t,this.gow=this.beans.gridOptionsWrapper,this.eGui=i,this.printLayout=o,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var a=bo(this.column.getId());this.cellComp.setColId(a),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(i),this.cellCustomStyleFeature.setComp(t),this.tooltipFeature.setComp(t),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(l){return l()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var i=this;if(!!this.column.isAutoHeight()){var n=t.parentElement,o=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,s=function(u){if(!i.editing&&!!i.isAlive()){var c=fl(n),h=c.paddingTop,d=c.paddingBottom,p=t.offsetHeight,f=p+h+d;if(u<5){var m=i.beans.gridOptionsWrapper.getDocument(),g=!m||!m.contains(t),y=f==0;if(g||y){i.beans.frameworkOverrides.setTimeout(function(){return s(u+1)},0);return}}var C=Math.max(f,o);i.rowNode.setRowAutoHeight(C,i.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(function(){l(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.showValue=function(t){t===void 0&&(t=!1);var i=this.valueFormatted!=null?this.valueFormatted:this.value,n=this.createCellRendererParams(),o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n);this.cellComp.setRenderDetails(o,i,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var i=this.rowNode.rowPinned!=null,n=typeof t=="function",o=i?!1:n||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return i||n||o},e.prototype.startEditing=function(t,i,n,o){var s=this;t===void 0&&(t=null),i===void 0&&(i=null),n===void 0&&(n=!1),o===void 0&&(o=null);var a,l;if(!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){s.startEditing(t,i,n,o)});return}var u=this.createCellEditorParams(t,i,n),c=this.column.getColDef(),h=this.beans.userComponentFactory.getCellEditorDetails(c,u),d=((a=h)===null||a===void 0?void 0:a.popupFromSelector)!=null?h.popupFromSelector:!!c.cellEditorPopup,p=((l=h)===null||l===void 0?void 0:l.popupPositionFromSelector)!=null?h.popupPositionFromSelector:c.cellEditorPopupPosition;this.setEditing(!0,d),this.cellComp.setEditDetails(h,d,p);var f=this.createEvent(o,A.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(f)}},e.prototype.setEditing=function(t,i){i===void 0&&(i=!1),this.editing!==t&&(this.editing=t,this.editingInPopup=i,this.setInlineEditingClass(),this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var i={newValueExists:!1};if(t)return i;var n=this.cellComp.getCellEditor();if(!n)return i;var o=n.isCancelAfterEnd&&n.isCancelAfterEnd();if(o)return i;var s=n.getValue();return{newValue:s,newValueExists:!0}},e.prototype.saveNewValue=function(t,i){if(i===t)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(t,i),!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,i);return this.suppressRefreshCell=!1,n},e.prototype.dispatchEventForSaveValueReadOnly=function(t,i){var n=this.rowNode,o={type:A.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:n.data,node:n,oldValue:t,newValue:i,value:i,source:void 0};this.beans.eventService.dispatchEvent(o)},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var i=this.takeValueFromCellEditor(t),n=i.newValue,o=i.newValueExists,s=this.getValueFromValueService(),a=!1;return o&&(a=this.saveNewValue(s,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,n,!t&&!!a),a},e.prototype.dispatchEditingStoppedEvent=function(t,i,n){var o=ng(ng({},this.createEvent(null,A.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:i,valueChanged:n});this.beans.eventService.dispatchEvent(o)},e.prototype.setInlineEditingClass=function(){var t=this;if(!!this.isAlive()){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){t.setInlineEditingClass()});return}var i=this.editing&&!this.editingInPopup,n=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass(DK,i),this.cellComp.addOrRemoveCssClass(eR,!i),this.cellComp.addOrRemoveCssClass(IK,n),this.rowCtrl.setInlineEditingCss(this.editing)}},e.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},e.prototype.createCellEditorParams=function(t,i,n){var o={value:this.getValueFromValueService(),key:t,eventKey:t,charPress:i,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return o},e.prototype.createCellRendererParams=function(){var t=this,i=function(o,s){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),t.rowCtrl.addEventListener(o,s)},n={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(o){return t.beans.valueService.setValue(t.rowNode,t.column,o)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(o,s,a,l){return t.registerRowDragger(o,s,l)},addRowCompListener:i};return n},e.prototype.parseValue=function(t){var i=this.column.getColDef(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:i,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=i.valueParser;return fe(o)?this.beans.expressionService.evaluate(o,n):t},e.prototype.setFocusOutOnEditor=function(){if(!!this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(!!this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){if(!!this.cellComp){var i=t.column===this.column;i&&this.refreshCell({})}},e.prototype.refreshCell=function(t){if(!(this.suppressRefreshCell||this.editing)&&!!this.cellComp){var i=this.column.getColDef(),n=t!=null&&!!t.newData,o=t!=null&&!!t.suppressFlash||!!i.suppressCellFlash,s=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,a=t&&t.forceRefresh||s||n,l=this.updateAndFormatValue(),u=a||l;if(u){this.showValue(n);var c=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),h=!o&&!c&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||i.enableCellChangeFlash);h&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t){t===void 0&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.navigateAfterEdit=function(){var t=this.beans.gridOptionsWrapper.isFullRowEdit();if(!t){var i=this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit();i&&this.beans.navigationService.navigateToNextCell(null,de.DOWN,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var i=t&&t.flashDelay,n=t&&t.fadeDelay;this.animateCell("data-changed",i,n)},e.prototype.animateCell=function(t,i,n){var o=this,s="ag-cell-"+t,a="ag-cell-"+t+"-animation",l=this.beans.gridOptionsWrapper;i||(i=l.getCellFlashDelay()),fe(n)||(n=l.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),window.setTimeout(function(){!o.isAlive()||(o.cellComp.addOrRemoveCssClass(s,!1),o.cellComp.addOrRemoveCssClass(a,!0),o.eGui.style.transition="background-color "+n+"ms",window.setTimeout(function(){!o.isAlive()||(o.cellComp.addOrRemoveCssClass(a,!1),o.eGui.style.transition="")},n))},i)},e.prototype.onFlashCells=function(t){if(!!this.cellComp){var i=this.beans.cellPositionUtils.createId(this.getCellPosition()),n=t.cells[i];n&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var i=this.callValueFormatter(t);return i!=null?i:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){t===void 0&&(t=!1);var i=this.value,n=this.valueFormatted;this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value);var o=t?!0:!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n;return o},e.prototype.valuesAreEqual=function(t,i){var n=this.column.getColDef();return n.equals?n.equals(t,i):t===i},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValueFromValueService=function(){var t=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),o=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),s=i&&n&&!o,a=this.beans.valueService.getValue(this.column,this.rowNode,!1,s);return a},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,i=this.getGui();this.beans.gridOptionsWrapper.setDomData(i,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsWrapper.setDomData(i,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,i){var n={type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex};return n},e.prototype.onKeyPress=function(t){this.cellKeyboardListenerFeature.onKeyPress(t)},e.prototype.onKeyDown=function(t){this.cellKeyboardListenerFeature.onKeyDown(t)},e.prototype.onMouseEvent=function(t,i){this.cellMouseListenerFeature.onMouseEvent(t,i)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},e.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);_w(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,i,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(t,i,this):this.startEditing(t,i,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(!!this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(OK,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(!!this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(AK,t)}},e.prototype.onCellFocused=function(t){if(!(!this.cellComp||this.gow.isSuppressCellFocus())){var i=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass(PK,i),i&&t&&t.forceBrowserFocus){var n=this.cellComp.getFocusableElement();n.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsWrapper.isFullRowEdit();!i&&!o&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Zs(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(bK,!0),this.cellComp.addOrRemoveCssClass(eR,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(MK,t),this.cellComp.addOrRemoveCssClass(TK,!t)},e.prototype.onColumnHover=function(){if(!!this.cellComp&&!!this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(LK,t)}},e.prototype.onColDefChanged=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(FK,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var i=this.column.getColDef(),n=this.createEvent(t,A.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(function(){return i.onCellContextMenu(n)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new zP;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new xK(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,i,n){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}var s=this.createRowDragComp(t,i,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){return o.beans.context.destroyBean(s)}))},e.prototype.createRowDragComp=function(t,i,n){var o=this,s=this.beans.gridOptionsWrapper.isPagination(),a=this.beans.gridOptionsWrapper.isRowDragManaged(),l=this.beans.gridOptionsWrapper.isRowModelDefault();if(a){if(!l){mt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(s){mt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var u=new Qf(function(){return o.value},this.rowNode,this.column,t,i,n);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),HK=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},VK=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(WK(arguments[e]));return r},Nn;(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"})(Nn||(Nn={}));var kK=0,qa=function(r){GK(e,r);function e(t,i,n,o,s){var a=r.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.lastMouseDownOnDragger=!1,a.updateColumnListsPending=!1,a.beans=i,a.rowNode=t,a.paginationPage=a.beans.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.instanceId=t.id+"-"+kK++,a.setAnimateFlags(n),a.rowFocused=a.beans.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=a.beans.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.addListeners(),a}return e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,i,n){var o={rowComp:t,element:i,containerType:n};this.allRowGuis.push(o),n===Yn.LEFT?this.leftGui=o:n===Yn.RIGHT?this.rightGui=o:n===Yn.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o;var s=this.leftGui!=null&&this.rightGui!=null&&this.centerGui!=null,a=this.fullWidthGui!=null;(s||a)&&this.initialiseRowComps(),this.rowType!=="FullWidthLoading"&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.isCacheable=function(){return this.rowType===Nn.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},e.prototype.setCached=function(t){var i=t?"none":"";this.allRowGuis.forEach(function(n){return n.element.style.display=i})},e.prototype.initialiseRowComps=function(){var t=this,i=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&s_(this.onTopChanged.bind(this)),this.fadeRowIn&&s_(function(){t.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var n=this.getRowBusinessKey(),o=bo(this.rowNode.id),s=bo(n);this.allRowGuis.forEach(function(a){var l=a.rowComp;l.setRole("row");var u=t.getInitialRowClasses(a.containerType);u.forEach(function(c){return l.addOrRemoveCssClass(c,!0)}),t.rowNode.group&&Jn(a.element,t.rowNode.expanded==!0),o!=null&&l.setRowId(o),s!=null&&l.setRowBusinessKey(s),t.isFullWidth()&&!t.beans.gridOptionsWrapper.isSuppressCellFocus()&&l.setTabIndex(-1),i.setDomData(a.element,e.DOM_DATA_KEY_ROW_CTRL,t),t.addDestroyFunc(function(){return i.setDomData(a.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),t.useAnimationFrameForCreate?t.beans.animationFrameService.createTask(t.addHoverFunctionality.bind(t,a.element),t.rowNode.rowIndex,"createTasksP2"):t.addHoverFunctionality(a.element),t.isFullWidth()&&t.setupFullWidth(a),i.isRowDragEntireRow()&&t.addRowDraggerToRow(a),t.useAnimationFrameForCreate&&t.beans.animationFrameService.addDestroyTask(function(){!t.isAlive()||a.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},e.prototype.addRowDraggerToRow=function(t){var i=this.beans.gridOptionsWrapper;if(i.isEnableRangeSelection()){mt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var n=i.getLocaleTextFunc(),o=new Qf(function(){return"1 "+n("rowDragRow","row")},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(o,this.beans.context)},e.prototype.setupFullWidth=function(t){var i=this.getPinnedForContainer(t.containerType),n=this.createFullWidthParams(t.element,i),o=et.isRegistered(Xe.MasterDetailModule);if(this.rowType==Nn.FullWidthDetail&&!o){et.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+Xe.MasterDetailModule);return}var s;switch(this.rowType){case Nn.FullWidthDetail:s=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case Nn.FullWidthGroup:s=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case Nn.FullWidthLoading:s=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:s=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n);break}t.rowComp.showFullWidth(s)},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getCellElement=function(t){var i=this.getCellCtrl(t);return i?i.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();if(!!t){var i={eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}},e.prototype.setRowType=function(){var t=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(o);t?this.rowType=Nn.FullWidthLoading:n?this.rowType=Nn.FullWidthDetail:i?this.rowType=Nn.FullWidth:a?this.rowType=Nn.FullWidthGroup:this.rowType=Nn.Normal},e.prototype.updateColumnLists=function(t){var i=this;if(t===void 0&&(t=!1),!this.isFullWidth()){var n=t||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout;if(n){this.updateColumnListsImpl();return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!i.active||i.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,i,n){var o=this;n===void 0&&(n=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return i.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new Xa(l,o.rowNode,o.beans,o)),a(u,c)}),t.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,n);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},e.prototype.updateColumnListsImpl=function(){var t=this;this.updateColumnListsPending=!1;var i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var o=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,k.PINNED_LEFT);var s=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,k.PINNED_RIGHT)}this.allRowGuis.forEach(function(a){var l=a.containerType===Yn.LEFT?t.leftCellCtrls:a.containerType===Yn.RIGHT?t.rightCellCtrls:t.centerCellCtrls;a.rowComp.setCellCtrls(l.list)})},e.prototype.isCellEligibleToBeRemoved=function(t,i){var n=!0,o=!1,s=t.getColumn();if(s.getPinned()!=i)return n;var a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=a||l;if(u){var c=t.getColumn(),h=this.beans.columnModel.getAllDisplayedColumns(),d=h.indexOf(c)>=0;return d?o:n}return n},e.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var i=fe(this.rowNode.oldRowTop);this.slideRowIn=i,this.fadeRowIn=!i}else this.slideRowIn=!1,this.fadeRowIn=!1},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==Nn.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,i=function(u,c){if(!u)return!0;var h=u.rowComp.getFullWidthCellRenderer();if(!h||!h.refresh)return!1;var d=t.createFullWidthParams(u.element,c),p=h.refresh(d);return p},n=i(this.fullWidthGui,null),o=i(this.centerGui,null),s=i(this.leftGui,k.PINNED_LEFT),a=i(this.rightGui,k.PINNED_RIGHT),l=n&&o&&s&&a;return l},e.prototype.addListeners=function(){this.addManagedListener(this.rowNode,pt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,pt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,A.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,A.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,A.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,A.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,A.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,A.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,pt.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,pt.EVENT_CELL_CHANGED,function(i){t.getAllCellCtrls().forEach(function(n){return n.onCellChanged(i)})})},e.prototype.onRowNodeDataChanged=function(t){this.getAllCellCtrls().forEach(function(i){return i.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(i){var n=t===ns.Above,o=t===ns.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),Jn(n.element,t&&i)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},e.prototype.getRowPosition=function(){return{rowPinned:Zs(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var i=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),n=i?i.element:null,o=n===t.target;if(!!o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||So(t))){var i=this.allRowGuis.find(function(a){return a.element.contains(t.target)}),n=i?i.element:null,o=n===t.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var i,n=this.rowNode,o=this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)===null||i===void 0?void 0:i.element;!s||(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,i){var n={list:[],map:{}};return t.list.forEach(function(o){o!==i&&(n.list.push(o),n.map[o.getInstanceId()]=o)}),n},e.prototype.onMouseEvent=function(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}},e.prototype.createRowEvent=function(t,i){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:i}},e.prototype.createRowEventWithSource=function(t,i){var n=this.createRowEvent(t,i);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!So(t)){var i=this.createRowEventWithSource(A.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(i)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Ya(t.target,"ag-row-drag",3),!!this.isFullWidth()){var i=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var i=So(t)||this.lastMouseDownOnDragger;if(!i){var n=this.createRowEventWithSource(A.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(n);var o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var l=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),u=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t});else{var c=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:s,event:t})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var i=this;if(this.rowType===Nn.FullWidthDetail&&!!this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var s=t.clientHeight;if(s!=null&&s>0){var a=function(){i.rowNode.setRowHeight(s),i.beans.clientSideRowModel?i.beans.clientSideRowModel.onRowHeightChanged():i.beans.serverSideRowModel&&i.beans.serverSideRowModel.onRowHeightChanged()};i.beans.frameworkOverrides.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(o),n()}},e.prototype.createFullWidthParams=function(t,i){var n=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return n.addFullWidthRowDragging(s,a,l,u)}};return o},e.prototype.addFullWidthRowDragging=function(t,i,n,o){if(n===void 0&&(n=""),!!this.isFullWidth()){var s=new Qf(function(){return n},this.rowNode,void 0,t,i,o);this.createManagedBean(s,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var i="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(i,!0),o.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-last",i)}))},e.prototype.stopEditing=function(t){var i,n;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=HK(o),u=l.next();!u.done;u=l.next()){var c=u.value,h=c.stopEditing(t);s&&!t&&!a&&h&&(a=!0)}}catch(p){i={error:p}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}if(a){var d=this.createRowEvent(A.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(d)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var i=t?this.createRowEvent(A.EVENT_ROW_EDITING_STARTED):this.createRowEvent(A.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)},e.prototype.startRowEditing=function(t,i,n,o){if(t===void 0&&(t=null),i===void 0&&(i=null),n===void 0&&(n=null),o===void 0&&(o=null),!this.editingRow){var s=this.getAllCellCtrls().reduce(function(a,l){var u=l===n;return u?l.startEditing(t,i,u,o):l.startEditing(null,null,u,o),a?!0:l.isEditing()},!1);s&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){var t=VK(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(function(n){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(n,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(i){t.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(i,!0)})},function(i){t.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(i,!1)})})},e.prototype.setStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(i){return i.rowComp.setUserStyles(t)})},e.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if(typeof t=="function")return t(this.rowNode)},e.prototype.getPinnedForContainer=function(t){var i=t===Yn.LEFT?k.PINNED_LEFT:t===Yn.RIGHT?k.PINNED_RIGHT:null;return i},e.prototype.getInitialRowClasses=function(t){var i=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var i=this.beans.gridOptionsWrapper.getRowStyleFunc(),n;if(i){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=i(o)}return Object.assign({},t,n)},e.prototype.onRowSelected=function(){var t=this,i=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-selected",i),Bu(n.element,i?!0:void 0);var o=t.createAriaLabel();gl(n.element,o==null?"":o)})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!(t&&this.beans.gridOptionsWrapper.isSuppressRowDeselection())){var i=this.beans.gridOptionsWrapper.getLocaleTextFunc(),n=i(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.");return n}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var i=this;!this.active||(this.addManagedListener(t,"mouseenter",function(){return i.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return i.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,pt.EVENT_MOUSE_ENTER,function(){i.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||t.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,pt.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover")}))},e.prototype.roundRowTopToBounds=function(t){var i=this.beans.ctrlsService.getGridBodyCtrl(),n=i.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(n.top,!0)-100,s=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(o,t),s)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.onRowHeightChanged=function(){if(this.rowNode.rowHeight!=null){var t=this.rowNode.rowHeight,i=this.beans.gridOptionsWrapper.getDefaultRowHeight(),n=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),o=n?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,s=o?Math.min(i,o)-2+"px":void 0;this.allRowGuis.forEach(function(a){a.element.style.height=t+"px",s&&a.element.style.setProperty("--ag-line-height",s)})}},e.prototype.addEventListener=function(t,i){(t==="renderedRowRemoved"||t==="rowRemoved")&&(t=A.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+A.EVENT_VIRTUAL_ROW_REMOVED)),r.prototype.addEventListener.call(this,t,i)},e.prototype.removeEventListener=function(t,i){(t==="renderedRowRemoved"||t==="rowRemoved")&&(t=A.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+A.EVENT_VIRTUAL_ROW_REMOVED)),r.prototype.removeEventListener.call(this,t,i)},e.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var t=this.createRowEvent(A.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),r.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var t=this.rowNode.rowTop!=null;if(t){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(i){return i.list.forEach(function(n){return n.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(){var t=this;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)})},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,i){if(i===void 0&&(i=!1),this.rowNode.isRowPinned())return t;var n=this.beans.paginationProxy.getPixelOffset(),o=i?1:-1;return t+n*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&fe(t)){var i=this.applyPaginationOffset(t),n=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i),o=n+"px";this.setRowTopStyle(o)}},e.prototype.getInitialRowTop=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowTransform();return t?this.getInitialRowTopShared():void 0},e.prototype.getInitialTransform=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowTransform();return t?void 0:"translateY("+this.getInitialRowTopShared()+")"},e.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{var i=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(i);t=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return t+"px"},e.prototype.setRowTopStyle=function(t){var i=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(n){return i?n.rowComp.setTop(t):n.rowComp.setTransform("translateY("+t+")")})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var i=null;return this.getAllCellCtrls().forEach(function(n){n.getColumn()==t&&(i=n)}),i!=null||this.getAllCellCtrls().forEach(function(n){n.getColSpanningList().indexOf(t)>=0&&(i=n)}),i},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.updateRowIndexes=function(){var t=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,o=i+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(s){s.rowComp.setRowIndex(t),s.rowComp.addOrRemoveCssClass("ag-row-even",n),s.rowComp.addOrRemoveCssClass("ag-row-odd",!n),yw(s.element,o)})},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$n=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},UK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},zK=function(r){BK(e,r);function e(t){var i=r.call(this)||this;return i.element=t,i}return e.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},e.prototype.addKeyboardEvents=function(){var t=this,i=["keydown","keypress"];i.forEach(function(n){var o=t.processKeyboardEvent.bind(t,n);t.addManagedListener(t.element,n,o)})},e.prototype.addMouseListeners=function(){var t=this,i=QC("touchstart")?"touchstart":"mousedown",n=["dblclick","contextmenu","mouseover","mouseout","click",i];n.forEach(function(o){var s=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,s)})},e.prototype.processMouseEvent=function(t,i){if(!(!this.mouseEventService.isEventFromThisGrid(i)||So(i))){var n=this.getRowForEvent(i),o=this.mouseEventService.getRenderedCellForEvent(i);t==="contextmenu"?this.handleContextMenuMouseEvent(i,null,n,o):(o&&o.onMouseEvent(t,i),n&&n.onMouseEvent(t,i))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(!!ua()){var i=new Qn(this.element),n=function(o){var s=t.getRowForEvent(o.touchEvent),a=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(i,Qn.EVENT_LONG_TAP,n),this.addDestroyFunc(function(){return i.destroy()})}},e.prototype.getRowForEvent=function(t){for(var i=t.target;i;){var n=this.gridOptionsWrapper.getDomData(i,qa.DOM_DATA_KEY_ROW_CTRL);if(n)return n;i=i.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,i,n,o){var s=n?n.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=t||i;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),h=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,i,s,a,l,h)},e.prototype.processKeyboardEvent=function(t,i){var n=Uf(this.gridOptionsWrapper,i,Xa.DOM_DATA_KEY_CELL_CTRL),o=Uf(this.gridOptionsWrapper,i,qa.DOM_DATA_KEY_ROW_CTRL);i.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,i):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,t,i))},e.prototype.processCellKeyboardEvent=function(t,i,n){var o=t.getRowNode(),s=t.getColumn(),a=t.isEditing(),l=!Xf(this.gridOptionsWrapper,n,o,s,a);if(l)switch(i){case"keydown":var u=!a&&this.navigationService.handlePageScrollingKey(n);u||t.onKeyDown(n),this.doGridOperations(n,t.isEditing());break;case"keypress":t.onKeyPress(n);break}if(i==="keydown"){var c=t.createEvent(n,A.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}if(i==="keypress"){var h=t.createEvent(n,A.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(h)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,i,n){var o=t.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!Xf(this.gridOptionsWrapper,n,o,a,!1);if(l){var u=n.key;if(i==="keydown")switch(u){case de.UP:case de.DOWN:t.onKeyboardNavigate(n);break;case de.TAB:t.onTabKeyDown(n)}}if(i==="keydown"){var c=t.createRowEvent(A.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(c)}if(i==="keypress"){var h=t.createRowEvent(A.EVENT_CELL_KEY_PRESS,n);this.eventService.dispatchEvent(h)}},e.prototype.doGridOperations=function(t,i){if(!(!t.ctrlKey&&!t.metaKey)&&!i&&!!this.mouseEventService.isEventFromThisGrid(t)){var n=IP(t);if(n===de.A)return this.onCtrlAndA(t);if(n===de.C)return this.onCtrlAndC(t);if(n===de.V)return this.onCtrlAndV();if(n===de.D)return this.onCtrlAndD(t);if(n===de.Z)return this.onCtrlAndZ(t);if(n===de.Y)return this.onCtrlAndY()}},e.prototype.onCtrlAndA=function(t){var i=this,n=i.pinnedRowModel,o=i.paginationProxy,s=i.rangeService,a=k.PINNED_BOTTOM,l=k.PINNED_TOP;if(s&&o.isRowsToRender()){var u=UK([n.isEmpty(l),n.isEmpty(a)],2),c=u[0],h=u[1],d=c?null:l,p=void 0,f=void 0;h?(p=null,f=this.paginationProxy.getRowCount()-1):(p=a,f=n.getPinnedBottomRowData().length-1);var m=this.columnModel.getAllDisplayedColumns();if(Xn(m))return;s.setCellRange({rowStartIndex:0,rowStartPinned:d,rowEndIndex:f,rowEndPinned:p,columnStart:m[0],columnEnd:Ut(m)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),t.preventDefault())},e.prototype.onCtrlAndV=function(){et.isRegistered(Xe.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){et.isRegistered(Xe.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){!this.gridOptionsWrapper.isUndoRedoCellEditing()||(t.preventDefault(),t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo())},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo()},$n([M("mouseEventService")],e.prototype,"mouseEventService",void 0),$n([M("valueService")],e.prototype,"valueService",void 0),$n([It("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),$n([M("ctrlsService")],e.prototype,"ctrlsService",void 0),$n([M("navigationService")],e.prototype,"navigationService",void 0),$n([M("focusService")],e.prototype,"focusService",void 0),$n([M("undoRedoService")],e.prototype,"undoRedoService",void 0),$n([M("columnModel")],e.prototype,"columnModel",void 0),$n([M("paginationProxy")],e.prototype,"paginationProxy",void 0),$n([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),$n([It("rangeService")],e.prototype,"rangeService",void 0),$n([It("clipboardService")],e.prototype,"clipboardService",void 0),$n([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var jK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ep=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$K=function(r){jK(e,r);function e(t){var i=r.call(this)||this;return i.centerContainerCtrl=t,i}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,A.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,i=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(i),this.gridBodyCtrl.registerBodyViewportResizeListener(i)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),i=ld(t);if(this.bodyHeight!==i){this.bodyHeight=i;var n={type:A.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(n)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t),this.gridBodyCtrl.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return t||this.centerContainerCtrl.isViewportHScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,i)},Ep([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Ep([M("columnModel")],e.prototype,"columnModel",void 0),Ep([M("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ep([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var YK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),tR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},KK=function(r){YK(e,r);function e(t){var i=r.call(this)||this;return i.element=t,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),i=t>0;qt(this.element,i),i&&Mo(this.element,t)},tR([M("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),tR([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),iR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qK=function(r){XK(e,r);function e(t){var i=r.call(this)||this;return i.element=t,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),i=t>0;qt(this.element,i),i&&Mo(this.element,t)},iR([M("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),iR([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ZK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},JK=function(r){ZK(e,r);function e(t,i){var n=r.call(this)||this;return n.eContainer=t,n.eWrapper=i,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),i=t!=null?t+"px":"";this.eContainer.style.height=i,this.eWrapper&&(this.eWrapper.style.height=i)},nR([M("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),nR([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var QK=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Iv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eX=function(r){QK(e,r);function e(t){var i=r.call(this)||this;return i.eContainer=t,i}return e.prototype.postConstruct=function(){var t=this;if(!(!this.gridOptionsWrapper.isEnableRangeSelection()||Ue(this.rangeService))){var i={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(i),this.addDestroyFunc(function(){return t.dragService.removeDragSource(i)})}},Iv([It("rangeService")],e.prototype,"rangeService",void 0),Iv([M("dragService")],e.prototype,"dragService",void 0),Iv([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var tX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Pw=function(r){tX(e,r);function e(t){var i=r.call(this)||this;return i.callback=t,i}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,t),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,i=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT,n=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),a=i?n+o+s:n;this.callback(a)},rR([M("columnModel")],e.prototype,"columnModel",void 0),rR([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sa=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nX=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},rX=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(nX(arguments[e]));return r},re;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"})(re||(re={}));var Yn;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"})(Yn||(Yn={}));function oX(r){switch(r){case re.CENTER:case re.TOP_CENTER:case re.STICKY_TOP_CENTER:case re.BOTTOM_CENTER:return Yn.CENTER;case re.LEFT:case re.TOP_LEFT:case re.STICKY_TOP_LEFT:case re.BOTTOM_LEFT:return Yn.LEFT;case re.RIGHT:case re.TOP_RIGHT:case re.STICKY_TOP_RIGHT:case re.BOTTOM_RIGHT:return Yn.RIGHT;case re.FULL_WIDTH:case re.TOP_FULL_WIDTH:case re.STICKY_TOP_FULL_WIDTH:case re.BOTTOM_FULL_WIDTH:return Yn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var sX=qo([[re.CENTER,"ag-center-cols-container"],[re.LEFT,"ag-pinned-left-cols-container"],[re.RIGHT,"ag-pinned-right-cols-container"],[re.FULL_WIDTH,"ag-full-width-container"],[re.TOP_CENTER,"ag-floating-top-container"],[re.TOP_LEFT,"ag-pinned-left-floating-top"],[re.TOP_RIGHT,"ag-pinned-right-floating-top"],[re.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[re.STICKY_TOP_CENTER,"ag-sticky-top-container"],[re.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[re.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[re.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[re.BOTTOM_CENTER,"ag-floating-bottom-container"],[re.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[re.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[re.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),aX=qo([[re.CENTER,"ag-center-cols-viewport"],[re.TOP_CENTER,"ag-floating-top-viewport"],[re.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[re.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),lX=qo([[re.CENTER,"ag-center-cols-clipper"]]),b_=function(r){iX(e,r);function e(t){var i=r.call(this)||this;return i.name=t,i}return e.getRowContainerCssClasses=function(t){var i=sX.get(t),n=aX.get(t),o=lX.get(t);return{container:i,viewport:n,wrapper:o}},e.getPinned=function(t){switch(t){case re.BOTTOM_LEFT:case re.TOP_LEFT:case re.STICKY_TOP_LEFT:case re.LEFT:return k.PINNED_LEFT;case re.BOTTOM_RIGHT:case re.TOP_RIGHT:case re.STICKY_TOP_RIGHT:case re.RIGHT:return k.PINNED_RIGHT;default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([re.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new $K(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case re.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case re.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case re.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case re.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case re.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case re.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case re.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case re.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case re.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case re.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case re.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case re.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,i){t.indexOf(this.name)>=0&&i()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,i,n,o){var s=this;this.comp=t,this.eContainer=i,this.eViewport=n,this.eWrapper=o,this.createManagedBean(new zK(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[re.TOP_CENTER,re.TOP_LEFT,re.TOP_RIGHT],l=[re.STICKY_TOP_CENTER,re.STICKY_TOP_LEFT,re.STICKY_TOP_RIGHT],u=[re.BOTTOM_CENTER,re.BOTTOM_LEFT,re.BOTTOM_RIGHT],c=[re.CENTER,re.LEFT,re.RIGHT],h=rX(a,u,c,l),d=[re.CENTER,re.LEFT,re.RIGHT,re.FULL_WIDTH],p=[re.CENTER,re.TOP_CENTER,re.STICKY_TOP_CENTER,re.BOTTOM_CENTER],f=[re.LEFT,re.BOTTOM_LEFT,re.TOP_LEFT,re.STICKY_TOP_LEFT],m=[re.RIGHT,re.BOTTOM_RIGHT,re.TOP_RIGHT,re.STICKY_TOP_RIGHT];this.forContainers(f,function(){return s.createManagedBean(new KK(s.eContainer))}),this.forContainers(m,function(){return s.createManagedBean(new qK(s.eContainer))}),this.forContainers(d,function(){return s.createManagedBean(new JK(s.eContainer,s.eWrapper))}),this.forContainers(h,function(){return s.createManagedBean(new eX(s.eContainer))}),this.forContainers(p,function(){return s.createManagedBean(new Pw(function(g){return s.comp.setContainerWidth(g+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return t.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_ROWS_CHANGED,function(){return t.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,i=[re.STICKY_TOP_CENTER,re.STICKY_TOP_LEFT,re.STICKY_TOP_RIGHT,re.STICKY_TOP_FULL_WIDTH],n=i.indexOf(this.name)>=0;if(n){this.comp.setDomOrder(!0);return}var o=function(){return t.comp.setDomOrder(t.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([re.TOP_CENTER,re.STICKY_TOP_CENTER,re.BOTTOM_CENTER],function(){var i=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",i)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([re.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([re.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onScrollVisibilityChanged=function(){if(this.name===re.CENTER){var t=this.scrollVisibleService.isHorizontalScrollShowing(),i=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,n=i==0?"100%":"calc(100% + "+i+"px)";this.comp.setViewportHeight(n)}},e.prototype.addPreventScrollWhileDragging=function(){var t=this,i=function(n){t.dragService.isDragging()&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",i,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",i)})},e.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,i)},e.prototype.getCenterWidth=function(){return Yg(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return Gh(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var i=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return i()})},e.prototype.isViewportVisible=function(){return oc(this.eViewport)},e.prototype.isViewportHScrollShowing=function(){return y_(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return Gh(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return t||y_(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){Kf(this.eViewport,t,this.enableRtl)},e.prototype.onDisplayedRowsChanged=function(){var t=this,i=this.name===re.TOP_FULL_WIDTH||this.name===re.STICKY_TOP_FULL_WIDTH||this.name===re.BOTTOM_FULL_WIDTH||this.name===re.FULL_WIDTH,n=function(a){var l=a.isFullWidth(),u=t.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT,c=t.embedFullWidthRows||u,h=i?!c&&l:c||!l;return h},o=this.getRowCtrls(),s=o.filter(n);this.comp.setRowCtrls(s)},e.prototype.getRowCtrls=function(){switch(this.name){case re.TOP_CENTER:case re.TOP_LEFT:case re.TOP_RIGHT:case re.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case re.STICKY_TOP_CENTER:case re.STICKY_TOP_LEFT:case re.STICKY_TOP_RIGHT:case re.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case re.BOTTOM_CENTER:case re.BOTTOM_LEFT:case re.BOTTOM_RIGHT:case re.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Sa([M("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Sa([M("dragService")],e.prototype,"dragService",void 0),Sa([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Sa([M("columnModel")],e.prototype,"columnModel",void 0),Sa([M("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Sa([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Sa([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Rs=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cX=`<div class="ag-root ag-unselectable" role="grid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+re.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+re.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+re.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+re.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
            <ag-row-container ref="leftContainer" name="`+re.LEFT+`"></ag-row-container>
            <ag-row-container ref="centerContainer" name="`+re.CENTER+`"></ag-row-container>
            <ag-row-container ref="rightContainer" name="`+re.RIGHT+`"></ag-row-container>
            <ag-row-container ref="fullWidthContainer" name="`+re.FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`+re.STICKY_TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`+re.STICKY_TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`+re.STICKY_TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`+re.STICKY_TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+re.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+re.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+re.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+re.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,hX=function(r){uX(e,r);function e(){return r.call(this,cX)||this}return e.prototype.init=function(){var t=this,i=function(o,s){var a=o+"px";s.style.minHeight=a,s.style.height=a},n={setRowAnimationCssOnBodyViewport:function(o,s){return t.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return RP(t.getGui(),o)},setRowCount:function(o){return xP(t.getGui(),o)},setTopHeight:function(o){return i(o,t.eTop)},setBottomHeight:function(o){return i(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return t.addOrRemoveCssClass(KP,s)},updateLayoutClasses:function(o,s){var a=t.eBodyViewport.classList;a.toggle(Ai.AUTO_HEIGHT,s.autoHeight),a.toggle(Ai.NORMAL,s.normal),a.toggle(Ai.PRINT,s.print),t.addOrRemoveCssClass(Ai.AUTO_HEIGHT,s.autoHeight),t.addOrRemoveCssClass(Ai.NORMAL,s.normal),t.addOrRemoveCssClass(Ai.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return t.eBodyViewport.classList.toggle(YP,s)},registerBodyViewportResizeListener:function(o){var s=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(a){return a.classList.toggle($P,s)})}};this.ctrl=this.createManagedBean(new nK),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&EP(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,i){var n=this.eBodyViewport.classList;n.toggle(ju.ANIMATION_ON,i),n.toggle(ju.ANIMATION_OFF,!i)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Rs([M("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Rs([It("rangeService")],e.prototype,"rangeService",void 0),Rs([pe("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Rs([pe("eStickyTop")],e.prototype,"eStickyTop",void 0),Rs([pe("eTop")],e.prototype,"eTop",void 0),Rs([pe("eBottom")],e.prototype,"eBottom",void 0),Rs([pe("gridHeader")],e.prototype,"headerRootComp",void 0),Rs([we],e.prototype,"init",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var dX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pX=function(r){dX(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(!!t){var i={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}},e.prototype.setScrollsVisible=function(t){var i=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(i){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var n={type:A.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(n)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Lv([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Lv([we],e.prototype,"postConstruct",null),e=Lv([Ie("scrollVisibleService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gX=function(r){fX(e,r);function e(){var i=r!==null&&r.apply(this,arguments)||this;return i.gridInstanceId=t.gridInstanceSequence.next(),i}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(i){i[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(i){return Uf(this.gridOptionsWrapper,i,Xa.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(i){var n=this.isElementInThisGrid(i.target);return n},e.prototype.isElementInThisGrid=function(i){for(var n=i;n;){var o=n[t.GRID_DOM_KEY];if(fe(o)){var s=o===this.gridInstanceId;return s}n=n.parentElement}return!1},e.prototype.getCellPositionForEvent=function(i){var n=this.getRenderedCellForEvent(i);return n?n.getCellPosition():null},e.prototype.getNormalisedPosition=function(i){var n=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_NORMAL,o=i,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),n){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var t;return e.gridInstanceSequence=new Uu,e.GRID_DOM_KEY="__ag_grid_instance",oR([M("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=oR([Ie("mouseEventService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var mX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rg=function(){return rg=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},rg.apply(this,arguments)},An=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vX=function(r){mX(e,r);function e(){var t=r.call(this)||this;return t.onPageDown=a_(t.onPageDown,100),t.onPageUp=a_(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.gridBodyCon=i.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t){var i=t.key,n=t.altKey,o=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,a=this.mouseEventService.getCellPositionForEvent(t);if(!a)return!1;var l=!1;switch(i){case de.PAGE_HOME:case de.PAGE_END:!o&&!n&&(this.onHomeOrEndKey(i),l=!0);break;case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:o&&!n&&!s&&(this.onCtrlUpDownLeftRight(i,a),l=!0);break;case de.PAGE_DOWN:!o&&!n&&(this.onPageDown(a),l=!0);break;case de.PAGE_UP:!o&&!n&&(this.onPageUp(a),l=!0);break}return l&&t.preventDefault(),l},e.prototype.navigateTo=function(t){var i=t.scrollIndex,n=t.scrollType,o=t.scrollColumn,s=t.focusIndex,a=t.focusColumn;if(fe(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),fe(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var i=this.ctrlsService.getGridBodyCtrl(),n=i.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=n.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var i=this.ctrlsService.getGridBodyCtrl(),n=i.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=n.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a,!0):this.navigateToNextPage(t,a,!0)},e.prototype.navigateToNextPage=function(t,i,n){n===void 0&&(n=!1);var o,s,a=this.getViewportHeight(),l=this.paginationProxy.getPageFirstRow(),u=this.paginationProxy.getPageLastRow(),c=this.paginationProxy.getPixelOffset(),h=this.paginationProxy.getRow(t.rowIndex),d=n?((o=h)===null||o===void 0?void 0:o.rowHeight)-a-c:a-c,p=((s=h)===null||s===void 0?void 0:s.rowTop)+d,f=this.paginationProxy.getRowIndexAtPixel(p+c);if(f===t.rowIndex){var m=n?-1:1;i=f=t.rowIndex+m}var g;n?(g="bottom",f<l&&(f=l),i<l&&(i=l)):(g="top",f>u&&(f=u),i>u&&(i=u)),this.isRowTallerThanView(f)&&(i=f,g="top"),this.navigateTo({scrollIndex:i,scrollType:g,scrollColumn:null,focusIndex:f,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,i,n){var o=this;n===void 0&&(n=!1),this.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:t.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(t,n);o.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,i){i===void 0&&(i=!1);for(var n,o=i?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var h=(n=c.rowHeight,n!=null?n:0);if(l+h>s)break;l+=h}u+=o}return Math.max(0,Math.min(u,a))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getScrollFeature().getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),o=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=n),o},e.prototype.isRowTallerThanView=function(t){var i=this.paginationProxy.getRow(t);if(!i)return!1;var n=i.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,i){var n=this.cellNavigationService.getNextCellToFocus(t,i,!0),o=n.rowIndex,s=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},e.prototype.onHomeOrEndKey=function(t){var i=t===de.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),o=i?n[0]:Ut(n),s=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},e.prototype.onTabKeyDown=function(t,i){var n=i.shiftKey,o=this.tabToNextCellCommon(t,n,i);if(o){i.preventDefault();return}if(n){var s=t.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(i.preventDefault(),this.focusService.focusLastHeader(i))}else t instanceof Xa&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&i.preventDefault()},e.prototype.tabToNextCell=function(t,i){var n=this.focusService.getFocusedCell();if(!n)return!1;var o=this.getCellByPosition(n);return!o&&(o=this.rowRenderer.getRowByPosition(n),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,i)},e.prototype.tabToNextCellCommon=function(t,i,n){var o=t.isEditing();if(!o&&t instanceof Xa){var s=t,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsWrapper.isFullRowEdit()?l=this.moveToNextEditingRow(t,i,n):l=this.moveToNextEditingCell(t,i,n):l=this.moveToNextCellNotEditing(t,i),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,i,n){n===void 0&&(n=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var s=this.findNextCellToFocusOn(o,i,!0);return s==null?!1:(s.startEditing(null,null,!0,n),s.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,i,n){n===void 0&&(n=null);var o=t.getCellPosition(),s=this.findNextCellToFocusOn(o,i,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var h=t.getRowCtrl();h.stopEditing();var d=s.getRowCtrl();d.startRowEditing(void 0,void 0,void 0,n)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,i){var n=this.columnModel.getAllDisplayedColumns(),o;t instanceof qa?o=rg(rg({},t.getRowPosition()),{column:i?n[0]:Ut(n)}):o=t.getCellPosition();var s=this.findNextCellToFocusOn(o,i,!1);if(s instanceof Xa)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),i);return fe(s)},e.prototype.findNextCellToFocusOn=function(t,i,n){for(var o=t;;){t!==o&&(t=o),i||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,i);var s=this.gridOptionsWrapper.getTabToNextCellFunc();if(fe(s)){var a={backwards:i,editing:n,previousCellPosition:t,nextCellPosition:o||null},l=s(a);fe(l)?(l.floating&&(mt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column}}),null}var c=this.gridOptionsWrapper.isFullRowEdit();if(n&&!c){var h=this.isCellEditable(o);if(!h)continue}this.ensureCellVisible(o);var d=this.getCellByPosition(o);if(!d){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth())continue;return p}if(!d.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),d}},e.prototype.isCellEditable=function(t){var i=this.lookupRowNodeForCell(t);return i?t.column.isCellEditable(i):!1},e.prototype.getCellByPosition=function(t){var i=this.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===k.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===k.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,i,n,o){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsWrapper.isEnableRtl()?i===de.LEFT&&(s=this.getLastCellOfColSpan(s)):i===de.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(i,s),a=Ue(s);if(a&&t&&t.key===de.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),o){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(fe(l)){var u={key:i,previousCellPosition:n,nextCellPosition:s||null,event:t},c=l(u);fe(c)?(c.floating&&(mt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(!!s){if(s.rowIndex<0){var h=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:h+s.rowIndex,column:n.column},event:t||void 0});return}var d=this.getNormalisedPosition(s);d?this.focusPosition(d):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var i=this.getCellByPosition(t);return i?(t=i.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,i){i===void 0&&(i=!1);var n=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(i?Ut(n):n[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:A.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var i=this.rowPositionUtils.getRowNode(t);return!!i},e.prototype.getLastCellOfColSpan=function(t){var i=this.getCellByPosition(t);if(!i)return t;var n=i.getColSpanningList();return n.length===1?t:{rowIndex:t.rowIndex,column:Ut(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var i,n=this.gridOptionsWrapper.isGroupRowsSticky(),o=this.rowModel.getRow(t.rowIndex),s=n&&((i=o)===null||i===void 0?void 0:i.sticky);!s&&Ue(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},An([M("mouseEventService")],e.prototype,"mouseEventService",void 0),An([M("paginationProxy")],e.prototype,"paginationProxy",void 0),An([M("focusService")],e.prototype,"focusService",void 0),An([It("rangeService")],e.prototype,"rangeService",void 0),An([M("columnModel")],e.prototype,"columnModel",void 0),An([M("rowModel")],e.prototype,"rowModel",void 0),An([M("ctrlsService")],e.prototype,"ctrlsService",void 0),An([M("rowRenderer")],e.prototype,"rowRenderer",void 0),An([M("headerNavigationService")],e.prototype,"headerNavigationService",void 0),An([M("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),An([M("cellNavigationService")],e.prototype,"cellNavigationService",void 0),An([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),An([we],e.prototype,"postConstruct",null),e=An([Ie("navigationService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_X=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},CX=function(r){yX(e,r);function e(t){var i=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=t,i}return e.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,i=this.getGui(),n=this.params,o=function(s){Xf(t.gridOptionsWrapper,s,n.node,n.column,!0)||n.onKeyDown(s)};this.addManagedListener(i,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",_X([we],e.prototype,"postConstruct",null),e}(hd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var wX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SX=function(r){wX(e,r);function e(t,i,n,o,s){var a=r.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=i.getColumn(),a.rowNode=i.getRowNode(),a.rowCtrl=i.getRowCtrl(),a.eRow=o,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var l=a.getGui();a.forceWrapper=i.isForceWrapper(),a.refreshWrapper(!1);var u=function(h,d,p){var f=p||l;d!=null&&d!=""?f.setAttribute(h,d):f.removeAttribute(h)},c={addOrRemoveCssClass:function(h,d){return a.addOrRemoveCssClass(h,d)},setUserStyles:function(h){return uw(l,h)},getFocusableElement:function(){return a.getFocusableElement()},setTabIndex:function(h){return u("tabindex",h.toString())},setRole:function(h){return yn(l,h)},setColId:function(h){return u("col-id",h)},setTitle:function(h){return u("title",h)},setIncludeSelection:function(h){return a.includeSelection=h},setIncludeRowDrag:function(h){return a.includeRowDrag=h},setIncludeDndSource:function(h){return a.includeDndSource=h},setRenderDetails:function(h,d,p){return a.setRenderDetails(h,d,p)},setEditDetails:function(h,d,p){return a.setEditDetails(h,d,p)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return a.cellCtrl=i,i.setComp(c,a.getGui(),a.eCellWrapper,n,s),a}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,i,n){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(t){var a=n||s,l=a?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(i)}},e.prototype.setEditDetails=function(t,i,n){t?this.createCellEditorInstance(t,i,n):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=i||this.forceWrapper,o=n&&this.eCellWrapper==null;o&&(this.eCellWrapper=ji('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!n&&this.eCellWrapper!=null;s&&(Va(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var a=!t&&n,l=a&&this.eCellValue==null;l&&(this.eCellValue=ji('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!a&&this.eCellValue!=null;u&&(Va(this.eCellValue),this.eCellValue=void 0);var c=o||s||l||u;return c&&this.removeControls(),!t&&i&&this.addControls(),c},e.prototype.addControls=function(){var t=this.eCellValue.id="cell-"+this.getCompId(),i=[];gw(this.eCellWrapper,!0),this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),i.push(this.checkboxSelectionComp.getCheckboxId())),i.push(t),pw(this.getGui(),i.join(" "))},e.prototype.createCellEditorInstance=function(t,i,n){var o=this,s=this.editorVersion,a=t.newAgStackInstance();if(!!a){var l=t.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,i,n)});var u=Ue(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var i=this.getParentOfValue();ir(i);var n=t!=null?bo(t):null;n!=null&&(i.innerHTML=n)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),Va(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Va(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var i=this.cellRenderer.refresh(t.params);return i===!0||i===void 0},e.prototype.createCellRendererInstance=function(t){var i=this,n=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),s=!n&&!o,a=this.rendererVersion,l=t.componentClass,u=function(){var c=i.rendererVersion!==a||!i.isAlive();if(!c){var h=t.newAgStackInstance(),d=i.afterCellRendererCreated.bind(i,a,l);h&&h.then(d)}};s&&this.firstRender?this.beans.animationFrameService.createTask(u,this.rowNode.rowIndex,"createTasksP2"):u()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,i,n){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(n);return}if(this.cellRenderer=n,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();ir(s),s.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,i,n,o,s){var a=t!==this.editorVersion;if(a){this.beans.context.destroyBean(i);return}var l=i.isCancelBeforeStart&&i.isCancelBeforeStart();if(l){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing();return}if(!i.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();var u=o||i.isPopup!==void 0&&i.isPopup();u?(o||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(n,s)):this.addInCellEditor(),i.afterGuiAttached&&i.afterGuiAttached()},e.prototype.addInCellEditor=function(){var t=this.getGui(),i=this.beans.gridOptionsWrapper.getDocument();if(t.contains(i.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var n=this.getParentOfValue();n.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,i){var n=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new CX(t));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),u=i!=null?i:o.getPopupPosition?o.getPopupPosition():"over",c={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:s,keepWithinBounds:!0},h=u==="under"?a.positionPopupUnderComponent.bind(a,c):a.positionPopupOverComponent.bind(a,c),d=this.beans.gridOptionsWrapper.getLocaleTextFunc(),p=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),i=this.beans.gridOptionsWrapper.getDocument();t.contains(i.activeElement)&&$g()&&t.focus({preventScroll:!0}),ir(this.getParentOfValue())},e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var EX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xX=function(r){EX(e,r);function e(t,i,n){var o=r.call(this)||this;o.cellComps={},o.beans=i,o.rowCtrl=t,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle()+'"/>');var s=o.getGui(),a=s.style,l={setDomOrder:function(u){return o.domOrder=u},setCellCtrls:function(u){return o.setCellCtrls(u)},showFullWidth:function(u){return o.showFullWidth(u)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(u,c){return o.addOrRemoveCssClass(u,c)},setUserStyles:function(u){return uw(s,u)},setTop:function(u){return a.top=u},setTransform:function(u){return a.transform=u},setRowIndex:function(u){return s.setAttribute("row-index",u)},setRole:function(u){return yn(s,u)},setRowId:function(u){return s.setAttribute("row-id",u)},setRowBusinessKey:function(u){return s.setAttribute("row-business-key",u)},setTabIndex:function(u){return s.setAttribute("tabindex",u.toString())}};return t.setComp(l,o.getGui(),n),o}return e.prototype.getInitialStyle=function(){var t=this.rowCtrl.getInitialTransform(),i=this.rowCtrl.getInitialRowTop();return t?"transform: "+t:"top: "+i},e.prototype.showFullWidth=function(t){var i=this,n=function(s){if(i.isAlive()){var a=s.getGui();i.getGui().appendChild(a),i.rowCtrl.setupDetailRowAutoHeight(a),i.setFullWidthRowComp(s)}else i.beans.context.destroyBean(s)},o=t.newAgStackInstance();!o||o.then(n)},e.prototype.setCellCtrls=function(t){var i=this,n=Object.assign({},this.cellComps);t.forEach(function(s){var a=s.getInstanceId(),l=i.cellComps[a];l==null?i.newCellComp(s):n[a]=null});var o=Yr(n).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var i=this;if(!!this.domOrder){var n=[];t.forEach(function(o){var s=i.cellComps[o.getInstanceId()];s&&n.push(s.getGui())}),lw(this.getGui(),n)}},e.prototype.newCellComp=function(t){var i=new SX(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=i,this.getGui().appendChild(i.getGui())},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=Yr(this.cellComps).filter(function(i){return i!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var i=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){i.fullWidthCellRenderer=i.beans.context.destroyBean(i.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var i=this;t.forEach(function(n){if(!!n){var o=n.getCtrl().getInstanceId();i.cellComps[o]===n&&(n.detach(),n.destroy(),i.cellComps[o]=null)}})},e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var RX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),M_=function(){return M_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},M_.apply(this,arguments)},Ul=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};function bX(){var r=ct.elementGettingCreated.getAttribute("name"),e=b_.getRowContainerCssClasses(r),t,i=r===re.CENTER,n=r===re.TOP_CENTER||r===re.STICKY_TOP_CENTER||r===re.BOTTOM_CENTER;return i?t='<div class="'+e.wrapper+`" ref="eWrapper" role="presentation">
                <div class="`+e.viewport+`" ref="eViewport" role="presentation">
                    <div class="`+e.container+`" ref="eContainer"></div>
                </div>
            </div>`:n?t='<div class="'+e.viewport+`" ref="eViewport" role="presentation">
                <div class="`+e.container+`" ref="eContainer"></div>
            </div>`:t='<div class="'+e.container+'" ref="eContainer"></div>',t}var MX=function(r){RX(e,r);function e(){var t=r.call(this,bX())||this;return t.rowComps={},t.name=ct.elementGettingCreated.getAttribute("name"),t.type=oX(t.name),t}return e.prototype.postConstruct=function(){var t=this,i={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){return t.setRowCtrls(o)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},n=this.createManagedBean(new b_(this.name));n.setComp(i,this.eContainer,this.eViewport,this.eWrapper)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var i=this,n=M_({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=n[a];if(l)i.rowComps[a]=l,delete n[a],i.ensureDomOrder(l.getGui());else{var u=i.newRowComp(s);i.rowComps[a]=u,i.appendRow(u.getGui())}};t.forEach(o),Yr(n).forEach(function(s){i.eContainer.removeChild(s.getGui()),s.destroy()}),yn(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?cP(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(aw(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},e.prototype.newRowComp=function(t){b_.getPinned(this.name);var i=new xX(t,this.beans,this.type);return i},Ul([M("beans")],e.prototype,"beans",void 0),Ul([pe("eViewport")],e.prototype,"eViewport",void 0),Ul([pe("eContainer")],e.prototype,"eContainer",void 0),Ul([pe("eWrapper")],e.prototype,"eWrapper",void 0),Ul([we],e.prototype,"postConstruct",null),Ul([nn],e.prototype,"preDestroy",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var sR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},TX=function(){function r(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return r.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var i=e.dragItem.columns;!i||i.forEach(function(n){!n.isPrimary()||n.isAnyFunctionActive()||(n.isAllowValue()?t.columnsToAggregate.push(n):n.isAllowRowGroup()?t.columnsToGroup.push(n):n.isAllowPivot()&&t.columnsToPivot.push(n))})}},r.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?en.ICON_PINNED:en.ICON_MOVE:null},r.prototype.onDragLeave=function(e){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(e){},r.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},sR([M("columnModel")],r.prototype,"columnModel",void 0),sR([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Oc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},PX=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},OX=function(){function r(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!fe(e)}return r.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?en.ICON_PINNED:en.ICON_MOVE},r.prototype.onDragEnter=function(e){var t=e.dragItem.columns,i=e.dragSource.type===Tn.ToolPanel;if(i)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var n=e.dragItem.visibleState,o=(t||[]).filter(function(s){return n[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},r.prototype.onDragLeave=function(e){this.ensureIntervalCleared()},r.prototype.setColumnsVisible=function(e,t,i){if(i===void 0&&(i="api"),e){var n=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(n,t,i)}},r.prototype.setColumnsPinned=function(e,t,i){if(i===void 0&&(i="api"),e){var n=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(n,t,i)}},r.prototype.onDragStop=function(){this.ensureIntervalCleared()},r.prototype.normaliseX=function(e){if(this.gridOptionsWrapper.isEnableRtl()){var t=this.eContainer.clientWidth;e=t-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},r.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(e,t,i){var n=this;if(t===void 0&&(t=!1),i===void 0&&(i=!1),this.lastDraggingEvent=e,!Ue(e.hDirection)){var o=this.normaliseX(e.x);t||this.checkCenterForScrolling(o);var s=this.normaliseDirection(e.hDirection),a=e.dragSource.type,l=e.dragSource.getDragItem().columns;l=l.filter(function(u){return u.getColDef().lockPinned?u.getPinned()==n.pinned:!0}),this.attemptMoveColumns(a,l,s,o,t,i)}},r.prototype.normaliseDirection=function(e){if(this.gridOptionsWrapper.isEnableRtl())switch(e){case co.Left:return co.Right;case co.Right:return co.Left;default:console.error("AG Grid: Unknown direction "+e)}else return e},r.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),i=BT(e.map(function(l){return t.indexOf(l)})),n=i[0],o=Ut(i),s=o-n,a=s!==i.length-1;return a?null:n},r.prototype.attemptMoveColumns=function(e,t,i,n,o,s){var a=i===co.Left,l=i===co.Right;if(e===Tn.HeaderCell){var u=[];t.forEach(function(R){for(var P=null,G=R.getParent();G!=null&&G.getDisplayedLeafColumns().length===1;)P=G,G=G.getParent();P!=null?P.getLeafColumns().forEach(function(q){u.includes(q)||u.push(q)}):u.includes(R)||u.push(R)}),t=u}var c=t.slice();this.columnModel.sortColumnsLikeGridColumns(c);var h=this.calculateValidMoves(c,l,n),d=this.calculateOldIndex(c);if(h.length!==0){var p=h[0],f=d!==null&&!o;if(e==Tn.HeaderCell&&(f=d!==null),!(f&&!s&&(a&&p>=d||l&&p<=d))){for(var m=this.columnModel.getAllDisplayedColumns(),g=[],y=null,C=0;C<h.length;C++){var w=h[C],S=this.columnModel.getProposedColumnOrder(c,w);if(!!this.columnModel.doesOrderPassRules(S)){var b=S.filter(function(R){return m.includes(R)});if(y===null)y=b;else if(!Ze.areEqual(b,y))break;var T=this.groupFragCount(S);g.push({move:w,fragCount:T})}}if(g.length!==0){g.sort(function(R,P){return R.fragCount-P.fragCount});var F=g[0].move;this.columnModel.moveColumns(c,F,"uiColumnDragged")}}}},r.prototype.groupFragCount=function(e){function t(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var i=0,n=function(s){var a,l=t(e[s]),u=t(e[s+1]);a=PX(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&i++})},o=0;o<e.length-1;o++)n(o);return i},r.prototype.calculateValidMoves=function(e,t,i){var n=this.gridOptionsWrapper.isSuppressMovableColumns()||e.some(function(F){return F.getColDef().suppressMovable});if(n)return[];var o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(function(F){return tr(e,F)}),l=o.filter(function(F){return!tr(e,F)}),u=s.filter(function(F){return!tr(e,F)}),c=0,h=i;if(t){var d=0;a.forEach(function(F){return d+=F.getActualWidth()}),h-=d}if(h>0){for(var p=0;p<l.length;p++){var f=l[p];if(h-=f.getActualWidth(),h<0)break;c++}t&&c++}var m;if(c>0){var g=l[c-1];m=u.indexOf(g)+1}else m=u.indexOf(l[0]),m===-1&&(m=0);var y=[m],C=function(F,R){return F-R};if(t){for(var w=m+1,S=s.length-1;w<=S;)y.push(w),w++;y.sort(C)}else{for(var w=m,S=s.length-1,b=s[w];w<=S&&this.isColumnHidden(o,b);)w++,y.push(w),b=s[w];w=m-1;for(var T=0;w>=T;)y.push(w),w--;y.sort(C).reverse()}return y},r.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(en.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(en.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(en.ICON_MOVE))},r.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns,o=n.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(en.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?k.PINNED_LEFT:k.PINNED_RIGHT;this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Oc([M("columnModel")],r.prototype,"columnModel",void 0),Oc([M("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Oc([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),Oc([M("ctrlsService")],r.prototype,"ctrlsService",void 0),Oc([we],r.prototype,"init",null),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ac=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},DX=function(r){AX(e,r);function e(t,i){var n=r.call(this)||this;return n.pinned=t,n.eContainer=i,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){switch(t.pinned){case k.PINNED_LEFT:t.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.leftRowContainerCtrl.getContainerElement()],[i.bottomLeftRowContainerCtrl.getContainerElement()],[i.topLeftRowContainerCtrl.getContainerElement()]];break;case k.PINNED_RIGHT:t.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.rightRowContainerCtrl.getContainerElement()],[i.bottomRightRowContainerCtrl.getContainerElement()],[i.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.centerRowContainerCtrl.getViewportElement()],[i.bottomCenterRowContainerCtrl.getViewportElement()],[i.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===Tn.HeaderCell||t===Tn.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new OX(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new TX(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Tn.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Ac([M("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ac([M("columnModel")],e.prototype,"columnModel",void 0),Ac([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Ac([we],e.prototype,"postConstruct",null),Ac([we],e.prototype,"init",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var IX=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},LX=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(IX(arguments[e]));return r},qP=function(){function r(){}return r.getHeaderClassesFromColDef=function(e,t,i,n){return Ue(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,n)},r.getToolPanelClassesFromColDef=function(e,t,i,n){return Ue(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,n)},r.getClassParams=function(e,t,i,n){return{colDef:e,column:i,columnGroup:n,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()}},r.getColumnClassesFromCollDef=function(e,t,i,n,o){if(Ue(e))return[];var s;if(typeof e=="function"){var a=this.getClassParams(t,i,n,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?LX(s):[]},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},NX=function(r){FX(e,r);function e(t){var i=r.call(this,e.TEMPLATE,t)||this;return i.headerCompVersion=0,i.column=t.getColumnGroupChild(),i.pinned=t.getPinned(),i}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),n=function(a,l,u){var c=u||i;l!=null&&l!=""?c.setAttribute(a,l):c.removeAttribute(a)},o={setWidth:function(a){return i.style.width=a},addOrRemoveCssClass:function(a,l){return t.addOrRemoveCssClass(a,l)},setColId:function(a){return n("col-id",a)},setTitle:function(a){return n("title",a)},setAriaDescription:function(a){return CP(i,a)},setAriaSort:function(a){return a?MP(i,a):TP(i)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var i=this;this.headerCompVersion++;var n=this.headerCompVersion;t.newAgStackInstance().then(function(o){return i.afterCompCreated(n,o)})},e.prototype.afterCompCreated=function(t,i){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,xp([pe("eResize")],e.prototype,"eResize",void 0),xp([pe("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),xp([we],e.prototype,"postConstruct",null),xp([nn],e.prototype,"destroyHeaderComp",null),e}(bw);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},HX=function(r){GX(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),n=function(s,a){return a!=null?i.setAttribute(s,a):i.removeAttribute(s)},o={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},addOrRemoveResizableCssClass:function(s,a){return t.eResize.classList.toggle(s,a)},setWidth:function(s){return i.style.width=s},setColId:function(s){return i.setAttribute("col-id",s)},setAriaExpanded:function(s){return n("aria-expanded",s)},setTitle:function(s){return n("title",s)},setUserCompDetails:function(s){return t.setUserCompDetails(s)}};this.ctrl.setComp(o,i,this.eResize)},e.prototype.setUserCompDetails=function(t){var i=this;t.newAgStackInstance().then(function(n){return i.afterHeaderCompCreated(n)})},e.prototype.afterHeaderCompCreated=function(t){var i=this,n=function(){return i.destroyBean(t)};if(!this.isAlive()){n();return}this.getGui().appendChild(t.getGui()),this.addDestroyFunc(n),this.ctrl.setDragSource(t.getGui())},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,Fv([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Fv([pe("eResize")],e.prototype,"eResize",void 0),Fv([we],e.prototype,"postConstruct",null),e}(bw);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var WX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),aR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Mn;(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"})(Mn||(Mn={}));var VX=function(r){WX(e,r);function e(t){var i=r.call(this)||this;i.headerComps={};var n=t.getType()==Mn.COLUMN_GROUP?"ag-header-row-column-group":t.getType()==Mn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return i.setTemplate('<div class="ag-header-row '+n+'" role="row"></div>'),i.ctrl=t,i}return e.prototype.init=function(){var t=this,i={setTransform:function(n){return t.getGui().style.transform=n},setHeight:function(n){return t.getGui().style.height=n},setTop:function(n){return t.getGui().style.top=n},setHeaderCtrls:function(n){return t.setHeaderCtrls(n)},setWidth:function(n){return t.getGui().style.width=n},setAriaRowIndex:function(n){return yw(t.getGui(),n)}};this.ctrl.setComp(i)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},e.prototype.setHeaderCtrls=function(t){var i=this;if(!!this.isAlive()){var n=this.headerComps;this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=n[u];delete n[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),Vt(n,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)});var o=this.gridOptionsWrapper.isEnsureDomOrder();if(o){var s=Yr(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),h=u.getCtrl().getColumnGroupChild().getLeft();return c-h});var a=s.map(function(l){return l.getGui()});lw(this.getGui(),a)}}},e.prototype.createHeaderComp=function(t){var i;switch(this.ctrl.getType()){case Mn.COLUMN_GROUP:i=new HX(t);break;case Mn.FLOATING_FILTER:i=new YY(t);break;default:i=new NX(t);break}return this.createBean(i),i.setParentComponent(this),i},aR([we],e.prototype,"init",null),aR([nn],e.prototype,"destroyHeaderCtrls",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},BX=0,qg=function(r){kX(e,r);function e(t,i){var n=r.call(this)||this;return n.lastFocusEvent=null,n.columnGroupChild=t,n.parentRowCtrl=i,n.instanceId=t.getUniqueId()+"-"+BX++,n}return e.prototype.shouldStopEventPropagation=function(t){var i=this.focusService.getFocusedHeader(),n=i.headerRowIndex,o=i.column;return DP(this.gridOptionsWrapper,t,n,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsWrapper.getDocument(),i=t.activeElement;return i===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var i=this.getWrapperHasFocus();switch(t.key){case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:i&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,i=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,i,this),this.addDestroyFunc(function(){return t.gridOptionsWrapper.setDomData(t.eGui,i,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Nv([M("focusService")],e.prototype,"focusService",void 0),Nv([M("beans")],e.prototype,"beans",void 0),Nv([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Dt;(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"})(Dt||(Dt={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Mt=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};function Pa(r){var e=r,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():r}var UX=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},r.prototype.registerSideBarComp=function(e){this.sideBarComp=e},r.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case k.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case k.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case k.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},r.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},r.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},r.prototype.forEachDetailGridInfo=function(e){var t=0;Vt(this.detailGridInfoMap,function(i,n){fe(n)&&(e(n,t),t++)})},r.prototype.getDataAsCsv=function(e){if(et.assertRegistered(Xe.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},r.prototype.exportDataAsCsv=function(e){et.assertRegistered(Xe.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},r.prototype.getExcelExportMode=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("excel"),i=Object.assign({exportMode:"xlsx"},t,e);return i.exportMode},r.prototype.getDataAsExcel=function(e){if(!!et.assertRegistered(Xe.ExcelExportModule,"api.getDataAsExcel")){var t=this.getExcelExportMode(e);if(this.excelCreator.getFactoryMode(t)===dh.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}return this.excelCreator.getDataAsExcel(e)}},r.prototype.exportDataAsExcel=function(e){if(!!et.assertRegistered(Xe.ExcelExportModule,"api.exportDataAsExcel")){var t=this.getExcelExportMode(e);if(this.excelCreator.getFactoryMode(t)===dh.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}this.excelCreator.exportDataAsExcel(e)}},r.prototype.getSheetDataForExcel=function(e){if(!!et.assertRegistered(Xe.ExcelExportModule,"api.getSheetDataForExcel")){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(dh.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},r.prototype.getMultipleSheetsAsExcel=function(e){if(et.assertRegistered(Xe.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(e)},r.prototype.exportMultipleSheetsAsExcel=function(e){if(et.assertRegistered(Xe.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(e)},r.prototype.setEnterpriseDatasource=function(e){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},r.prototype.setGridAriaProperty=function(e,t){if(!!e){var i=this.ctrlsService.getGridBodyCtrl().getGui(),n="aria-"+e;t===null?i.removeAttribute(n):i.setAttribute(n,t)}},r.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+k.ROW_MODEL_TYPE_SERVER_SIDE+"'")},r.prototype.setCacheBlockSize=function(e){if(!this.serverSideRowModel){console.warn("AG Grid: you can only set cacheBlockSize with gridOptions.rowModelType '"+k.ROW_MODEL_TYPE_SERVER_SIDE+"'");return}this.gridOptionsWrapper.setProperty("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()},r.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+k.ROW_MODEL_TYPE_INFINITE+"'")},r.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+k.ROW_MODEL_TYPE_VIEWPORT+"'")},r.prototype.setRowData=function(e){var t=this.immutableService==null;if(t){console.warn("AG Grid: you can only set rowData when using the Client Side Row Model");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},r.prototype.setFloatingTopRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},r.prototype.setFloatingBottomRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},r.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},r.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},r.prototype.getFloatingTopRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},r.prototype.getFloatingBottomRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},r.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},r.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},r.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},r.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),this.columnModel.setColumnDefs(e,t)},r.prototype.setAutoGroupColumnDef=function(e,t){this.gridOptionsWrapper.setProperty(Re.PROP_AUTO_GROUP_COLUMN_DEF,e,!0)},r.prototype.setDefaultColDef=function(e,t){this.gridOptionsWrapper.setProperty(Re.PROP_DEFAULT_COL_DEF,e,!0)},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.setAlwaysShowHorizontalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",e)},r.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},r.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},r.prototype.refreshCells=function(e){if(e===void 0&&(e={}),Array.isArray(e)){console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation.");return}this.rowRenderer.refreshCells(e)},r.prototype.flashCells=function(e){e===void 0&&(e={}),this.rowRenderer.flashCells(e)},r.prototype.redrawRows=function(e){e===void 0&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},r.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},r.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return this.rowModel},r.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},r.prototype.onGroupExpandedOrCollapsed=function(e){Ue(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),fe(e)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:Dt.MAP})},r.prototype.refreshInMemoryRowModel=function(e){console.warn("AG Grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},r.prototype.refreshClientSideRowModel=function(e){Ue(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=Dt.EVERYTHING,i={everything:Dt.EVERYTHING,group:Dt.EVERYTHING,filter:Dt.FILTER,map:Dt.MAP,aggregate:Dt.AGGREGATE,sort:Dt.SORT,pivot:Dt.PIVOT};if(fe(e)&&(t=i[e]),Ue(t)){console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(i).join(", "));return}var n=!this.gridOptionsWrapper.isSuppressAnimationFrame(),o={step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n};this.clientSideRowModel.refreshModel(o)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},r.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},r.prototype.getToolPanelInstance=function(e){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}var t=this.sideBarComp.getToolPanelInstance(e);return Pa(t)},r.prototype.addVirtualRowListener=function(e,t,i){typeof e!="string"&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,i)},r.prototype.addRenderedRowListener=function(e,t,i){e==="virtualRowSelected"&&console.warn(`AG Grid: event virtualRowSelected is deprecated, to register for individual row
                selection events, add a listener directly to the row node.`),this.rowRenderer.addRenderedRowListener(e,t,i)},r.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},r.prototype.selectIndex=function(e,t,i){console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(e,t)},r.prototype.deselectIndex=function(e,t){t===void 0&&(t=!1),console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(e)},r.prototype.selectNode=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},r.prototype.deselectNode=function(e,t){t===void 0&&(t=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},r.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},r.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},r.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},r.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},r.prototype.recomputeAggregates=function(){Ue(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:Dt.AGGREGATE})},r.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},r.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},r.prototype.isNodeSelected=function(e){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},r.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColIndexVisible=function(e){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},r.prototype.ensureColumnVisible=function(e,t){t===void 0&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},r.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},r.prototype.ensureNodeVisible=function(e,t){t===void 0&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},r.prototype.forEachLeafNode=function(e){Ue(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},r.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},r.prototype.forEachNodeAfterFilter=function(e){Ue(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},r.prototype.forEachNodeAfterFilterAndSort=function(e){Ue(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},r.prototype.getFilterInstance=function(e,t){var i=this.getFilterInstanceImpl(e,function(o){if(!!t){var s=Pa(o);t(s)}}),n=Pa(i);return n},r.prototype.getFilterInstanceImpl=function(e,t){var i=this.columnModel.getPrimaryColumn(e);if(!!i){var n=this.filterManager.getFilterComponent(i,"NO_UI"),o=n&&n.resolveNow(null,function(s){return s});return o?setTimeout(t,0,o):n&&n.then(function(s){t(s)}),o}},r.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},r.prototype.getStatusPanel=function(e){if(!!this.statusBarService){var t=this.statusBarService.getStatusPanel(e);return Pa(t)}},r.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})},r.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_ROW_DRAG,e)},r.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},r.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},r.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},r.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},r.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},r.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_HEADER_HEIGHT,e)},r.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_DOM_LAYOUT,e)},r.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},r.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_FILL_HANDLE_DIRECTION,e)},r.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_HEADER_HEIGHT,e)},r.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_FLOATING_FILTERS_HEIGHT,e)},r.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PIVOT_HEADER_HEIGHT,e)},r.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PIVOT_GROUP_HEADER_HEIGHT,e)},r.prototype.setIsExternalFilterPresent=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_EXTERNAL_FILTER_PRESENT,e)},r.prototype.setDoesExternalFilterPass=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_DOES_EXTERNAL_FILTER_PASS,e)},r.prototype.setNavigateToNextCell=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_NAVIGATE_TO_NEXT_CELL,e)},r.prototype.setTabToNextCell=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_TAB_TO_NEXT_CELL,e)},r.prototype.setTabToNextHeader=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_TAB_TO_NEXT_HEADER,e)},r.prototype.setNavigateToNextHeader=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_NAVIGATE_TO_NEXT_HEADER,e)},r.prototype.setRowGroupPanelShow=function(e){this.gridOptionsWrapper.setProperty("rowGroupPanelShow",e)},r.prototype.setGroupRowAggNodes=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_ROW_AGG_NODES,e)},r.prototype.setGetGroupRowAgg=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_GROUP_ROW_AGG,e)},r.prototype.setGetBusinessKeyForNode=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_BUSINESS_KEY_FOR_NODE,e)},r.prototype.setGetChildCount=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_CHILD_COUNT,e)},r.prototype.setProcessRowPostCreate=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_ROW_POST_CREATE,e)},r.prototype.setGetRowNodeId=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_NODE_ID,e)},r.prototype.setGetRowId=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_ID,e)},r.prototype.setGetRowClass=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_CLASS,e)},r.prototype.setIsFullWidthCell=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_FULL_WIDTH_CELL,e)},r.prototype.setIsFullWidthRow=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_FULL_WIDTH_ROW,e)},r.prototype.setIsRowSelectable=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_ROW_SELECTABLE,e)},r.prototype.setIsRowMaster=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_ROW_MASTER,e)},r.prototype.setPostSort=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_POST_SORT,e)},r.prototype.setPostSortRows=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_POST_SORT_ROWS,e)},r.prototype.setGetDocument=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_DOCUMENT,e)},r.prototype.setGetContextMenuItems=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_CONTEXT_MENU_ITEMS,e)},r.prototype.setGetMainMenuItems=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_MAIN_MENU_ITEMS,e)},r.prototype.setProcessCellForClipboard=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_CELL_FOR_CLIPBOARD,e)},r.prototype.setSendToClipboard=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_SEND_TO_CLIPBOARD,e)},r.prototype.setProcessCellFromClipboard=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_CELL_FROM_CLIPBOARD,e)},r.prototype.setProcessSecondaryColDef=function(e){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(e)},r.prototype.setProcessSecondaryColGroupDef=function(e){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(e)},r.prototype.setProcessPivotResultColDef=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_PIVOT_RESULT_COL_DEF,e)},r.prototype.setProcessPivotResultColGroupDef=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,e)},r.prototype.setPostProcessPopup=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_POST_PROCESS_POPUP,e)},r.prototype.setDefaultGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,e)},r.prototype.setInitialGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_INITIAL_GROUP_ORDER_COMPARATOR,e)},r.prototype.setGetChartToolbarItems=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_CHART_TOOLBAR_ITEMS,e)},r.prototype.setPaginationNumberFormatter=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_PAGINATION_NUMBER_FORMATTER,e)},r.prototype.setGetServerSideStoreParams=function(e){this.setGetServerSideGroupLevelParams(e)},r.prototype.setGetServerSideGroupLevelParams=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_SERVER_SIDE_GROUP_PARAMS,e)},r.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,e)},r.prototype.setIsApplyServerSideTransaction=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,e)},r.prototype.setIsServerSideGroup=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_IS_SERVER_SIDE_GROUP,e)},r.prototype.setGetServerSideGroupKey=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_SERVER_SIDE_GROUP_KEY,e)},r.prototype.setGetRowStyle=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_STYLE,e)},r.prototype.setGetRowHeight=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_HEIGHT,e)},r.prototype.isSideBarVisible=function(){return this.sideBarComp?this.sideBarComp.isDisplayed():!1},r.prototype.setSideBarVisible=function(e){if(!this.sideBarComp){e&&console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setDisplayed(e)},r.prototype.setSideBarPosition=function(e){if(!this.sideBarComp){console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setSideBarPosition(e)},r.prototype.openToolPanel=function(e){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.openToolPanel(e)},r.prototype.closeToolPanel=function(){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.close()},r.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},r.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},r.prototype.setSideBar=function(e){this.gridOptionsWrapper.setProperty("sideBar",qT.parse(e))},r.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},r.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},r.prototype.doLayout=function(){var e="AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically";mt(function(){return console.warn(e)},"doLayoutDeprecated")},r.prototype.resetRowHeights=function(){if(fe(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},r.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},r.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},r.prototype.setGroupDisplayType=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_DISPLAY_TYPE,e)},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(e,t){var i=this.columnModel.getPrimaryColumn(e);return Ue(i)&&(i=this.columnModel.getGridColumn(e)),Ue(i)?null:this.valueService.getValue(i,t)},r.prototype.addEventListener=function(e,t){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,i)},r.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},r.prototype.removeEventListener=function(e,t){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,i)},r.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},r.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},r.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(FT.bind(window,this,"Grid API"),100)},r.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},r.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(e){return e.quickFilterAggregateText=null})},r.prototype.getRangeSelections=function(){return console.warn(`AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.
        We had to change how cell selections works a small bit to allow charting to integrate. The return type of
        getCellRanges() is a bit different, please check the AG Grid documentation.`),null},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},r.prototype.camelCaseToHumanReadable=function(e){return tw(e)},r.prototype.addRangeSelection=function(e){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},r.prototype.addCellRange=function(e){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(e)},r.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},r.prototype.undoCellEditing=function(){this.undoRedoService.undo()},r.prototype.redoCellEditing=function(){this.undoRedoService.redo()},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.getChartModels=function(){if(et.assertRegistered(Xe.RangeSelectionModule,"api.getChartModels")&&et.assertRegistered(Xe.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},r.prototype.getChartRef=function(e){if(et.assertRegistered(Xe.RangeSelectionModule,"api.getChartRef")&&et.assertRegistered(Xe.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(e)},r.prototype.getChartImageDataURL=function(e){if(et.assertRegistered(Xe.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(e)},r.prototype.downloadChart=function(e){if(et.assertRegistered(Xe.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(e)},r.prototype.openChartToolPanel=function(e){if(et.assertRegistered(Xe.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(e)},r.prototype.closeChartToolPanel=function(e){if(et.assertRegistered(Xe.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(e.chartId)},r.prototype.createRangeChart=function(e){if(et.assertRegistered(Xe.RangeSelectionModule,"api.createRangeChart")&&et.assertRegistered(Xe.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},r.prototype.createCrossFilterChart=function(e){if(et.assertRegistered(Xe.RangeSelectionModule,"api.createCrossFilterChart")&&et.assertRegistered(Xe.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(e)},r.prototype.restoreChart=function(e,t){if(et.assertRegistered(Xe.RangeSelectionModule,"api.restoreChart")&&et.assertRegistered(Xe.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(e,t)},r.prototype.createPivotChart=function(e){if(et.assertRegistered(Xe.RangeSelectionModule,"api.createPivotChart")&&et.assertRegistered(Xe.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},r.prototype.copyToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyToClipboard(e)},r.prototype.copySelectedRowsToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e)},r.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},r.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},r.prototype.showColumnMenuAfterButtonClick=function(e,t){var i=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(i,t,"columnMenu")},r.prototype.showColumnMenuAfterMouseClick=function(e,t){var i=this.columnModel.getGridColumn(e);if(i||(i=this.columnModel.getPrimaryColumn(e)),!i){console.error("AG Grid: column '"+e+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(i,t)},r.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},r.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_POPUP_PARENT,e)},r.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},r.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},r.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),i=t.map(Pa);return i},r.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),i=t.map(Pa);return i},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},r.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for "+e.colKey);return}var i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},n=e.rowPinned==null;n&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var o=this.navigationService.getCellByPosition(i);!o||o.startRowOrCellEdit(e.key,e.charPress)},r.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},r.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransaction(e)},r.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},r.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.");return}this.serverSideRowModel.retryLoads()},r.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.flushAsyncTransactions()},r.prototype.applyTransaction=function(e){if(!this.clientSideRowModel){console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1");return}var t=this.clientSideRowModel.updateRowData(e);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t},r.prototype.setDeltaSort=function(e){this.gridOptionsWrapper.setProperty("deltaSort",e)},r.prototype.updateRowData=function(e){var t="AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.";return mt(function(){return console.warn(t)},"updateRowData deprecated"),this.applyTransaction(e)},r.prototype.applyTransactionAsync=function(e,t){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.batchUpdateRowData(e,t)},r.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.flushAsyncTransactions()},r.prototype.batchUpdateRowData=function(e,t){var i="AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.";mt(function(){return console.warn(i)},"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},r.prototype.insertItemsAtIndex=function(e,t,i){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},r.prototype.removeItems=function(e,t){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var i=e.map(function(n){return n.data});this.updateRowData({add:null,addIndex:null,update:null,remove:i})},r.prototype.addItems=function(e,t){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},r.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},r.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},r.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},r.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},r.prototype.purgeEnterpriseCache=function(e){console.warn("AG Grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.refreshServerSide({purge: true})"),this.purgeServerSideCache(e)},r.prototype.purgeServerSideCache=function(e){e===void 0&&(e=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:e,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},r.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'.");return}this.serverSideRowModel.refreshStore(e)},r.prototype.refreshServerSideStore=function(e){var t="AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0";return mt(function(){return console.warn(t)},"refreshServerSideStore-renamed"),this.refreshServerSide(e)},r.prototype.getServerSideStoreState=function(){var e="AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0";return mt(function(){return console.warn(e)},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},r.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},r.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isMaxRowFound is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},r.prototype.setVirtualRowCount=function(e,t){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(e,t)},r.prototype.setInfiniteRowCount=function(e,t){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(e,t)},r.prototype.setRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},r.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},r.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.checkGridSize=function(){console.warn("In AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything useful.")},r.prototype.getFirstRenderedRow=function(){return console.warn("In AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},r.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},r.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},r.prototype.setRowClass=function(e){this.gridOptionsWrapper.setProperty(Re.PROP_ROW_CLASS,e)},Mt([It("immutableService")],r.prototype,"immutableService",void 0),Mt([It("csvCreator")],r.prototype,"csvCreator",void 0),Mt([It("excelCreator")],r.prototype,"excelCreator",void 0),Mt([M("rowRenderer")],r.prototype,"rowRenderer",void 0),Mt([M("navigationService")],r.prototype,"navigationService",void 0),Mt([M("filterManager")],r.prototype,"filterManager",void 0),Mt([M("columnModel")],r.prototype,"columnModel",void 0),Mt([M("selectionService")],r.prototype,"selectionService",void 0),Mt([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),Mt([M("valueService")],r.prototype,"valueService",void 0),Mt([M("alignedGridsService")],r.prototype,"alignedGridsService",void 0),Mt([M("eventService")],r.prototype,"eventService",void 0),Mt([M("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Mt([M("context")],r.prototype,"context",void 0),Mt([M("rowModel")],r.prototype,"rowModel",void 0),Mt([M("sortController")],r.prototype,"sortController",void 0),Mt([M("paginationProxy")],r.prototype,"paginationProxy",void 0),Mt([M("focusService")],r.prototype,"focusService",void 0),Mt([M("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Mt([It("rangeService")],r.prototype,"rangeService",void 0),Mt([It("clipboardService")],r.prototype,"clipboardService",void 0),Mt([It("aggFuncService")],r.prototype,"aggFuncService",void 0),Mt([M("menuFactory")],r.prototype,"menuFactory",void 0),Mt([It("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Mt([M("valueCache")],r.prototype,"valueCache",void 0),Mt([M("animationFrameService")],r.prototype,"animationFrameService",void 0),Mt([It("statusBarService")],r.prototype,"statusBarService",void 0),Mt([It("chartService")],r.prototype,"chartService",void 0),Mt([It("undoRedoService")],r.prototype,"undoRedoService",void 0),Mt([It("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),Mt([It("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),Mt([M("ctrlsService")],r.prototype,"ctrlsService",void 0),Mt([It("frameworkComponentWrapper")],r.prototype,"frameworkComponentWrapper",void 0),Mt([we],r.prototype,"init",null),Mt([nn],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),r=Mt([Ie("gridApi")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jX=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ow=function(r){zX(e,r);function e(t,i,n,o){var s=r.call(this)||this;return s.columnOrGroup=t,s.eCell=i,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=n,s}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Ut(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,St.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),i=fe(this.columnOrGroup.getOldLeft()),n=this.beans.columnAnimationService.isActive()&&i&&!t;n?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,i=this.getColumnOrGroup(),n=i.getLeft(),o=i.getOldLeft(),s=this.modifyLeftForPrintLayout(i,o),a=this.modifyLeftForPrintLayout(i,n);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===a&&t.setLeft(a)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),i=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,i),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,i){var n=this.beans.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT;if(!n||t.getPinned()===k.PINNED_LEFT)return i;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()===k.PINNED_RIGHT){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+i}return o+i},e.prototype.setLeft=function(t){fe(t)&&(this.eCell.style.left=t+"px");var i;if(this.columnOrGroup instanceof St)i=this.columnOrGroup;else{var n=this.columnOrGroup,o=n.getLeafColumns();if(!o.length)return;o.length>1&&bP(this.ariaEl,o.length),i=o[0]}var s=this.beans.columnModel.getAriaColumnIndex(i);_w(this.ariaEl,s)},jX([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $X=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Aw=function(r){$X(e,r);function e(t,i){var n=r.call(this)||this;return n.columns=t,n.element=i,n}return e.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},lR([M("columnHoverService")],e.prototype,"columnHoverService",void 0),lR([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var YX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Gv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},KX=function(r){YX(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.column=t,n}return e.prototype.setComp=function(t,i,n,o){r.prototype.setGui.call(this,i),this.comp=t,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o;var s=this.column.getColDef(),a=!!s.filter||!!s.filterFramework,l=!!s.floatingFilter;this.active=a&&l,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},e.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),!!this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=Ti("filter",this.gridOptionsWrapper,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},e.prototype.setupFocus=function(){this.createManagedBean(new ha(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.onTabKeyDown=function(t){var i=this.gridOptionsWrapper.getDocument(),n=i.activeElement,o=n===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(t.shiftKey);!a||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var i=this.beans.columnModel,n=this.column;do if(n=t?i.getDisplayedColBefore(n):i.getDisplayedColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var i=this.getWrapperHasFocus();switch(t.key){case de.UP:case de.DOWN:i||t.preventDefault();case de.LEFT:case de.RIGHT:if(i)return;t.stopPropagation();case de.ENTER:i&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case de.ESCAPE:i||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var i=this.eGui.contains(t.relatedTarget);if(!i){var n=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&Ya(t.relatedTarget,"ag-floating-filter");if(n&&o&&t.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===de.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new Aw([this.column],this.eGui));var i=function(){if(!!t.gridOptionsWrapper.isColumnHoverHighlight()){var n=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,A.EVENT_COLUMN_HOVER_CHANGED,i),i()},e.prototype.setupLeft=function(){var t=new Ow(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupUserComp=function(){var t=this;if(!!this.active){var i=this.column.getColDef(),n=this.filterManager.createFilterParams(this.column,i),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,x_,n),s=this.userComponentFactory.getDefaultFloatingFilterType(i);s==null&&(s="agReadOnlyFloatingFilter");var a={column:this.column,filterParams:o,currentParentModel:function(){return t.currentParentModel()},parentFilterInstance:function(u){return t.parentFilterInstance(u)},showParentFilter:function(){return t.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=i.floatingFilterComponentParams?!!i.floatingFilterComponentParams.suppressFilterButton:!1;var l=this.userComponentFactory.getFloatingFilterCompDetails(i,a,s);l&&this.comp.setCompDetails(l)}},e.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,function(i){return i&&i.getModel()}):null},e.prototype.getFilterComponent=function(t){return t===void 0&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},e.prototype.parentFilterInstance=function(t){var i=this.getFilterComponent();i!=null&&i.then(function(n){t(Pa(n))})},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(!!this.active){var i=function(n){var o=t.comp.getFloatingFilterComp();if(!!o){var s=t.currentParentModel();o.then(function(a){a&&a.onParentModelChanged(s,n)})}};this.addManagedListener(this.column,St.EVENT_FILTER_CHANGED,i),this.filterManager.isFilterActive(this.column)&&i(null)}},e.prototype.setupWidth=function(){var t=this,i=function(){var n=t.column.getActualWidth()+"px";t.comp.setWidth(n)};this.addManagedListener(this.column,St.EVENT_WIDTH_CHANGED,i),i()},Gv([M("filterManager")],e.prototype,"filterManager",void 0),Gv([M("columnHoverService")],e.prototype,"columnHoverService",void 0),Gv([M("menuFactory")],e.prototype,"menuFactory",void 0),e}(qg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qX=function(r){XX(e,r);function e(t,i,n,o,s){var a=r.call(this)||this;return a.pinned=t,a.column=i,a.eResize=n,a.comp=o,a.ctrl=s,a}return e.prototype.postConstruct=function(){var t=this,i=this.column.getColDef(),n=[],o,s,a=function(){if(qt(t.eResize,o),!!o){var c=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(n.push(c),s){var h=t.gridOptionsWrapper.isSkipHeaderOnAutoSize(),d=function(){t.columnModel.autoSizeColumn(t.column,h,"uiColumnResized")};t.eResize.addEventListener("dblclick",d);var p=new Qn(t.eResize);p.addEventListener(Qn.EVENT_DOUBLE_TAP,d),t.addDestroyFunc(function(){t.eResize.removeEventListener("dblclick",d),p.removeEventListener(Qn.EVENT_DOUBLE_TAP,d),p.destroy()})}}},l=function(){n.forEach(function(c){return c()}),n.length=0},u=function(){var c=t.column.isResizable(),h=!t.gridOptionsWrapper.isSuppressAutoSize()&&!i.suppressAutoSize,d=c!==o||h!==s;d&&(o=c,s=h,l(),a())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},e.prototype.onResizing=function(t,i){var n=this.normaliseResizeAmount(i),o=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,t,"uiColumnDragged"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var i=t,n=this.pinned!==k.PINNED_LEFT,o=this.pinned===k.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?n&&(i*=-1):o&&(i*=-1),i},Hv([M("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Hv([M("columnModel")],e.prototype,"columnModel",void 0),Hv([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ZX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wh=function(r){ZX(e,r);function e(t,i,n){i===void 0&&(i="ag-checkbox"),n===void 0&&(n="checkbox");var o=r.call(this,t,i,n)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),r.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,t):this.setValue(i)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,i){return this.refreshSelectedClass(t),this.setSelected(t,i),this},e.prototype.setName=function(t){var i=this.getInputElement();return i.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,i){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,i||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,i,n){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:i,event:n});var o=this.getInputElement(),s={type:A.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:i};this.eventService.dispatchEvent(s)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var i=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,i,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(Zo);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var JX=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Rp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QX=function(r){JX(e,r);function e(t){var i=r.call(this)||this;i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=t;var n=t.getColDef();return i.filteredOnly=n?!!n.headerCheckboxSelectionFilteredOnly:!1,i}return e.prototype.onSpaceKeyPressed=function(t){var i=this.cbSelectAll,n=this.gridOptionsWrapper.getDocument();i.isDisplayed()&&!i.getGui().contains(n.activeElement)&&(t.preventDefault(),i.setValue(!i.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new Wh),this.cbSelectAll.addCssClass("ag-header-select-all"),yn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Wh.EVENT_CHANGED,this.onCbSelectAll.bind(this)),gw(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(t){return t.selected===0&&t.notSelected===0?!1:t.selected>0&&t.notSelected>0?null:t.selected>0},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),i=this.getNextCheckboxState(t);this.cbSelectAll.setValue(i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){if(!this.cbSelectAllVisible)this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);else{var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.cbSelectAll.getValue(),n=i?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+n+")"),this.cbSelectAll.setInputAriaLabel(o+" ("+n+")")}this.headerCellCtrl.refreshAriaDescription()},e.prototype.getSelectionCount=function(){var t=this,i=0,n=0,o=function(s){t.gridOptionsWrapper.isGroupSelectsChildren()&&s.group||(s.isSelected()?i++:s.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(o):this.gridApi.forEachNode(o),{notSelected:n,selected:i}},e.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType(),i=t===k.ROW_MODEL_TYPE_CLIENT_SIDE;i||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&!!this.cbSelectAllVisible){var t=this.cbSelectAll.getValue();t?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var i=t,n={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()};t=i(n)}return t?this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),!1):this.gridOptionsWrapper.isRowModelViewport()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),!1):!0:!1},Rp([M("gridApi")],e.prototype,"gridApi",void 0),Rp([M("columnApi")],e.prototype,"columnApi",void 0),Rp([M("rowModel")],e.prototype,"rowModel",void 0),Rp([M("selectionService")],e.prototype,"selectionService",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var eq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wo=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tq=function(r){eq(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.refreshFunctions=[],n.userHeaderClasses=new Set,n.ariaDescriptionProperties=new Map,n.column=t,n}return e.prototype.setComp=function(t,i,n,o){var s=this;r.prototype.setGui.call(this,i),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new qX(this.getPinned(),this.column,n,t,this)),this.createManagedBean(new Aw([this.column],i)),this.createManagedBean(new Ow(this.column,i,this.beans)),this.createManagedBean(new ha(i,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,St.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)},e.prototype.createParams=function(){var t=this,i=this.column.getColDef(),n={column:this.column,displayName:this.displayName,enableSorting:i.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){t.gridApi.showColumnMenuAfterButtonClick(t.column,o)},progressSort:function(o){t.sortController.progressSort(t.column,!!o,"uiColumnSorted")},setSort:function(o,s){t.sortController.setSortForColumn(t.column,o,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()};return n},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new QX(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t),t.key===de.SPACE&&this.selectAllFeature.onSpaceKeyPressed(t),t.key===de.ENTER&&this.onEnterKeyPressed(t)},e.prototype.onEnterKeyPressed=function(t){var i=this.comp.getUserCompInstance();if(!!i){if(t.ctrlKey||t.metaKey)this.menuEnabled&&i.showMenu&&(t.preventDefault(),i.showMenu());else if(this.sortable){var n=t.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,i={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},n=this.createManagedBean(new Tw(i,this.beans));n.setComp(this.comp),this.refreshFunctions.push(function(){return n.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,i=function(){var n=t.column.getColDef(),o=t.gridOptionsWrapper,s=qP.getHeaderClassesFromColDef(n,o,t.column,null),a=t.userHeaderClasses;t.userHeaderClasses=new Set(s),s.forEach(function(l){a.has(l)?a.delete(l):t.comp.addOrRemoveCssClass(l,!0)}),a.forEach(function(l){return t.comp.addOrRemoveCssClass(l,!1)})};this.refreshFunctions.push(i),i()},e.prototype.setDragSource=function(t){var i=this;if(this.dragSourceElement=t,this.removeDragSource(),!!t&&!!this.draggable){var n=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:Tn.HeaderCell,eElement:t,defaultIconName:n?en.ICON_HIDE:en.ICON_NOT_ALLOWED,getDragItem:function(){return i.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return i.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return i.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(o){var s,a;if(n){var l=((a=(s=o)===null||s===void 0?void 0:s.columns)===null||a===void 0?void 0:a.filter(function(u){return!u.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(l,!0,"uiColumnMoved")}},onGridExit:function(o){var s,a;if(n){var l=((a=(s=o)===null||s===void 0?void 0:s.columns)===null||a===void 0?void 0:a.filter(function(u){return!u.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(l,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),i=this.comp.getUserCompInstance(),n=i!=null&&this.userCompDetails.componentClass==t.componentClass,o=n?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var i=this.comp.getUserCompInstance();if(!i||!i.refresh)return!1;var n=i.refresh(t);return n},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),i=this.gridOptionsWrapper.isSuppressMovableColumns(),n=!i&&!t.suppressMovable&&!t.lockPosition;return!!n||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,i=function(){t.comp.setWidth(t.column.getActualWidth()+"px")};this.addManagedListener(this.column,St.EVENT_WIDTH_CHANGED,i),i()},e.prototype.setupMovingCss=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,St.EVENT_MOVING_CHANGED,i),i()},e.prototype.setupMenuClass=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,St.EVENT_MENU_VISIBLE_CHANGED,i),i()},e.prototype.setupSortableClass=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};i(),this.addRefreshFunction(i),this.addManagedListener(this.column,St.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,i=function(){var n=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",n)};i(),this.addRefreshFunction(i)},e.prototype.setupAutoHeight=function(t){var i=this,n=function(c){if(!!i.isAlive()){var h=fl(i.getGui()),d=h.paddingTop,p=h.paddingBottom,f=t.offsetHeight,m=f+d+p;if(c<5){var g=i.beans.gridOptionsWrapper.getDocument(),y=!g||!g.contains(t),C=m==0;if(y||C){i.beans.frameworkOverrides.setTimeout(function(){return n(c+1)},0);return}}i.columnModel.setColumnHeaderHeight(i.column,m)}},o=!1,s,a=function(){var c=i.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,n(0),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=i.resizeObserverService.observeResize(t,function(){return n(0)})},u=function(){o=!1,s&&s(),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,St.EVENT_WIDTH_CHANGED,function(){return o&&n(0)}),this.addManagedListener(this.column,St.EVENT_SORT_CHANGED,function(){o&&i.beans.frameworkOverrides.setTimeout(function(){return n(0)})}),this.addRefreshFunction(a)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(vP(this.column)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,i){i!=null?this.ariaDescriptionProperties.set(t,i):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,i=function(){if(!!t.gridOptionsWrapper.isColumnHoverHighlight()){var n=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,A.EVENT_COLUMN_HOVER_CHANGED,i),i()},e.prototype.setupFilterCss=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,St.EVENT_FILTER_ACTIVE_CHANGED,i),i()},e.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,i=function(n){return t.setActiveHeader(n.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},Wo([M("columnModel")],e.prototype,"columnModel",void 0),Wo([M("columnHoverService")],e.prototype,"columnHoverService",void 0),Wo([M("sortController")],e.prototype,"sortController",void 0),Wo([M("menuFactory")],e.prototype,"menuFactory",void 0),Wo([M("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Wo([M("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Wo([M("gridApi")],e.prototype,"gridApi",void 0),Wo([M("columnApi")],e.prototype,"columnApi",void 0),Wo([nn],e.prototype,"removeDragSource",null),e}(qg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nq=function(r){iq(e,r);function e(t,i,n,o){var s=r.call(this)||this;return s.eResize=i,s.comp=t,s.pinned=n,s.columnGroup=o,s}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.addOrRemoveResizableCssClass("ag-hidden",!0);return}var i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(i),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var o=[],s=t.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:n,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit()})}},e.prototype.onResizeStart=function(t){var i=this;this.calculateInitialValues();var n=null;if(t&&(n=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),n){var o=n.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return i.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return i.resizeTakeFromRatios.push(s.getActualWidth()/i.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,i){var n=this.normaliseDragChange(i),o=this.resizeStartWidth+n;this.resizeColumns(o,t)},e.prototype.resizeLeafColumnsToFit=function(){var t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,!0)},e.prototype.resizeColumns=function(t,i){i===void 0&&(i=!0);var n=[];if(n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var o=t-this.resizeStartWidth;n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-o})}this.columnModel.resizeColumnSets({resizeSets:n,finished:i,source:"uiColumnDragged"}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,i=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=i.filter(function(n){return n.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(n){return t.resizeStartWidth+=n.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(n){return t.resizeRatios.push(n.getActualWidth()/t.resizeStartWidth)})},e.prototype.normaliseDragChange=function(t){var i=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==k.PINNED_LEFT&&(i*=-1):this.pinned===k.PINNED_RIGHT&&(i*=-1),i},bp([M("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),bp([M("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),bp([M("columnModel")],e.prototype,"columnModel",void 0),bp([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var rq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oq=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},sq=function(r){rq(e,r);function e(t,i){var n=r.call(this)||this;return n.removeChildListenersFuncs=[],n.columnGroup=i,n.comp=t,n}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,gn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var i=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(n){n.addEventListener(St.EVENT_WIDTH_CHANGED,i),n.addEventListener(St.EVENT_VISIBLE_CHANGED,i),t.removeChildListenersFuncs.push(function(){n.removeEventListener(St.EVENT_WIDTH_CHANGED,i),n.removeEventListener(St.EVENT_VISIBLE_CHANGED,i)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},oq([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var aq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Mp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},lq=function(r){aq(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.columnGroup=t,n}return e.prototype.setComp=function(t,i,n){r.prototype.setGui.call(this,i),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Aw(s,i)),this.createManagedBean(new Ow(this.columnGroup,i,this.beans)),this.createManagedBean(new sq(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new nq(t,n,o,this.columnGroup)),this.createManagedBean(new ha(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},e.prototype.setupUserComp=function(){var t=this,i=this.displayName,n={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!i){for(var o=this.columnGroup,s=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===s.length;)o=o.getParent();var a=o.getColGroupDef();a&&(i=a.headerName),i||(i=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(l)},e.prototype.setupTooltip=function(){var t=this,i=this.columnGroup.getColGroupDef(),n={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return i&&i.headerTooltip}};i&&(n.getColDef=function(){return i});var o=this.createManagedBean(new Tw(n,this.beans));o.setComp(this.comp)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,_i.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,_i.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var i=t.isExpanded();this.expandable?this.comp.setAriaExpanded(i?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},e.prototype.addClasses=function(){var t=this,i=this.columnGroup.getColGroupDef(),n=qP.getHeaderClassesFromColDef(i,this.gridOptionsWrapper,null,this.columnGroup);n.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),n.forEach(function(o){return t.comp.addOrRemoveCssClass(o,!0)})},e.prototype.setupMovingCss=function(){var t=this,i=this.columnGroup.getProvidedColumnGroup(),n=i.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};n.forEach(function(s){t.addManagedListener(s,St.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.columnGroup)}},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var i=this.getWrapperHasFocus();if(!(!this.expandable||!i)&&t.key===de.ENTER){var n=this.columnGroup,o=!n.isExpanded();this.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var i=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),s={type:Tn.HeaderCell,eElement:t,defaultIconName:o?en.ICON_HIDE:en.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return n.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var l,u;if(o){var c=((u=(l=a)===null||l===void 0?void 0:l.columns)===null||u===void 0?void 0:u.filter(function(h){return!h.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(c,!0,"uiColumnMoved")}},onGridExit:function(a){var l,u;if(o){var c=((u=(l=a)===null||l===void 0?void 0:l.columns)===null||u===void 0?void 0:u.filter(function(h){return!h.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(c,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(s)})}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(function(o){return i[o.getId()]=o.isVisible()});var n=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){t.indexOf(o)>=0&&(n.push(o),hn(t,o))}),t.forEach(function(o){return n.push(o)}),{columns:n,visibleState:i}},e.prototype.isSuppressMoving=function(){var t=!1;this.columnGroup.getLeafColumns().forEach(function(n){(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(t=!0)});var i=t||this.gridOptionsWrapper.isSuppressMovableColumns();return i},Mp([M("columnModel")],e.prototype,"columnModel",void 0),Mp([M("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Mp([M("gridApi")],e.prototype,"gridApi",void 0),Mp([M("columnApi")],e.prototype,"columnApi",void 0),e}(qg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cq=0,Vv=function(r){uq(e,r);function e(t,i,n){var o=r.call(this)||this;return o.instanceId=cq++,o.headerCellCtrls={},o.rowIndex=t,o.pinned=i,o.type=n,o}return e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),pl()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,A.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return dl(this.headerCellCtrls).find(function(i){return i.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){var t=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT;if(t){var i=this.pinned!=null;return i?0:this.columnModel.getContainerWidth(k.PINNED_RIGHT)+this.columnModel.getContainerWidth(k.PINNED_LEFT)+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.columnModel.getHeaderRowCount(),i=[],n=0;this.columnModel.hasFloatingFilters()&&(t++,n=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+n,l=t-a,u=0;u<l;u++)i.push(o);i.push(s);for(var u=0;u<n;u++)i.push(this.gridOptionsWrapper.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=i[u];var h=i[this.rowIndex]+"px";this.comp.setTop(c+"px"),this.comp.setHeight(h)},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(){var t=this,i=this.headerCellCtrls;this.headerCellCtrls={};var n=this.getColumnsInViewport();n.forEach(function(a){if(!a.isEmptyGroup()){var l=a.getUniqueId(),u=i[l];delete i[l];var c=u&&u.getColumnGroupChild()!=a;if(c&&(t.destroyBean(u),u=void 0),u==null)switch(t.type){case Mn.FLOATING_FILTER:u=t.createBean(new KX(a,t));break;case Mn.COLUMN_GROUP:u=t.createBean(new lq(a,t));break;default:u=t.createBean(new tq(a,t));break}t.headerCellCtrls[l]=u}});var o=function(a){var l=t.focusService.isHeaderWrapperFocused(a);if(!l)return!1;var u=t.columnModel.isDisplayed(a.getColumnGroupChild());return u};Vt(i,function(a,l){var u=o(l);u?t.headerCellCtrls[a]=l:t.destroyBean(l)});var s=Yr(this.headerCellCtrls);this.comp.setHeaderCtrls(s)},e.prototype.destroyCtrls=function(){var t=this;Vt(this.headerCellCtrls,function(i,n){t.destroyBean(n)}),this.headerCellCtrls={}},e.prototype.getColumnsInViewport=function(){var t=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT;return t?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(this.pinned!=null)return[];var i=[],n=this.getActualDepth();return[k.PINNED_LEFT,null,k.PINNED_RIGHT].forEach(function(o){var s=t.columnModel.getVirtualHeaderGroupRow(o,n);i=i.concat(s)}),i},e.prototype.getActualDepth=function(){return this.type==Mn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,i){var n=Yr(this.headerCellCtrls),o=n.find(function(s){return s.getColumnGroupChild()==t});return o?(o.focus(i),!0):!1},Wv([M("columnModel")],e.prototype,"columnModel",void 0),Wv([M("focusService")],e.prototype,"focusService",void 0),Wv([nn],e.prototype,"destroyCtrls",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var hq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},dq=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},pq=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(dq(arguments[e]));return r},fq=function(r){hq(e,r);function e(t){var i=r.call(this)||this;return i.groupsRowCtrls=[],i.pinned=t,i}return e.prototype.setComp=function(t,i){this.comp=t,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var i=new DX(this.pinned,t);this.createManagedBean(i)},e.prototype.refresh=function(t){var i=this;t===void 0&&(t=!1);var n=new Uu,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=i.columnModel.getHeaderRowCount()-1;i.groupsRowCtrls=i.destroyBeans(i.groupsRowCtrls);for(var h=0;h<c;h++){var d=i.createBean(new Vv(n.next(),i.pinned,Mn.COLUMN_GROUP));i.groupsRowCtrls.push(d)}},a=function(){var c=n.next(),h=i.columnsRowCtrl==null||!t||i.columnsRowCtrl.getRowIndex()!==c;h&&(i.destroyBean(i.columnsRowCtrl),i.columnsRowCtrl=i.createBean(new Vv(c,i.pinned,Mn.COLUMN)))},l=function(){var c=i.columnModel.hasFloatingFilters(),h=function(){i.filtersRowCtrl=i.destroyBean(i.filtersRowCtrl)};if(!c){h();return}var d=n.next();if(i.filtersRowCtrl){var p=i.filtersRowCtrl.getRowIndex()!==d;(!t||p)&&h()}i.filtersRowCtrl||(i.filtersRowCtrl=i.createBean(new Vv(d,i.pinned,Mn.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=pq(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new Pw(function(i){return t.comp.setCenterWidth(i+"px")}))},e.prototype.setHorizontalScroll=function(t){this.comp.setContainerTransform("translateX("+t+"px)")},e.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var i=this.pinned===k.PINNED_LEFT,n=this.pinned===k.PINNED_RIGHT,o=function(){var s=i?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=t.gridOptionsWrapper.isEnableRtl(),u=t.gridOptionsWrapper.getScrollbarWidth(),c=t.scrollVisibleService.isVerticalScrollShowing()&&(l&&i||!l&&n),h=c?s+u:s;t.comp.setPinnedContainerWidth(h+"px"),t.comp.addOrRemoveCssClass("ag-hidden",a)}};this.addManagedListener(this.eventService,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,A.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof St)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var i=0;i<this.groupsRowCtrls.length;i++){var n=this.groupsRowCtrls[i].getHeaderCellCtrl(t);if(n)return n}},e.prototype.getHtmlElementForColumnHeader=function(t){var i=this.getHeaderCtrlForColumn(t);return i?i.getGui():null},e.prototype.getRowType=function(t){var i=this.getAllCtrls(),n=i[t];return n?n.getType():void 0},e.prototype.focusHeader=function(t,i,n){var o=this.getAllCtrls(),s=o[t];return s?s.focusHeader(i,n):!1},e.prototype.getRowCount=function(){return this.getAllCtrls().length},Dc([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Dc([M("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Dc([M("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Dc([M("columnModel")],e.prototype,"columnModel",void 0),Dc([M("focusService")],e.prototype,"focusService",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var gq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Bv=function(r){gq(e,r);function e(t){var i=r.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=t,i}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setContainerTransform:function(o){return t.eCenterContainer.style.transform=o},setPinnedContainerWidth:function(o){var s=t.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},n=this.createManagedBean(new fq(this.pinned));n.setComp(i,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned==k.PINNED_LEFT,i=this.pinned==k.PINNED_RIGHT,n=t?e.PINNED_LEFT_TEMPLATE:i?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(n),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var i=this,n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=i.eRowContainer;u&&i.eRowContainer.appendChild(l),o&&aw(i.eRowContainer,l,o),o=l};t.forEach(function(a){var l=a.getInstanceId(),u=n[l];delete n[l];var c=u||i.createBean(new VX(a));i.headerRowComps[l]=c,i.rowCompsList.push(c),s(c)}),Yr(n).forEach(function(a){return i.destroyRowComp(a)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,kv([pe("eCenterContainer")],e.prototype,"eCenterContainer",void 0),kv([we],e.prototype,"init",null),kv([nn],e.prototype,"destroyRowComps",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var mq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zl=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ho;(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"})(ho||(ho={}));var vq=function(r){mq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.gridBodyCon=i.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.getHeaderRowType=function(t){var i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(t)},e.prototype.navigateVertically=function(t,i,n){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;var o=i.headerRowIndex,s=i.column,a=this.getHeaderRowCount(),l=t===ho.UP,u=l?o-1:o+1,c=null,h=!1;u<0&&(u=0,c=s,h=!0),u>=a&&(u=-1);var d=this.getHeaderRowType(o);if(!h){if(d===Mn.COLUMN_GROUP){var p=s;c=l?s.getParent():p.getDisplayedChildren()[0]}else if(d===Mn.FLOATING_FILTER)c=s;else{var p=s;c=l?p.getParent():p}if(!c)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},allowUserOverride:!0,event:n})},e.prototype.navigateHorizontally=function(t,i,n){i===void 0&&(i=!1);var o=this.focusService.getFocusedHeader(),s=t===ho.LEFT,a=this.gridOptionsWrapper.isEnableRtl(),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!i?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:i,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,u,n)},e.prototype.focusNextHeaderRow=function(t,i,n){var o=t.headerRowIndex,s=null,a;return i==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:i,fromTab:!0,allowUserOverride:!0,event:n})},e.prototype.scrollToColumn=function(t,i){if(i===void 0&&(i="After"),!t.getPinned()){var n;if(t instanceof gn){var o=t.getDisplayedLeafColumns();n=i==="Before"?Ut(o):o[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},zl([M("focusService")],e.prototype,"focusService",void 0),zl([M("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),zl([M("animationFrameService")],e.prototype,"animationFrameService",void 0),zl([M("ctrlsService")],e.prototype,"ctrlsService",void 0),zl([we],e.prototype,"postConstruct",null),e=zl([Ie("headerNavigationService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},_q=function(r){yq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,i,n){this.comp=t,this.eGui=i,this.createManagedBean(new ha(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_FLOATING_FILTERS_HEIGHT,t),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this,i=t.columnModel,n=t.gridOptionsWrapper,o=0,s=i.getHeaderRowCount(),a,l=i.hasFloatingFilters();l&&(s++,o=1);var u=this.columnModel.getColumnGroupHeaderRowHeight(),c=this.columnModel.getColumnHeaderRowHeight(),h=1+o,d=s-h;if(a=o*n.getFloatingFiltersHeight(),a+=d*u,a+=c,this.headerHeight!==a){this.headerHeight=a;var p=a+1+"px";this.comp.setHeightAndMinHeight(p),this.eventService.dispatchEvent({type:A.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onTabKeyDown=function(t){var i=this.gridOptionsWrapper.isEnableRtl(),n=t.shiftKey!==i?ho.LEFT:ho.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var i=null;switch(t.key){case de.LEFT:i=ho.LEFT;case de.RIGHT:fe(i)||(i=ho.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,t);break;case de.UP:i=ho.UP;case de.DOWN:fe(i)||(i=ho.DOWN),this.headerNavigationService.navigateVertically(i,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var i=this.gridOptionsWrapper.getDocument(),n=t.relatedTarget;!n&&this.eGui.contains(i.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},Tp([M("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Tp([M("focusService")],e.prototype,"focusService",void 0),Tp([M("columnModel")],e.prototype,"columnModel",void 0),Tp([M("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Cq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wq=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Sq=function(r){Cq(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,i={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){t.getGui().style.height=s,t.getGui().style.minHeight=s}},n=this.createManagedBean(new _q);n.setComp(i,this.getGui(),this.getFocusableElement());var o=function(s){t.createManagedBean(s),t.appendChild(s)};o(new Bv(k.PINNED_LEFT)),o(new Bv(null)),o(new Bv(k.PINNED_RIGHT))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',wq([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Eq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Uv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xq=function(r){Eq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var i=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(n,!0);var o=function(){return i.dragService.removeDragSource(n)};return o},e.prototype.onDragStart=function(t,i){this.dragStartX=i.clientX,this.setResizeIcons();var n=i instanceof MouseEvent&&i.shiftKey===!0;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,i){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,i){this.resizeAmount=i.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Uv([M("dragService")],e.prototype,"dragService",void 0),Uv([M("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Uv([Ie("horizontalResizeService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Rq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ic=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bq=function(r){Rq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,i){var n=this;this.showPopup(t,function(o){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:i,ePopup:o})},i.target)},e.prototype.showMenuAfterButtonClick=function(t,i,n){var o=this;this.showPopup(t,function(s){o.popupService.positionPopupUnderComponent({type:n,eventSource:i,ePopup:s,keepWithinBounds:!0,column:t})},i)},e.prototype.showPopup=function(t,i,n){var o=this,s=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!s)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var a=document.createElement("div");yn(a,"presentation"),a.classList.add("ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",function(p){return o.trapFocusWithin(p,a)}),s.guiPromise.then(function(p){return a.appendChild(p)});var l,u=n||this.ctrlsService.getGridBodyCtrl().getGui(),c=function(p){t.setMenuVisible(!1,"contextMenu");var f=p instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),f&&n&&oc(n)){var m=o.focusService.findTabbableParent(n);m&&m.focus()}},h=this.gridOptionsWrapper.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:c,positionCallback:function(){return i(a)},anchorToElement:u,ariaLabel:h("ariaLabelColumnMenu","Column Menu")});d&&(this.hidePopup=l=d.hideFunc),s.filterPromise.then(function(p){i(a),p.afterGuiAttached&&p.afterGuiAttached({container:"columnMenu",hidePopup:l})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,i){t.key!==de.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(i,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},Ic([M("filterManager")],e.prototype,"filterManager",void 0),Ic([M("popupService")],e.prototype,"popupService",void 0),Ic([M("focusService")],e.prototype,"focusService",void 0),Ic([M("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Ic([Ie("menuFactory")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Mq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};(function(r){Mq(e,r);function e(t){var i=r.call(this,e.getTemplate(t.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=t,t.items&&t.items.forEach(function(n){return i.addItem(n)}),i}return e.prototype.postConstruct=function(){this.createManagedBean(new ha(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.getTemplate=function(t){return'<div class="ag-tabs '+t+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(t?t+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(t?t+"-body":"")+`"></div>
        </div>`},e.prototype.handleKeyDown=function(t){var i=this.gridOptionsWrapper.getDocument();switch(t.key){case de.RIGHT:case de.LEFT:if(!this.eHeader.contains(i.activeElement))return;var n=t.key===de.RIGHT,o=this.gridOptionsWrapper.isEnableRtl(),s=this.items.indexOf(this.activeItem),a=n!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;t.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case de.UP:case de.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var i=this,n=i.focusService,o=i.eHeader,s=i.eBody,a=i.activeItem,l=this.gridOptionsWrapper.getDocument(),u=l.activeElement;if(t.preventDefault(),o.contains(u))n.focusInto(s,t.shiftKey);else if(n.isFocusUnderManagedComponent(s))a.eHeaderButton.focus();else{var c=n.findNextFocusableElement(s,!1,t.shiftKey);c?c.focus():a.eHeaderButton.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var i=document.createElement("span");yn(i,"tab"),i.setAttribute("tabIndex","-1"),i.appendChild(t.title),i.classList.add("ag-tab"),this.eHeader.appendChild(i),gl(i,t.titleLabel);var n={tabbedItem:t,eHeaderButton:i};this.items.push(n),i.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var i=this.items.find(function(n){return n.tabbedItem===t});i&&this.showItemWrapper(i)},e.prototype.showItemWrapper=function(t){var i=this,n=t.tabbedItem,o=t.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem===t){WT(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ir(this.eBody),n.bodyPromise.then(function(s){i.eBody.appendChild(s);var a=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,a),n.afterAttachedCallback&&n.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var l=n.getScrollableContainer&&n.getScrollableContainer()||s;i.lastScrollListener=i.addManagedListener(l,"scroll",function(){i.tabbedItemScrollMap.set(n.name,l.scrollTop)});var u=i.tabbedItemScrollMap.get(n.name);u!==void 0&&setTimeout(function(){l.scrollTop=u},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),o.classList.add("ag-tab-selected"),this.activeItem=t},Pp([M("focusService")],e.prototype,"focusService",void 0),Pp([pe("eHeader")],e.prototype,"eHeader",void 0),Pp([pe("eBody")],e.prototype,"eBody",void 0),Pp([we],e.prototype,"postConstruct",null),e})(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Tq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pq=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},uR=50,Oq=function(r){Tq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,i){var n=this,o=this.gridOptionsWrapper.getDocument(),s=o.defaultView||window,a=oa(i,uR),l=function(){var d=new s.ResizeObserver(a);return d.observe(t),function(){return d.disconnect()}},u=function(){var d=v_(t),p=m_(t),f=!0,m=function(){if(f){var g=v_(t),y=m_(t),C=g!==d||y!==p;C&&(d=g,p=y,i()),n.doNextPolyfillTurn(m)}};return m(),function(){return f=!1}},c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver(),h=!!s.ResizeObserver;return h&&!c?l():u()},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var i=function(){var n=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],n.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(i,uR)}},e=Pq([Ie("resizeObserverService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Aq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Dq=function(r){Aq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,i,n){this.verifyAnimationFrameOn(n);var o={task:t,index:i,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,i){t.list.push(i),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var i=this.scrollGoingDown?1:-1;t.list.sort(function(n,o){return n.index!==o.index?i*(o.index-n.index):o.createOrder-n.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var i=this.createTasksP1,n=i.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,h=this.ctrlsService.getGridBodyCtrl();c||u<t;){var d=h.getScrollFeature().executeAnimationFrameScroll();if(!d){var p=void 0;if(n.length)this.sortTaskList(i),p=n.pop().task;else if(s.length)this.sortTaskList(o),p=s.pop().task;else if(a.length)p=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}u=new Date().getTime()-l}n.length||s.length||a.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},e.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),i=this.gridOptionsWrapper.getDocument(),n=i.defaultView||window;n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var i=this,n=!1;return function(){if(!i.isOn()){i.getFrameworkOverrides().setTimeout(t,0);return}n||(n=!0,i.addDestroyTask(function(){n=!1,t()}))}},zv([M("ctrlsService")],e.prototype,"ctrlsService",void 0),zv([we],e.prototype,"init",null),e=zv([Ie("animationFrameService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Iq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ZP="ag-resizer-wrapper",Lq='<div class="'+ZP+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,Fq=function(r){Iq(e,r);function e(t,i){var n=r.call(this)||this;return n.element=t,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.lastSize={width:-1,height:-1},n.positioned=!1,n.resizersAdded=!1,n.resizeListeners=[],n.boundaryEl=null,n.isResizing=!1,n.isMoving=!1,n.resizable={},n.movable=!1,n.currentResizer=null,n.config=Object.assign({},{popup:!1},i),n}return e.prototype.center=function(){var t=this.offsetParent,i=t.clientHeight,n=t.clientWidth,o=n/2-this.getWidth()/2,s=i/2-this.getHeight()/2;this.offsetElement(o,s)},e.prototype.initialisePosition=function(){var t=this.config,i=t.centered,n=t.forcePopupParentAsOffsetParent,o=t.minWidth,s=t.width,a=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var h=0,d=0,p=!!this.element.offsetParent;if(p){var f=this.findBoundaryElement(),m=window.getComputedStyle(f);if(m.minWidth!=null){var g=f.offsetWidth-this.element.offsetWidth;d=parseInt(m.minWidth,10)-g}if(m.minHeight!=null){var y=f.offsetHeight-this.element.offsetHeight;h=parseInt(m.minHeight,10)-y}}if(this.minHeight=a||h,this.minWidth=o||d,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),i)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&n&&this.boundaryEl){var C=parseFloat(this.boundaryEl.style.top),w=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(w)?0:w,isNaN(C)?0:C)}this.positioned=!!this.offsetParent},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,i){if(!(!this.config.popup||t===this.movable)){this.movable=t;var n=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var i=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(n){var o=t,s=!!o[n],a=i.getResizerElement(n),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return i.onResizeStart(u,n)},onDragging:i.onResize.bind(i),onDragStop:function(u){return i.onResizeEnd(u,n)}};(!!i.resizable[n]!==s||!i.isAlive()&&!s)&&(s?(i.dragService.addDragSource(l),i.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",i.resizable[n]=s)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,i=t.height,n=t.width;n!==-1&&(this.element.style.width=n+"px"),i!==-1&&(this.element.style.height=i+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var i=this.config.popup,n=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Ka(n,t),t=sw(n),o=!0;else if(this.positioned){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect();t=Math.max(this.minHeight,t);var l=this.offsetParent.clientHeight,u=i?this.position.y:s.top,c=i?0:a.top;l&&t+u>l+c&&(t=l-u)}this.getHeight()!==t&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):i?Ka(n,t):(n.style.height=t+"px",n.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var i=this.element,n=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Mo(i,t),t=Kg(i),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var s=this.offsetParent.clientWidth,a=n?this.position.x:this.element.getBoundingClientRect().left;s&&t+a>s&&(t=s-a)}this.getWidth()!==t&&(o?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?Mo(i,t):(i.style.width=t+"px",i.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,i){t===void 0&&(t=0),i===void 0&&(i=0);var n=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:n,x:t,y:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable()}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top))},e.prototype.setPosition=function(t,i){this.position.x=t,this.position.y=i},e.prototype.updateDragStartPosition=function(t,i){this.dragStartPosition={x:t,y:i}},e.prototype.calculateMouseMovement=function(t){var i=t.e,n=t.isLeft,o=t.isTop,s=t.anywhereWithin,a=t.topBuffer,l=i.clientX-this.dragStartPosition.x,u=i.clientY-this.dragStartPosition.y,c=this.shouldSkipX(i,!!n,!!s,l)?0:l,h=this.shouldSkipY(i,!!o,a,u)?0:u;return{movementX:c,movementY:h}},e.prototype.shouldSkipX=function(t,i,n,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=t.clientX||a.right<=t.clientX&&a.right<=l.right;return c?!0:(i?c=o<0&&t.clientX>u+a.left||o>0&&t.clientX<u+a.left:n?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+a.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,i,n,o){n===void 0&&(n=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=t.clientY||a.bottom<=t.clientY&&a.bottom<=l.bottom;return c?!0:(i?c=o<0&&t.clientY>u+a.top+n||o>0&&t.clientY<u+a.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(!!t){var i=new DOMParser,n=i.parseFromString(Lq,"text/html").body;t.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+ZP);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");var n=this.config,o=n.popup,s=n.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,i=t.parentElement;return i?Array.prototype.slice.call(i.children).filter(function(n){return!n.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],i=0,n=0,o=0;o<t.length;o++){var s=t[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;i+=l,n+=u}}return{height:i,width:n}},e.prototype.applySizeToSiblings=function(t){var i=null,n=this.getSiblings();if(!!n){for(var o=0;o<n.length;o++){var s=n[o];s!==i&&(t?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(i=n[o+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var i=this.config,n=i.popup,o=i.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,h=l||c,d=u||a,p=this.calculateMouseMovement({e:t,isLeft:c,isTop:a}),f=p.movementX,m=p.movementY,g=this.position.x,y=this.position.y,C=0,w=0;if(h&&f){var S=c?-1:1,b=this.getWidth(),T=b+f*S,F=!1;c&&(C=b-T,(g+C<=0||T<=this.minWidth)&&(F=!0,C=0)),F||this.setWidth(T)}if(d&&m){var S=a?-1:1,R=this.getHeight(),P=R+m*S,G=!1;a?(w=R-P,(y+w<=0||P<=this.minHeight)&&(G=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<P&&this.getMinSizeOfSiblings().height+P>this.element.parentElement.offsetHeight&&(G=!0),G||this.setHeight(P)}this.updateDragStartPosition(t.clientX,t.clientY),((n||o)&&C||w)&&this.offsetElement(g+C,y+w)}},e.prototype.onResizeEnd=function(t,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent(n)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(!!this.isMoving){var i=this.position,n=i.x,o=i.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(n+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},cR([M("popupService")],e.prototype,"popupService",void 0),cR([M("dragService")],e.prototype,"dragService",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Nq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Gq=function(r){Nq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.centerRowContainerCtrl=i.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,i){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return i||o.push(n),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var i=this.getHeaderCellForColumn(t);return i?this.addElementsToContainerAndGetWidth([i]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var i=this,n=document.createElement("form");n.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();o.appendChild(n),t.forEach(function(l){return i.cloneItemIntoDummy(l,n)});var s=n.offsetWidth;o.removeChild(n);var a=this.gridOptionsWrapper.getAutoSizePadding();return s+a},e.prototype.getHeaderCellForColumn=function(t){var i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n){var o=n.getHtmlElementForColumnHeader(t);o!=null&&(i=o)}),i},e.prototype.cloneItemIntoDummy=function(t,i){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(d){return n.classList.contains(d)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(d){return l.classList.contains(d)});if(u){for(var c=0;c<l.classList.length;c++){var h=l.classList[c];h!="ag-row-position-absolute"&&s.add(h)}break}l=l.parentElement}o.appendChild(n),i.appendChild(o)},Lc([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Lc([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Lc([M("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Lc([we],e.prototype,"postConstruct",null),e=Lc([Ie("autoWidthCalculator")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Hq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Op=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Wq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vq=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},kq=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Vq(arguments[e]));return r},Bq=function(r){Hq(e,r);function e(t,i){var n=r.call(this)||this;return n.createRowCon=t,n.destroyRowCtrls=i,n.stickyRowCtrls=[],n.containerHeight=0,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.gridBodyCtrl=i.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=0;if(!this.gridOptionsWrapper.isGroupRowsSticky()){this.refreshNodesAndContainerHeight([],t);return}for(var i=[],n=this.rowRenderer.getFirstVisibleVerticalPixel(),o=function(d){i.push(d);for(var p=d;p.expanded;)p=Ut(p.childrenAfterSort);var f=p.rowTop+p.rowHeight,m=n+t+d.rowHeight;f<m?d.stickyRowTop=t+(f-m):d.stickyRowTop=t,t=0,i.forEach(function(g){var y=g.stickyRowTop+g.rowHeight;t<y&&(t=y)})};;){var s=n+t,a=this.rowModel.getRowIndexAtPixel(s),l=this.rowModel.getRow(a);if(l==null||l.level<0)break;for(var u=[],c=l.parent;c.level>=0;)u.push(c),c=c.parent;var h=u.reverse().find(function(d){return i.indexOf(d)<0&&d.displayed});if(h){o(h);continue}if(l.group&&l.expanded&&!l.footer&&l.rowTop<s){o(l);continue}break}this.refreshNodesAndContainerHeight(i,t)},e.prototype.refreshNodesAndContainerHeight=function(t,i){var n,o,s,a=this,l=this.stickyRowCtrls.filter(function(m){return t.indexOf(m.getRowNode())===-1}),u=t.filter(function(m){return a.stickyRowCtrls.findIndex(function(g){return g.getRowNode()===m})===-1}),c={};l.forEach(function(m){c[m.getRowNode().id]=m,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(g){return g!==m})});try{for(var h=Wq(Object.values(c)),d=h.next();!d.done;d=h.next()){var p=d.value;p.getRowNode().sticky=!1}}catch(m){n={error:m}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}this.destroyRowCtrls(c,!1);var f=u.map(function(m){return m.sticky=!0,a.createRowCon(m,!1,!1)});(s=this.stickyRowCtrls).push.apply(s,kq(f)),this.stickyRowCtrls.forEach(function(m){return m.setRowTop(m.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(m,g){return g.getRowNode().rowIndex-m.getRowNode().rowIndex}),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i))},Op([M("rowModel")],e.prototype,"rowModel",void 0),Op([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Op([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Op([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Uq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lr=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},zq=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},hR=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(zq(arguments[e]));return r},jq=function(r){Uq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){this.addManagedListener(this.eventService,A.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,A.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,A.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.rowModel.getType()!=k.ROW_MODEL_TYPE_CLIENT_SIDE?mt(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsWrapper.isTreeData()?mt(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new Bq(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var t=this.gridOptionsWrapper.getKeepDetailRowsCount(),i=t!=null?t:3;this.cachedRowCtrls=new $q(i)}},e.prototype.getRowCtrls=function(){return this.allRowCtrls},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=Yr(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&t.sort(function(o,s){return o.getRowNode().rowIndex-s.getRowNode.rowIndex});var i=Yr(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=hR(t,i,n)},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_CELL_FOCUSED,function(n){t.getAllCellCtrls().forEach(function(o){return o.onCellFocused(n)}),t.getFullWidthRowCtrls().forEach(function(o){o.onFullWidthRowFocused(n)})}),this.addManagedListener(this.eventService,A.EVENT_FLASH_CELLS,function(n){t.getAllCellCtrls().forEach(function(o){return o.onFlashCells(n)})}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})});var i=this.gridOptionsWrapper.isEnableRangeSelection();i&&(this.addManagedListener(this.eventService,A.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var i=this.columnModel.getAllGridColumns();!i||i.forEach(function(n){var o=function(h){t.getAllCellCtrls().forEach(function(d){d.getColumn()===n&&h(d)})},s=function(){o(function(h){return h.onLeftChanged()})},a=function(){o(function(h){return h.onWidthChanged()})},l=function(){o(function(h){return h.onFirstRightPinnedChanged()})},u=function(){o(function(h){return h.onLastLeftPinnedChanged()})},c=function(){o(function(h){return h.onColDefChanged()})};n.addEventListener(St.EVENT_LEFT_CHANGED,s),n.addEventListener(St.EVENT_WIDTH_CHANGED,a),n.addEventListener(St.EVENT_FIRST_RIGHT_PINNED_CHANGED,l),n.addEventListener(St.EVENT_LAST_LEFT_PINNED_CHANGED,u),n.addEventListener(St.EVENT_COL_DEF_CHANGED,c),t.destroyFuncsForColumnListeners.push(function(){n.removeEventListener(St.EVENT_LEFT_CHANGED,s),n.removeEventListener(St.EVENT_WIDTH_CHANGED,a),n.removeEventListener(St.EVENT_FIRST_RIGHT_PINNED_CHANGED,l),n.removeEventListener(St.EVENT_LAST_LEFT_PINNED_CHANGED,u),n.removeEventListener(St.EVENT_COL_DEF_CHANGED,c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT,i=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=i!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=i,n&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var i={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(i)},e.prototype.getAllCellsForColumn=function(t){var i=[];return this.getAllRowCtrls().forEach(function(n){var o=n.getCellElement(t);o&&i.push(o)}),i},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,i){var n=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,i&&i.forEach(function(o){var s=new qa(o,n.beans,!1,!1,n.printLayout);t.push(s)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.getRenderedIndexesForRowNodes=function(t){var i=[];return Ue(t)||Vt(this.rowCtrlsByRowIndex,function(n,o){var s=o.getRowNode();t.indexOf(s)>=0&&i.push(n)}),i},e.prototype.redrawRows=function(t){var i=t!=null&&t.length>0;if(i){var n=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(n)}this.redrawAfterModelUpdate({recycleRows:i})},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var i,n=!((i=t)===null||i===void 0)&&i.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var o=this.gridOptionsWrapper.getDocument(),s=o.activeElement,a=this.gridOptionsWrapper.getDomData(s,Xa.DOM_DATA_KEY_CELL_CTRL),l=this.gridOptionsWrapper.getDomData(s,qa.DOM_DATA_KEY_ROW_CTRL),u=a||l;return u?n:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var i=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var n=!this.printLayout&&!!t.recycleRows,o=t.animate&&this.gridOptionsWrapper.isAnimateRows(),s=n?this.recycleRows():null;n||this.removeAllRowComps();var a=function(){if(i==null||s==null)return!1;var u=!1;return Vt(s,function(c,h){var d=h.getRowNode(),p=d.rowIndex==i.rowIndex,f=d.rowPinned==i.rowPinned;p&&f&&(u=!0)}),u},l=a();this.redraw(s,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),l||this.restoreFocusedCell(i),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var i=t.newData||t.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();i&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(i){i.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){var t=[];return this.getAllRowCtrls().forEach(function(i){return t=t.concat(i.getAllCellCtrls())}),t},e.prototype.getAllRowCtrls=function(){var t=this,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],n=hR(this.topRowCtrls,this.bottomRowCtrls,i);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(o){return n.push(t.rowCtrlsByRowIndex[o])}),n},e.prototype.addRenderedRowListener=function(t,i,n){var o=this.rowCtrlsByRowIndex[i];o&&o.addEventListener(t,n)},e.prototype.flashCells=function(t){t===void 0&&(t={});var i=t.flashDelay,n=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.flashCell({flashDelay:i,fadeDelay:n})})},e.prototype.refreshCells=function(t){t===void 0&&(t={});var i={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(n){if(n.refreshShouldDestroy()){var o=n.getRowCtrl();o&&o.refreshCell(n)}else n.refreshCell(i)}),this.getFullWidthRowCtrls(t.rowNodes).forEach(function(n){n.refreshFullWidth()})},e.prototype.getCellRendererInstances=function(t){var i=this.getCellCtrls(t.rowNodes,t.columns).map(function(n){return n.getCellRenderer()}).filter(function(n){return n!=null});return i},e.prototype.getCellEditorInstances=function(t){var i=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(n){var o=n.getCellEditor();o&&i.push(o)}),i},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(i){if(i.isEditing()){var n=i.getCellPosition();t.push(n)}}),t},e.prototype.mapRowNodes=function(t){if(!!t){var i={top:{},bottom:{},normal:{}};return t.forEach(function(n){var o=n.id;n.rowPinned===k.PINNED_TOP?i.top[o]=n:n.rowPinned===k.PINNED_BOTTOM?i.bottom[o]=n:i.normal[o]=n}),i}},e.prototype.isRowInMap=function(t,i){var n=t.id,o=t.rowPinned;return o===k.PINNED_BOTTOM?i.bottom[n]!=null:o===k.PINNED_TOP?i.top[n]!=null:i.normal[n]!=null},e.prototype.getCellCtrls=function(t,i){var n=this,o=this.mapRowNodes(t),s=[],a;fe(i)&&(a={},i.forEach(function(u){var c=n.columnModel.getGridColumn(u);fe(c)&&(a[c.getId()]=!0)}));var l=function(u){var c=u.getRowNode();o!=null&&!n.isRowInMap(c,o)||u.getAllCellCtrls().forEach(function(h){var d=h.getColumn().getId(),p=a&&!a[d];p||s.push(h)})};return Vt(this.rowCtrlsByRowIndex,function(u,c){l(c)}),this.topRowCtrls&&this.topRowCtrls.forEach(l),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(l),s},e.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.recycleRows=function(){var t=[];Vt(this.rowCtrlsByRowIndex,function(n,o){var s=o.getRowNode().id==null;s&&t.push(n)}),this.removeRowCtrls(t);var i={};return Vt(this.rowCtrlsByRowIndex,function(n,o){var s=o.getRowNode();i[s.id]=o}),this.rowCtrlsByRowIndex={},i},e.prototype.removeRowCtrls=function(t){var i=this;t.forEach(function(n){var o=i.rowCtrlsByRowIndex[n];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete i.rowCtrlsByRowIndex[n]})},e.prototype.redrawAfterScroll=function(){var t;if(this.stickyRowFeature&&$g()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),t!=null){var i=this.getCellToRestoreFocusToAfterRefresh();t!=null&&i==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},e.prototype.removeRowCompsNotToDraw=function(t){var i={};t.forEach(function(s){return i[s]=!0});var n=Object.keys(this.rowCtrlsByRowIndex),o=n.filter(function(s){return!i[s]});this.removeRowCtrls(o)},e.prototype.calculateIndexesToDraw=function(t){var i=this,n=lP(this.firstRenderedRow,this.lastRenderedRow),o=function(s,a){var l=a.getRowNode().rowIndex;l!=null&&(l<i.firstRenderedRow||l>i.lastRenderedRow)&&i.doNotUnVirtualiseRow(a)&&n.push(l)};return Vt(this.rowCtrlsByRowIndex,o),Vt(t,o),n.sort(function(s,a){return s-a}),n=n.filter(function(s){var a=i.paginationProxy.getRow(s);return a&&!a.sticky}),n},e.prototype.redraw=function(t,i,n){var o=this;i===void 0&&(i=!1),n===void 0&&(n=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var s=this.calculateIndexesToDraw(t);if(this.removeRowCompsNotToDraw(s),this.printLayout&&(i=!1),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,i,n);fe(u)}),t){var a=n&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,i),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,i)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(){var t={type:A.EVENT_DISPLAYED_ROWS_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight(),n=this.pinningLeft!==t||i!==this.pinningRight;n&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(i){var n=i.getRowNode().rowIndex;t.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},e.prototype.getFullWidthRowCtrls=function(t){var i=this,n=this.mapRowNodes(t);return Yr(this.rowCtrlsByRowIndex).filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(n!=null&&!i.isRowInMap(s,n))})},e.prototype.refreshFullWidthRows=function(t){var i=[],n=!!t,o=n?{}:void 0;n&&o&&t.forEach(function(s){return o[s.id]=!0}),this.getFullWidthRowCtrls().forEach(function(s){var a=s.getRowNode();if(n&&o){var l=a.level>0&&a.parent?a.parent.id:void 0,u=!o[a.id]&&!o[l];if(u)return}var c=s.refreshFullWidth();if(!c){var h=s.getRowNode().rowIndex;i.push(h.toString())}}),this.removeRowCtrls(i),this.redrawAfterScroll()},e.prototype.createOrUpdateRowCtrl=function(t,i,n,o){var s,a=this.rowCtrlsByRowIndex[t];a||(s=this.paginationProxy.getRow(t),fe(s)&&fe(i)&&i[s.id]&&s.alreadyRendered&&(a=i[s.id],i[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(t)),fe(s))a=this.createRowCon(s,n,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=a,a},e.prototype.destroyRowCtrls=function(t,i){var n=this,o=[];Vt(t,function(s,a){if(!!a){if(n.cachedRowCtrls&&a.isCacheable()){n.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(),i?(n.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete n.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),i&&(o.push(function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()}),NT(o))},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,i;if(!this.paginationProxy.isRowsToRender())t=0,i=-1;else if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var n=this.gridOptionsWrapper.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsWrapper.isSuppressRowVirtualisation(),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),h=this.paginationProxy.getCurrentPagePixelRange(),d=h.pageFirstPixel,p=h.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),m=o.getScrollFeature().getVScrollPosition(),g=m.top,y=m.bottom;s?(l=d+f,u=p+f):(l=Math.max(g+c-n,d)+f,u=Math.min(y+c+n,p)+f),this.firstVisibleVPixel=Math.max(g+c,d)+f,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var C=this.paginationProxy.getRowIndexAtPixel(l),w=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),b=this.paginationProxy.getPageLastRow();C<S&&(C=S),w>b&&(w=b),t=C,i=w}var T=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_NORMAL,F=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),R=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);T&&!F&&i-t>R&&(i=t+R);var P=t!==this.firstRenderedRow,G=i!==this.lastRenderedRow;if(P||G){this.firstRenderedRow=t,this.lastRenderedRow=i;var q={type:A.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:i};this.eventService.dispatchEvent(q)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var i={type:A.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(i)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,i){var n=this.paginationProxy.ensureRowHeightsValid(t,i,-1,-1);return n&&this.updateContainerHeights(),n},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var i=!1,n=!0,o=t.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=t.isEditing(),l=o.detail,u=s||a||l;if(!u)return i;var c=this.paginationProxy.isRowPresent(o);return c?n:i},e.prototype.createRowCon=function(t,i,n){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var s=this.gridOptionsWrapper.isSuppressAnimationFrame(),a=n&&!s&&!this.printLayout,l=new qa(t,this.beans,i,a,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(i){return t[i].getRowNode()})},e.prototype.getRowByPosition=function(t){var i,n=t.rowIndex;switch(t.rowPinned){case k.PINNED_TOP:i=this.topRowCtrls[n];break;case k.PINNED_BOTTOM:i=this.bottomRowCtrls[n];break;default:i=this.rowCtrlsByRowIndex[n],i||(i=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===n})||null);break}return i},e.prototype.getRowNode=function(t){switch(t.rowPinned){case k.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case k.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,i){var n=t==null||i==null;if(n)return!1;var o=t>this.lastRenderedRow,s=i<this.firstRenderedRow,a=!s&&!o;return a},Lr([M("animationFrameService")],e.prototype,"animationFrameService",void 0),Lr([M("paginationProxy")],e.prototype,"paginationProxy",void 0),Lr([M("columnModel")],e.prototype,"columnModel",void 0),Lr([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Lr([M("rowModel")],e.prototype,"rowModel",void 0),Lr([M("focusService")],e.prototype,"focusService",void 0),Lr([M("beans")],e.prototype,"beans",void 0),Lr([M("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Lr([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Lr([we],e.prototype,"postConstruct",null),e=Lr([Ie("rowRenderer")],e),e}(me),$q=function(){function r(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return r.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},r.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var i=t.getRowNode()!=e;return i?null:t},r.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],hn(this.entriesList,e)},r.prototype.getEntries=function(){return this.entriesList},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Yq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Kq=function(r){Yq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.formatValue=function(t,i,n,o,s){s===void 0&&(s=!0);var a=null,l,u=t.getColDef();if(o?l=o:s&&(l=i&&i.rowPinned&&u.pinnedRowValueFormatter?u.pinnedRowValueFormatter:u.valueFormatter),l){var c={value:n,node:i,data:i?i.data:null,colDef:u,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[n]||"";return a==null&&Array.isArray(n)&&(a=n.join(", ")),a},dR([M("expressionService")],e.prototype,"expressionService",void 0),e=dR([Ie("valueFormatterService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Xq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qq=function(r){Xq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(t){var i=t===k.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;return Xn(i)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,i){var n=i===k.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Xn(n))return 0;for(var o=0;o<n.length;o++){var s=n[o],a=s.rowTop+s.rowHeight-1;if(a>=t)return o}return n.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var i={type:A.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var i={type:A.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.createNodesFromData=function(t,i){var n=this,o=[];if(t){var s=0;t.forEach(function(a,l){var u=new pt(n.beans);u.data=a;var c=i?pt.ID_PREFIX_TOP_PINNED:pt.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=i?k.PINNED_TOP:k.PINNED_BOTTOM,u.setRowTop(s),u.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){Xn(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){Xn(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var i=Ut(t);return i.rowTop+i.rowHeight},jv([M("beans")],e.prototype,"beans",void 0),jv([we],e.prototype,"init",null),e=jv([Ie("pinnedRowModel")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pR;(function(r){r.Applied="Applied",r.StoreNotFound="StoreNotFound",r.StoreLoading="StoreLoading",r.StoreWaitingToLoad="StoreWaitingToLoad",r.StoreLoadingFailed="StoreLoadingFailed",r.StoreWrongType="StoreWrongType",r.Cancelled="Cancelled"})(pR||(pR={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Dw=function(){function r(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)},r.prototype.depthFirstSearchEverything=function(e,t,i){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var o=e.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(o)}t(e)},r.prototype.forEachChangedNodeDepthFirst=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},r.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},r.prototype.createPathItems=function(e){for(var t=e,i=0;!this.mapToItems[t.id];){var n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i},r.prototype.populateColumnsMap=function(e,t){var i=this;if(!(!this.keepingColumns||!t))for(var n=e;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(function(o){return i.nodeIdsToColumns[n.id][o.getId()]=!0}),n=n.parent},r.prototype.linkPathItems=function(e,t){for(var i=e,n=0;n<t;n++){var o=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(o),i=i.parent}},r.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}},r.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},r.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var i=this.nodeIdsToColumns[e.id],n=t.filter(function(o){return i[o.getId()]});return n},r.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[e.id],n=t.filter(function(o){return!i[o.getId()]});return n},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Zq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),T_=function(r){Zq(e,r);function e(t){var i=r.call(this)||this;return i.state=e.STATE_WAITING_TO_LOAD,i.version=0,i.id=t,i}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var i=this.isRequestMostRecentAndLive(t);i&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,i){this.successCommon(t,i)},e.prototype.pageLoaded=function(t,i,n){this.successCommon(t,{rowData:i,rowCount:n})},e.prototype.isRequestMostRecentAndLive=function(t){var i=t===this.version,n=this.isAlive();return i&&n},e.prototype.successCommon=function(t,i){this.dispatchLoadCompleted();var n=this.isRequestMostRecentAndLive(t);n&&(this.state=e.STATE_LOADED,this.processServerResult(i))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var i={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(i)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Jq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$v=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qq=function(r,e){return function(t,i){e(t,i,r)}},eZ=function(r){Jq(e,r);function e(){var i=r!==null&&r.apply(this,arguments)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var i=this.gridOptionsWrapper.getBlockLoadDebounceMillis();i&&i>0&&(this.checkBlockToLoadDebounce=Ze.debounce(this.performCheckBlocksToLoad.bind(this),i))},e.prototype.setBeans=function(i){this.logger=i.create("RowNodeBlockLoader")},e.prototype.addBlock=function(i){this.blocks.push(i),i.addEventListener(T_.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(i){Ze.removeFromArray(this.blocks,i)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(!!this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var i=this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,n=this.blocks.filter(function(o){return o.getState()===T_.STATE_WAITING_TO_LOAD}).slice(0,i);this.activeBlockLoadsCount+=n.length,n.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){var i={};return this.blocks.forEach(function(n){var o=n.getBlockStateJson(),s=o.id,a=o.state;i[s]=a}),i},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0};var t;return e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",$v([we],e.prototype,"postConstruct",null),$v([Qq(0,bn("loggerFactory"))],e.prototype,"setBeans",null),e=t=$v([Ie("rowNodeBlockLoader")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var tZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},iZ=function(r){tZ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,i,n,o){var s=this.rowModel.ensureRowHeightsValid(t,i,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},e.prototype.onModelUpdated=function(t){this.calculatePages();var i={type:A.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(i)},e.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var t={type:A.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t)){this.currentPage=t;var i={type:A.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(i)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return Ue(this.topRowBounds)||Ue(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,i=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:i}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var i=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return i},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(t,i){return this.rowModel.getNodesInRangeForSelection(t,i)},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var i=this.rowModel.getRowBounds(t);return i.rowIndex=t,i},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(!!this.active){var i=this.getPageForIndex(t);this.goToPage(i)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var i=this.getPageForIndex(t.rowIndex);return i===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),i=Math.floor(t/this.pageSize);this.goToPage(i)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(fe(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!$f(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var i=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(i),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!$f(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Yv([M("rowModel")],e.prototype,"rowModel",void 0),Yv([we],e.prototype,"postConstruct",null),e=Yv([Ie("paginationProxy")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},rZ=function(r){nZ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,i,n,o){this.processClassRules(t.cellClassRules,i,n,o),this.processStaticCellClasses(t,i,n)},e.prototype.processClassRules=function(t,i,n,o){if(t!=null){for(var s=Object.keys(t),a={},l={},u=function(d){var p=s[d],f=t[p],m;typeof f=="string"?m=c.expressionService.evaluate(f,i):typeof f=="function"&&(m=f(i)),p.split(" ").forEach(function(g){g==null||g.trim()==""||(m?a[g]=!0:l[g]=!0)})},c=this,h=0;h<s.length;h++)u(h);o&&Object.keys(l).forEach(o),Object.keys(a).forEach(n)}},e.prototype.getStaticCellClasses=function(t,i){var n=t.cellClass;if(!n)return[];var o;if(typeof n=="function"){var s=n;o=s(i)}else o=n;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,i,n){var o=this.getStaticCellClasses(t,i);o.forEach(function(s){n(s)})},fR([M("expressionService")],e.prototype,"expressionService",void 0),e=fR([Ie("stylingService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var oZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sZ=function(r){oZ(e,r);function e(t){return r.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,A.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(Wh);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var aZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lZ=function(r){aZ(e,r);function e(t){return r.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,i){return r.prototype.setValue.call(this,t,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(Wh);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),JP=function(r){uZ(e,r);function e(t,i,n){return i===void 0&&(i="ag-text-field"),n===void 0&&(n="text"),r.call(this,t,i,n)||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,i){var n=r.prototype.setValue.call(this,t,i);return this.eInput.value!==t&&(this.eInput.value=fe(t)?t:""),n},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]"),i=function(n){n.key&&!t.test(n.key)&&n.preventDefault()};this.addManagedListener(this.eInput,"keypress",i),this.addManagedListener(this.eInput,"paste",function(n){var o,s=(o=n.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!t.test(a)})&&n.preventDefault()})},e}(Zo);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hZ=function(r){cZ(e,r);function e(t){return r.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,i){var n=r.prototype.setValue.call(this,t,i);return this.eInput.value=t,n},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Zo);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var dZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),pZ=function(r){dZ(e,r);function e(t){return r.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var i=parseFloat(t.eInput.value),n=isNaN(i)?"":t.normalizeValue(i.toString());t.value!==n&&t.setValue(n)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision&&(t=this.adjustPrecision(t));var i=parseFloat(t);return this.min!=null&&i<this.min?t=this.min.toString():this.max!=null&&i>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var i=parseFloat(t).toFixed(this.precision);t=parseFloat(i).toString()}return t},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,ch(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,ch(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,ch(this.eInput,"step",t),this)},e.prototype.setValue=function(t,i){t=this.adjustPrecision(t);var n=this.normalizeValue(t);return t!=n?this:r.prototype.setValue.call(this,t,i)},e}(JP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gZ=function(r){fZ(e,r);function e(t){return r.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var t=this.config,i=t.min,n=t.max,o=t.step;i!=null&&this.setMinValue(i),n!=null&&this.setMaxValue(n),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(i){var n=i.target.value;t.setValue(n)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,i){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var n=r.prototype.setValue.call(this,t,i);return this.eInput.value=t,n},e}(Zo);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var mZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ap=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vZ=function(r){mZ(e,r);function e(t){var i=r.call(this,t,e.TEMPLATE)||this;return i.labelAlignment="top",i}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var i=this,n=is.EVENT_CHANGED;return this.addManagedListener(this.eText,n,function(){var o=parseFloat(i.eText.getValue());i.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,n,function(){var o=i.eSlider.getValue();i.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:is.EVENT_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,Ap([pe("eLabel")],e.prototype,"eLabel",void 0),Ap([pe("eSlider")],e.prototype,"eSlider",void 0),Ap([pe("eText")],e.prototype,"eText",void 0),Ap([we],e.prototype,"init",null),e}(Ew);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},_Z=function(r){yZ(e,r);function e(t){var i=r.call(this,t,e.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(i){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(i){return t.calculateAngleDrag(i)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(i){(i==null||i==="")&&(i="0"),i=t.eAngleValue.normalizeValue(i);var n=parseFloat(i);n>180&&(n=n-360),t.setValue(n)}),this.updateNumberInput(),fe(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,is.EVENT_CHANGED,function(){var i=t.gridOptionsWrapper.getDocument();t.eAngleValue.getInputElement().contains(i.activeElement)||t.updateNumberInput()})},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var i=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,o=i.width/2,s=i.height/2;n.style.left=o+Math.cos(t)*8+"px",n.style.top=s+Math.sin(t)*8+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,i=this.offsetY,n=Math.atan2(i,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+i*i),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),i=this.getRadius();this.setOffsetX(Math.cos(t)*i).setOffsetY(Math.sin(t)*i)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var i=this.parentCircleRect,n=i.width/2,o=i.height/2,s=t.clientX-i.left,a=t.clientY-i.top,l=s-n,u=a-o,c=Math.atan2(u,l);this.setValue(c,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return t%=Math.PI*2,t<-Math.PI?t+=Math.PI*2:t>=Math.PI&&(t-=Math.PI*2),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t?this:(this.radius=t,this.calculateCartesian(),this)},e.prototype.onValueChange=function(t){var i=this;return this.addManagedListener(this,is.EVENT_CHANGED,function(){t(i.degrees)}),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,i){var n;return i?n=t:n=this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:is.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return Mo(this.getGui(),t),this},e.prototype.setDisabled=function(t){return r.prototype.setDisabled.call(this,t),this.eAngleValue.setDisabled(t),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),r.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,Fc([pe("eLabel")],e.prototype,"eLabel",void 0),Fc([pe("eParentCircle")],e.prototype,"eParentCircle",void 0),Fc([pe("eChildCircle")],e.prototype,"eChildCircle",void 0),Fc([pe("eAngleValue")],e.prototype,"eAngleValue",void 0),Fc([M("dragService")],e.prototype,"dragService",void 0),e}(Ew);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vo=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wZ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},SZ=function(r){CZ(e,r);function e(t){var i=r.call(this,e.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=t.picker,i}return e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var i=this.spectrumValRect;if(i){var n=t.clientX-i.left,o=t.clientY-i.top;n=Math.max(n,0),n=Math.min(n,i.width),o=Math.max(o,0),o=Math.min(o,i.height),this.setSpectrumValue(n/i.width,1-o/i.height)}},e.prototype.moveHueSlider=function(t){var i=this.spectrumHueRect;if(i){var n=this.spectrumHueSlider,o=n.getBoundingClientRect(),s=t.clientX-i.left;s=Math.max(s,0),s=Math.min(s,i.width),this.H=1-s/i.width,n.style.left=s+o.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var i=this.spectrumAlphaRect;if(i){var n=this.spectrumAlphaSlider,o=n.getBoundingClientRect(),s=t.clientX-i.left;s=Math.max(s,0),s=Math.min(s,i.width),this.A=s/i.width,n.style.left=s+o.width/2+"px",this.update()}},e.prototype.update=function(){var t=xc.fromHSB(this.H*360,this.S,this.B,this.A),i=xc.fromHSB(this.H*360,1,1),n=t.toRgbaString(),o=this.picker,s=xc.fromString(o.getValue());s.toRgbaString()!==n&&(this.colorChanged=!0),o.setValue(n),this.spectrumColor.style.backgroundColor=i.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,i){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var o=this.spectrumDragger,s=o.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),i=Math.max(0,i),i=Math.min(1,i),this.S=t,this.B=i,o.style.left=t*n.width-s.width/2+"px",o.style.top=(1-i)*n.height-s.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors,i=t.map(function(n,o){return'<div class="ag-recent-color" id='+o+' style="background-color: '+n+'; width: 15px; height: 15px;" recent-color="'+n+'"></div>'});this.recentColors.innerHTML=i.join("")},e.prototype.setValue=function(t){var i=xc.fromString(t),n=wZ(i.toHSB(),3),o=n[0],s=n[1],a=n[2];this.H=(isNaN(o)?0:o)/360,this.A=i.a;var l=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-l.width+"px",this.spectrumAlphaSlider.style.left=this.A*u.width+"px",this.setSpectrumValue(s,a)},e.prototype.onRecentColorClick=function(t){var i=t.target;if(!!fe(i.id)){var n=parseInt(i.id,10);this.setValue(e.recentColors[n]),this.destroy()}},e.prototype.addRecentColor=function(){var t=xc.fromHSB(this.H*360,this.S,this.B,this.A),i=t.toRgbaString(),n=e.recentColors;!this.colorChanged||n[0]===i||(n=n.filter(function(o){return o!=i}),n=[i].concat(n),n.length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){this.addRecentColor(),r.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE=`<div class="ag-color-panel">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,Vo([pe("spectrumColor")],e.prototype,"spectrumColor",void 0),Vo([pe("spectrumVal")],e.prototype,"spectrumVal",void 0),Vo([pe("spectrumDragger")],e.prototype,"spectrumDragger",void 0),Vo([pe("spectrumHue")],e.prototype,"spectrumHue",void 0),Vo([pe("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),Vo([pe("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),Vo([pe("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),Vo([pe("recentColors")],e.prototype,"recentColors",void 0),Vo([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var EZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QP=function(r){EZ(e,r);function e(t){var i=r.call(this,e.getTemplate(t))||this;return i.closable=!0,i.config=t,i}return e.getTemplate=function(t){var i=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+i+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+i+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+i+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+i+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+i+`-panel-content-wrapper"></div>
        </div>`},e.prototype.postConstruct=function(){var t=this,i=this.config,n=i.component,o=i.closable,s=i.hideTitleBar,a=i.title,l=i.minWidth,u=l===void 0?250:l,c=i.width,h=i.minHeight,d=h===void 0?250:h,p=i.height,f=i.centered,m=i.popup,g=i.x,y=i.y;this.positionableFeature=new Fq(this.getGui(),{minWidth:u,width:c,minHeight:d,height:p,centered:f,x:g,y,popup:m,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var C=this.getGui();n&&this.setBodyComponent(n),s?this.eTitleBar.classList.add("ag-hidden"):(a&&this.setTitle(a),this.setClosable(o!=null?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(w){var S=t.gridOptionsWrapper.getDocument();if(C.contains(w.relatedTarget)||C.contains(S.activeElement)||t.eTitleBarButtons.contains(w.target)){w.preventDefault();return}var b=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");b&&b.focus()}),!(m&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,i=this.getGui();i.focus(),this.close=function(){i.parentElement.removeChild(i),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var i=this.closeButtonComp=new ct(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var n=i.getGui(),o=Ti("close",this.gridOptionsWrapper);o.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(o),this.addTitleBarButton(i),i.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var n=this.closeButtonComp.getGui();n.parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,i){var n=this.eTitleBarButtons,o=n.children,s=o.length;i==null&&(i=s),i=Math.max(0,Math.min(i,s)),t.addCssClass("ag-panel-title-bar-button");var a=t.getGui();i===0?n.insertAdjacentElement("afterbegin",a):i===s?n.insertAdjacentElement("beforeend",a):o[i-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return ld(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return Yg(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),r.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Nc([pe("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Nc([pe("eTitleBar")],e.prototype,"eTitleBar",void 0),Nc([pe("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Nc([pe("eTitle")],e.prototype,"eTitle",void 0),Nc([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var xZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),og=function(){return og=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},og.apply(this,arguments)},RZ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eO=function(r){xZ(e,r);function e(t){var i=r.call(this,og(og({},t),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),n=this.config,o=n.movable,s=n.resizable,a=n.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",function(l){i.contains(l.relatedTarget)||t.popupService.bringPopupToFront(i)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},e.prototype.renderComponent=function(){var t=this.getGui(),i=this.config,n=i.alwaysOnTop,o=i.modal,s=i.title,a=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:s||a("ariaLabelDialog","Dialog")});l&&(this.close=l.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var i=this.lastPosition,n=i.x,o=i.y,s=i.width,a=i.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(n,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){qt(this.maximizeIcon,!this.isMaximized),qt(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var i=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var n=this.eTitleBar;if(!(!n||t===this.isMaximizable)){var o=this.maximizeButtonComp=this.createBean(new ct('<div class="ag-dialog-button"></span>')),s=o.getGui();s.appendChild(this.maximizeIcon=Ti("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),s.appendChild(this.minimizeIcon=Ti("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),o.addManagedListener(s,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){i.isMaximized=!1,i.refreshMaximizeIcon()})}},RZ([M("popupService")],e.prototype,"popupService",void 0),e}(QP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),MZ=function(r){bZ(e,r);function e(t){var i=r.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(i.value=t.color),i}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,i=this.getGui().getBoundingClientRect(),n=this.createBean(new eO({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:i.right-190,y:i.top-250}));this.isPickerDisplayed=!0,n.addCssClass("ag-color-dialog"),Jn(this.eWrapper,!0);var o=this.createBean(new SZ({picker:this}));return o.addDestroyFunc(function(){n.isAlive()&&t.destroyBean(n)}),n.setParentComponent(this),n.setBodyComponent(o),o.setValue(this.getValue()),n.addDestroyFunc(function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,o.isAlive()&&t.destroyBean(o)),t.isAlive()&&(Jn(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1}),n},e.prototype.setValue=function(t){return this.value===t?this:(this.eDisplayField.style.backgroundColor=t,r.prototype.setValue.call(this,t))},e.prototype.getValue=function(){return this.value},e}(GP);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var TZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bs=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},PZ=function(r){TZ(e,r);function e(t){t===void 0&&(t={});var i=r.call(this,e.getTemplate(t))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var n=t.title,o=t.enabled,s=t.items,a=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return i.title=n,i.cssIdentifier=t.cssIdentifier||"default",i.enabled=o!=null?o:!0,i.items=s||[],i.alignItems=t.alignItems||"center",a!=null&&(i.suppressEnabledCheckbox=a),l!=null&&(i.suppressOpenCloseIcons=l),i}return e.getTemplate=function(t){var i=t.cssIdentifier||"default",n=t.direction||"vertical";return'<div class="ag-group ag-'+i+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+i+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+i+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+i+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+i+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+i+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+n+" ag-"+i+`-group-container"></div>
        </div>`},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var i=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(i("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(fr("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(fr("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(i){switch(i.key){case de.ENTER:case de.SPACE:i.preventDefault(),t.toggleGroupExpand();break;case de.RIGHT:case de.LEFT:i.preventDefault(),t.toggleGroupExpand(i.key===de.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Jn(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;qt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),qt(this.eGroupOpenedIcon,t&&this.expanded),qt(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var i="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(i),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),qt(this.eContainer,!0),this):(t=t!=null?t:!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),qt(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var i=this;t.forEach(function(n){return i.addItem(n)})},e.prototype.addItem=function(t){var i=this.eContainer,n=t instanceof ct?t.getGui():t;n.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),i.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,i){var n=this.items[i];n.classList.toggle("ag-hidden",t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,i){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),i||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var i=this;return this.cbGroupEnabled.onValueChange(function(n){i.setEnabled(n,!0),t(n)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",bs([pe("eTitleBar")],e.prototype,"eTitleBar",void 0),bs([pe("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),bs([pe("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),bs([pe("eToolbar")],e.prototype,"eToolbar",void 0),bs([pe("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),bs([pe("eTitle")],e.prototype,"eTitle",void 0),bs([pe("eContainer")],e.prototype,"eContainer",void 0),bs([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var OZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},AZ=function(r){OZ(e,r);function e(t){var i=r.call(this)||this;i.skipTabGuardFocus=!1;var n=t.comp,o=t.eTopGuard,s=t.eBottomGuard,a=t.focusInnerElement,l=t.onFocusIn,u=t.onFocusOut,c=t.shouldStopEventPropagation,h=t.onTabKeyDown,d=t.handleKeyDown,p=t.eFocusableElement;return i.comp=n,i.eTopGuard=o,i.eBottomGuard=s,i.providedFocusInnerElement=a,i.eFocusableElement=p,i.providedFocusIn=l,i.providedFocusOut=u,i.providedShouldStopEventPropagation=c,i.providedOnTabKeyDown=h,i.providedHandleKeyDown=d,i}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new ha(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)},onFocusIn:function(i){return t.onFocusIn(i)},onFocusOut:function(i){return t.onFocusOut(i)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(i){return t.addManagedListener(i,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var i=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var i=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!t.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);n&&setTimeout(function(){return i.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[t?i.length-1:0].focus()},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1);var i=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,i.focus()},gR([M("focusService")],e.prototype,"focusService",void 0),gR([we],e.prototype,"postConstruct",null),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),IZ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},LZ=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(IZ(arguments[e]));return r},Zg=function(r){DZ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var i=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(o){i.forEach(function(s){return o!=null?s.setAttribute("tabIndex",o):s.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new AZ({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var i=document.createElement("div");return i.classList.add("ag-tab-guard","ag-tab-guard-"+t),yn(i,"presentation"),i},e.prototype.addTabGuards=function(t,i){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",i)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];ir(this.getFocusableElement()),this.addTabGuards.apply(this,LZ(t))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,i){cd(t)||(t=t.getGui());var n=this.eBottomGuard;n?n.insertAdjacentElement("beforebegin",t):r.prototype.appendChild.call(this,t,i)},e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sg=function(){return sg=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},sg.apply(this,arguments)},mR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},NZ=function(r){FZ(e,r);function e(t){t===void 0&&(t=1);var i=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=t,i.menuItems=[],i}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)}})},e.prototype.onTabKeyDown=function(t){var i=this.getParentComponent(),n=i&&i.getGui(),o=n&&n.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case de.UP:case de.RIGHT:case de.DOWN:case de.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case de.ESCAPE:var i=this.findTopMenu();i&&this.focusService.focusInto(i.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var i=this;t!=null&&t.forEach(function(n){n==="separator"?i.addSeparator():typeof n=="string"?console.warn("AG Grid: unrecognised menu item "+n):i.addItem(n)})},e.prototype.addItem=function(t){var i=this,n=this.createManagedBean(new Gc(sg(sg({},t),{isAnotherSubMenuOpen:function(){return i.menuItems.some(function(o){return o.isSubMenuOpen()})}})));n.setParentComponent(this),wP(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,Gc.EVENT_MENU_ITEM_SELECTED,function(o){i.dispatchEvent(o)}),this.addManagedListener(n,Gc.EVENT_MENU_ITEM_ACTIVATED,function(o){i.activeMenuItem&&i.activeMenuItem!==o.menuItem&&i.activeMenuItem.deactivate(),i.activeMenuItem=o.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(i){return!i.isDisabled()})[0];!t||t.activate()},e.prototype.addSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(ji(t))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var i=t&&t.getParentComponent&&t.getParentComponent();if(!i||!(i instanceof e||i instanceof Gc))break;t=i}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case de.UP:case de.DOWN:var i=this.findNextItem(t===de.UP);i&&i!==this.activeMenuItem&&i.activate();return}var n=this.gridOptionsWrapper.isEnableRtl()?de.RIGHT:de.LEFT;t===n?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var i=this.getParentComponent();i&&i instanceof Gc&&(t&&t.preventDefault(),i.closeSubMenu(),i.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var i=this.menuItems.filter(function(l){return!l.isDisabled()});if(!!i.length){if(!this.activeMenuItem)return t?Ut(i):i[0];t&&i.reverse();for(var n,o=!1,s=0;s<i.length;s++){var a=i[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}n=a;break}return n||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},mR([M("focusService")],e.prototype,"focusService",void 0),mR([we],e.prototype,"postConstruct",null),e}(Zg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),HZ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},WZ=function(r){GZ(e,r);function e(t){var i=r.call(this)||this;return i.wrappedComponent=t,i.setTemplateFromElement(t.getGui()),i}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)}})},e.prototype.handleKeyDown=function(t){t.key===de.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},HZ([we],e.prototype,"postConstruct",null),e}(Zg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var VZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Gc=function(r){VZ(e,r);function e(t){var i=r.call(this)||this;return i.params=t,i.isActive=!1,i.subMenuIsOpen=!1,i.setTemplate('<div class="'+i.getClassName()+'" tabindex="-1" role="treeitem"></div>'),i}return e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var i=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),fw(i,!0)):(this.addGuiEventListener("click",function(n){return t.onItemSelected(n)}),this.addGuiEventListener("keydown",function(n){(n.key===de.ENTER||n.key===de.SPACE)&&(n.preventDefault(),t.onItemSelected(n))}),this.addGuiEventListener("mousedown",function(n){n.stopPropagation(),n.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(n){return t.addCssClass(n)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var i=this;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){var n=ji('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=yP(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new NZ(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),n.appendChild(l.getGui()),this.addManagedListener(l,e.EVENT_MENU_ITEM_SELECTED,function(C){return i.dispatchEvent(C)}),l.addGuiEventListener("mouseenter",function(){return i.cancelDeactivate()}),o=function(){return i.destroyBean(l)},t&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new WZ(u));c.setParentComponent(this);var h=c.getGui(),d="mouseenter",p=function(){return i.cancelDeactivate()};h.addEventListener(d,p),o=function(){return h.removeEventListener(d,p)},n.appendChild(h),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var f=this.getGui(),m=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:f,ePopup:n}),g=this.gridOptionsWrapper.getLocaleTextFunc(),y=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:m,anchorToElement:f,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Jn(f,!0),this.hideSubMenu=function(){y&&y.hideFunc(),i.subMenuIsOpen=!1,Jn(f,!1),o()}}},e.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Jn(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var i=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){i.isAlive()&&i.isActive&&i.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var t=ji('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(Ti("check",this.gridOptionsWrapper)):this.params.icon&&(cd(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var t=ji('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Sw(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var t=ji('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var t=ji('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),i=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Jn(i,!1),t.appendChild(Ti(n,this.gridOptionsWrapper))}i.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var i={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(i)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?i+"-"+t:i},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,vR([M("popupService")],e.prototype,"popupService",void 0),vR([we],e.prototype,"init",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),to=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},BZ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},UZ=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(BZ(arguments[e]));return r},ph=function(r){kZ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(i,n){var o=t.instancesMonitored.get(i);o&&o.length>0?o.indexOf(n)===-1&&o.push(n):(t.instancesMonitored.set(i,[n]),i.addEventListener("keydown",t.toggleKeyboardMode),i.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(i,n){var o=t.instancesMonitored.get(i),s=[];o&&o.length&&(s=UZ(o).filter(function(a){return a!==n}),t.instancesMonitored.set(i,s)),s.length===0&&(i.removeEventListener("keydown",t.toggleKeyboardMode),i.removeEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(i){var n=t.keyboardModeActive,o=i.type==="keydown";if(!(o&&(i.ctrlKey||i.metaKey||i.altKey))&&!(n&&o||!n&&!o)){t.keyboardModeActive=o;var s=i.target.ownerDocument;if(!!s){var a=t.instancesMonitored.get(s);a&&a.forEach(function(l){l.dispatchEvent({type:o?A.EVENT_KEYBOARD_FOCUS:A.EVENT_MOUSE_FOCUS})})}}},e.prototype.init=function(){var i=this,n=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_GROUP_OPENED,n),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.ctrlsService.whenReady(function(o){i.gridCtrl=o.gridCtrl;var s=i.gridOptionsWrapper.getDocument();t.addKeyboardModeEvents(s,i.gridCtrl),i.addDestroyFunc(function(){return i.unregisterGridCompController(i.gridCtrl)})})},e.prototype.unregisterGridCompController=function(i){var n=this.gridOptionsWrapper.getDocument();t.removeKeyboardModeEvents(n,i)},e.prototype.onColumnEverythingChanged=function(){if(!!this.focusedCellPosition){var i=this.focusedCellPosition.column,n=this.columnModel.getGridColumn(i.getId());i!==n&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var i=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(i.activeElement,qa.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var i=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(i.activeElement,qg.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(i,n){for(var o=i;o;){var s=this.gridOptionsWrapper.getDomData(o,n);if(s)return!1;o=o.parentNode}return!0},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.setFocusedCell=function(i){var n=i.column,o=i.rowIndex,s=i.rowPinned,a=i.forceBrowserFocus,l=a===void 0?!1:a,u=i.preventScrollOnBrowserFocus,c=u===void 0?!1:u,h=this.columnModel.getGridColumn(n);if(!h){this.focusedCellPosition=null;return}this.focusedCellPosition=h?{rowIndex:o,rowPinned:Zs(s),column:h}:null,this.onCellFocused(l,c)},e.prototype.isCellFocused=function(i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.column===i.column&&this.isRowFocused(i.rowIndex,i.rowPinned)},e.prototype.isRowNodeFocused=function(i){return this.isRowFocused(i.rowIndex,i.rowPinned)},e.prototype.isHeaderWrapperFocused=function(i){if(this.focusedHeaderPosition==null)return!1;var n=i.getColumnGroupChild(),o=i.getRowIndex(),s=i.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return n===l&&o===u&&s==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(i,n){this.focusedHeaderPosition={headerRowIndex:i,column:n}},e.prototype.focusHeaderPosition=function(i){var n=i.direction,o=i.fromTab,s=i.allowUserOverride,a=i.event,l=i.headerPosition;if(s){var u=this.gridOptionsWrapper,c=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();if(o){var d=u.getTabToNextHeaderFunc();if(d){var p={backwards:n==="Before",previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:h};l=d(p)}}else{var d=u.getNavigateToNextHeaderFunc();if(d&&a){var f={key:a.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:h,event:a};l=d(f)}}}if(!l)return!1;if(l.headerRowIndex===-1)return this.focusGridView(l.column);this.headerNavigationService.scrollToColumn(l.column,n);var m=this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()),g=m.focusHeader(l.headerRowIndex,l.column,a);return g},e.prototype.focusFirstHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];return i?(i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:i}})):!1},e.prototype.focusLastHeader=function(i){var n=this.headerNavigationService.getHeaderRowCount()-1,o=Ut(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:o},event:i})},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(i,n){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===Zs(n)},e.prototype.findFocusableElements=function(i,n,o){o===void 0&&(o=!1);var s=k.FOCUSABLE_SELECTOR,a=k.FOCUSABLE_EXCLUDE;n&&(a+=", "+n),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(i.querySelectorAll(s)),u=Array.prototype.slice.apply(i.querySelectorAll(a));if(!u.length)return l;var c=function(h,d){return h.filter(function(p){return d.indexOf(p)===-1})};return c(l,u)},e.prototype.focusInto=function(i,n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(i,null,o),a=n?Ut(s):s[0];return a?(a.focus(),!0):!1},e.prototype.findNextFocusableElement=function(i,n,o){i===void 0&&(i=this.eGridDiv);var s=this.findFocusableElements(i,n?':not([tabindex="-1"])':null),a=this.gridOptionsWrapper.getDocument(),l=a.activeElement,u;n?u=s.findIndex(function(h){return h.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},e.prototype.isFocusUnderManagedComponent=function(i){var n=this.gridOptionsWrapper.getDocument(),o=i.querySelectorAll("."+ha.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(n.activeElement))return!0;return!1},e.prototype.findTabbableParent=function(i,n){n===void 0&&(n=5);for(var o=0;i&&jf(i)===null&&++o<=n;)i=i.parentElement;return jf(i)===null?null:i},e.prototype.onCellFocused=function(i,n){var o={type:A.EVENT_CELL_FOCUSED,forceBrowserFocus:i,preventScrollOnBrowserFocus:n,rowIndex:null,column:null,floating:null,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var s=o.rowIndex=this.focusedCellPosition.rowIndex,a=o.rowPinned=this.focusedCellPosition.rowPinned;o.column=this.focusedCellPosition.column;var l=this.rowRenderer.getRowByPosition({rowIndex:s,rowPinned:a});l&&(o.isFullWidthCell=l.isFullWidth())}this.eventService.dispatchEvent(o)},e.prototype.focusGridView=function(i,n){if(this.gridOptionsWrapper.isSuppressCellFocus())return n?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!i&&l&&(i=l.column),s==null||!i)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:i,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:i,rowPinned:Zs(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:i};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(i){return this.gridCtrl.focusNextInnerContainer(i)?!0:(!i&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)};var t;return e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,to([M("eGridDiv")],e.prototype,"eGridDiv",void 0),to([M("columnModel")],e.prototype,"columnModel",void 0),to([M("headerNavigationService")],e.prototype,"headerNavigationService",void 0),to([M("rowRenderer")],e.prototype,"rowRenderer",void 0),to([M("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),to([It("rangeService")],e.prototype,"rangeService",void 0),to([M("navigationService")],e.prototype,"navigationService",void 0),to([M("ctrlsService")],e.prototype,"ctrlsService",void 0),to([we],e.prototype,"init",null),e=t=to([Ie("focusService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ea=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jZ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},$Z=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(jZ(arguments[e]));return r},As;(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"})(As||(As={}));var YZ=0,KZ=function(r){zZ(e,r);function e(){var i=r!==null&&r.apply(this,arguments)||this;return i.popupList=[],i}t=e,e.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(n){i.gridCtrl=n.gridCtrl,i.addManagedListener(i.gridCtrl,A.EVENT_KEYBOARD_FOCUS,function(){i.popupList.forEach(function(o){return o.element.classList.add(ph.AG_KEYBOARD_FOCUS)})}),i.addManagedListener(i.gridCtrl,A.EVENT_MOUSE_FOCUS,function(){i.popupList.forEach(function(o){return o.element.classList.remove(ph.AG_KEYBOARD_FOCUS)})})})},e.prototype.getPopupParent=function(){var i=this.gridOptionsWrapper.getPopupParent();return i||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(i){var n=i.eventSource.getBoundingClientRect(),o=this.getParentRect(),s=this.keepXYWithinBounds(i.ePopup,n.top-o.top,As.vertical),a=i.ePopup.clientWidth>0?i.ePopup.clientWidth:200;i.ePopup.style.minWidth=a+"px";var l=o.right-o.left,u=l-a,c;this.gridOptionsWrapper.isEnableRtl()?(c=d(),c<0&&(c=h()),c>u&&(c=0)):(c=h(),c>u&&(c=d()),c<0&&(c=0)),i.ePopup.style.left=c+"px",i.ePopup.style.top=s+"px";function h(){return n.right-o.left-2}function d(){return n.left-o.left-a}},e.prototype.positionPopupUnderMouseEvent=function(i){var n=i.ePopup,o=i.nudgeX,s=i.nudgeY,a=i.skipObserver,l=this.calculatePointerAlign(i.mouseEvent),u=l.x,c=l.y;this.positionPopup({ePopup:n,x:u,y:c,nudgeX:o,nudgeY:s,keepWithinBounds:!0,skipObserver:a}),this.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)},e.prototype.calculatePointerAlign=function(i){var n=this.getParentRect();return{x:i.clientX-n.left,y:i.clientY-n.top}},e.prototype.positionPopupUnderComponent=function(i){var n=i.eventSource.getBoundingClientRect(),o=i.alignSide||"left",s=this.getParentRect(),a=n.left-s.left;o==="right"&&(a-=i.ePopup.offsetWidth-n.width),this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:a,y:n.top-s.top+n.height,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},e.prototype.positionPopupOverComponent=function(i){var n=i.eventSource.getBoundingClientRect(),o=this.getParentRect();this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:n.left-o.left,y:n.top-o.top,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},e.prototype.callPostProcessPopup=function(i,n,o,s,a,l){var u=this.gridOptionsWrapper.getPostProcessPopupFunc();if(u){var c={column:a,rowNode:l,ePopup:n,type:i,eventSource:o,mouseEvent:s};u(c)}},e.prototype.positionPopup=function(i){var n=this,o=i.x,s=i.y,a=i.ePopup,l=i.keepWithinBounds,u=i.nudgeX,c=i.nudgeY,h=i.skipObserver,d=o,p=s;u&&(d+=u),c&&(p+=c);var f=function(){l&&(d=n.keepXYWithinBounds(a,d,As.horizontal),p=n.keepXYWithinBounds(a,p,As.vertical)),a.style.left=d+"px",a.style.top=p+"px"};if(f(),!h){var m=this.resizeObserverService.observeResize(a,f);setTimeout(function(){return m()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var i=this.gridOptionsWrapper.getDocument(),n=this.getPopupParent();n===i.body?n=i.documentElement:getComputedStyle(n).position==="static"&&(n=n.offsetParent);var o=getComputedStyle(n),s=n.getBoundingClientRect();return{top:s.top+parseFloat(o.borderTopWidth)||0,left:s.left+parseFloat(o.borderLeftWidth)||0,right:s.right+parseFloat(o.borderRightWidth)||0,bottom:s.bottom+parseFloat(o.borderBottomWidth)||0}},e.prototype.keepXYWithinBounds=function(i,n,o){var s=o===As.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",h=this.gridOptionsWrapper.getDocument(),d=h.documentElement,p=this.getPopupParent(),f=p.getBoundingClientRect(),m=h.documentElement.getBoundingClientRect(),g=p===h.body,y=i[u],C=s?sw:Kg,w=g?C(d)+d[c]:p[a];g&&(w-=Math.abs(m[l]-f[l]));var S=w-y;return Math.min(Math.max(n,0),Math.abs(S))},e.prototype.keepPopupPositionedRelativeTo=function(i){var n=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=i.element.getBoundingClientRect(),l=s.top-a.top,u=s.left-a.left,c=l,h=u,d=i.ePopup.style.top,p=parseInt(d.substring(0,d.length-1),10),f=i.ePopup.style.left,m=parseInt(f.substring(0,f.length-1),10);return new vr(function(g){n.getFrameworkOverrides().setInterval(function(){var y=o.getBoundingClientRect(),C=i.element.getBoundingClientRect(),w=C.top==0&&C.left==0&&C.height==0&&C.width==0;if(w){i.hidePopup();return}var S=y.top-C.top;if(S!=c){var b=n.keepXYWithinBounds(i.ePopup,p+l-S,As.vertical);i.ePopup.style.top=b+"px"}c=S;var T=y.left-C.left;if(T!=h){var F=n.keepXYWithinBounds(i.ePopup,m+u-T,As.horizontal);i.ePopup.style.left=F+"px"}h=T},200).then(function(y){var C=function(){y!=null&&window.clearInterval(y)};g(C)})})},e.prototype.addPopup=function(i){var n,o=this,s=i.modal,a=i.eChild,l=i.closeOnEsc,u=i.closedCallback,c=i.click,h=i.alwaysOnTop,d=i.afterGuiAttached,p=i.positionCallback,f=i.anchorToElement,m=i.ariaLabel,g=this.gridOptionsWrapper.getDocument(),y=new vr(function(te){return te(function(){})});if(!g)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:y};var C=this.popupList.findIndex(function(te){return te.element===a});if(C!==-1){var w=this.popupList[C];return{hideFunc:w.hideFunc,stopAnchoringPromise:w.stopAnchoringPromise}}var S=this.getPopupParent();a.style.top==null&&(a.style.top="0px"),a.style.left==null&&(a.style.left="0px");var b=document.createElement("div"),T=this.environment.getTheme().allThemes;T.length&&(n=b.classList).add.apply(n,$Z(T)),b.classList.add("ag-popup"),a.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),a.hasAttribute("role")||yn(a,"dialog"),gl(a,m),this.focusService.isKeyboardMode()&&a.classList.add(ph.AG_KEYBOARD_FOCUS),b.appendChild(a),S.appendChild(b),h?this.setAlwaysOnTop(b,!0):this.bringPopupToFront(b);var F=!1,R=function(te){if(!!b.contains(g.activeElement)){var j=te.key;j===de.ESCAPE&&q({keyboardEvent:te})}},P=function(te){return q({mouseEvent:te})},G=function(te){return q({touchEvent:te})},q=function(te){te===void 0&&(te={});var j=te.mouseEvent,Y=te.touchEvent,U=te.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:j,touchEvent:Y},a)||o.isEventSameChainAsOriginalEvent({originalMouseEvent:c,mouseEvent:j,touchEvent:Y})||F||(F=!0,S.removeChild(b),g.removeEventListener("keydown",R),g.removeEventListener("mousedown",P),g.removeEventListener("touchstart",G),g.removeEventListener("contextmenu",P),o.eventService.removeEventListener(A.EVENT_DRAG_STARTED,P),u&&u(j||Y||U),o.popupList=o.popupList.filter(function(Z){return Z.element!==a}),y&&y.then(function(Z){return Z&&Z()}))};return d&&d({hidePopup:q}),window.setTimeout(function(){l&&g.addEventListener("keydown",R),s&&(g.addEventListener("mousedown",P),o.eventService.addEventListener(A.EVENT_DRAG_STARTED,P),g.addEventListener("touchstart",G),g.addEventListener("contextmenu",P))},0),p&&p(),f&&(y=this.keepPopupPositionedRelativeTo({element:f,ePopup:a,hidePopup:q})),this.popupList.push({element:a,wrapper:b,hideFunc:q,stopAnchoringPromise:y,instanceId:YZ++,isAnchored:!!f}),{hideFunc:q,stopAnchoringPromise:y}},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},e.prototype.isEventFromCurrentPopup=function(i,n){var o=i.mouseEvent,s=i.touchEvent,a=o||s;if(!a)return!1;var l=this.popupList.findIndex(function(h){return h.element===n});if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(zf(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},e.prototype.isElementWithinCustomPopup=function(i){for(var n=this.gridOptionsWrapper.getDocument();i&&i!==n.body;){if(i.classList.contains("ag-custom-component-popup")||i.parentElement===null)return!0;i=i.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(i){var n=i.originalMouseEvent,o=i.mouseEvent,s=i.touchEvent,a=null;if(o?a=o:s&&(a=s.touches[0]),a&&n){var l=o?o.screenX:0,u=o?o.screenY:0,c=Math.abs(n.screenX-l)<5,h=Math.abs(n.screenY-u)<5;if(c&&h)return!0}return!1},e.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},e.prototype.setAlwaysOnTop=function(i,n){var o=this.getWrapper(i);!o||(o.classList.toggle("ag-always-on-top",!!n),n&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(i){var n=this.getPopupParent(),o=Array.prototype.slice.call(n.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(n.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(i);if(!(!u||s<=1||!n.contains(i))){var c=o.indexOf(u),h=u.querySelectorAll("div"),d=[];if(h.forEach(function(g){g.scrollTop!==0&&d.push([g,g.scrollTop])}),l){var p=u.classList.contains("ag-always-on-top");p?c!==s-1&&Ut(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&Ut(o).insertAdjacentElement("afterend",u);for(;d.length;){var f=d.pop();f[0].scrollTop=f[1]}var m={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:u};this.eventService.dispatchEvent(m)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Ea([M("environment")],e.prototype,"environment",void 0),Ea([M("focusService")],e.prototype,"focusService",void 0),Ea([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Ea([M("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ea([M("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ea([we],e.prototype,"postConstruct",null),e=t=Ea([Ie("popupService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};(function(r){XZ(e,r);function e(t,i,n){t===void 0&&(t="default"),i===void 0&&(i="listbox");var o=r.call(this,e.getTemplate(t))||this;return o.cssIdentifier=t,o.ariaRole=i,o.listName=n,o.renderedRows=new Map,o.rowHeight=20,o}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(i){return t.onFocusIn(i)},onFocusOut:function(i){return t.onFocusOut(i)},focusInnerElement:function(i){return t.focusInnerElement(i)},onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)}}),this.setAriaProperties()},e.prototype.setAriaProperties=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("ariaDefaultListName",this.listName||"List"),n=this.eContainer;yn(n,this.ariaRole),gl(n,i)},e.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),i=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(i)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var i=t.target;return i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=_P(i)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case de.UP:case de.DOWN:this.navigate(t.key===de.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusService.focusInto(this.getGui(),!t.shiftKey)},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var i=this.lastFocusedRowIndex+(t?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var i=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(!!i.isAlive()){var n=i.renderedRows.get(t);n&&n.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var i=this.renderedRows.get(t);return i&&i.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(i,n){return t(i.rowComponent,n)})},e.getTemplate=function(t){return`
            <div class="ag-virtual-list-viewport ag-`+t+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+t+`-virtual-list-container" ref="eContainer"></div>
            </div>`},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var i=this.model.getRowCount();if(typeof t!="number"||t<0||t>=i){console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);return}var n=t*this.rowHeight,o=n+this.rowHeight,s=this.getGui(),a=s.scrollTop,l=s.offsetHeight,u=a+l,c=a>n,h=u<o;if(c)s.scrollTop=n;else if(h){var d=o-l;s.scrollTop=d}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(){var t=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",HT(function(){return t.eContainer.clientHeight>=i*t.rowHeight},function(){!t.isAlive()||(t.clearVirtualRows(),t.drawVirtualRows())})}},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(i,n){return t.removeRow(n)})},e.prototype.drawVirtualRows=function(){if(!!this.isAlive()){var t=this.getGui(),i=t.scrollTop,n=i+t.offsetHeight,o=Math.floor(i/this.rowHeight),s=Math.floor(n/this.rowHeight);this.ensureRowsRendered(o,s)}},e.prototype.ensureRowsRendered=function(t,i){var n=this;this.renderedRows.forEach(function(s,a){(a<t||a>i)&&a!==n.lastFocusedRowIndex&&n.removeRow(a)});for(var o=t;o<=i;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)},e.prototype.insertRow=function(t){var i=this,n=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),yn(o,this.ariaRole==="tree"?"treeitem":"option"),mw(o,this.model.getRowCount()),vw(o,t+1),o.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var s=this.model.isRowSelected(t);Bu(o,!!s),PP(o,s)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var a=this.componentCreator(n,o);a.addGuiEventListener("focusin",function(){return i.lastFocusedRowIndex=t}),o.appendChild(a.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:a,eDiv:o})},e.prototype.removeRow=function(t){var i=this.renderedRows.get(t);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(t)},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()})},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){!this.isAlive()||(this.clearVirtualRows(),r.prototype.destroy.call(this))},Dp([M("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Dp([M("focusService")],e.prototype,"focusService",void 0),Dp([pe("eContainer")],e.prototype,"eContainer",void 0),Dp([we],e.prototype,"postConstruct",null),e})(Zg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var qZ=["mouseover","mouseout","mouseenter","mouseleave"],ZZ=["touchstart","touchend","touchmove","touchcancel"],tO=function(){function r(){this.isOutsideAngular=function(e){return tr(qZ,e)}}return r.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},r.prototype.setInterval=function(e,t){return new vr(function(i){i(window.setInterval(e,t))})},r.prototype.addEventListener=function(e,t,i,n){var o=tr(ZZ,t);e.addEventListener(t,i,{capture:!!n,passive:o})},r.prototype.dispatchEvent=function(e,t,i){t()},r.prototype.frameworkComponent=function(e){return null},r.prototype.isFrameworkComponent=function(e){return!1},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var JZ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jl=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QZ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},eJ=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(QZ(arguments[e]));return r},tJ=function(r){JZ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,i,n){return n===void 0&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(t,i):this.getNextCellToFocusWithoutCtrlPressed(t,i)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,i){var n=t===de.UP,o=t===de.DOWN,s=t===de.LEFT,a,l;if(n||o)l=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=i.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsWrapper.isEnableRtl();l=i.rowIndex,a=s!==c?u[0]:Ut(u)}return{rowIndex:l,rowPinned:null,column:a}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,i){for(var n=i,o=!1;!o;){switch(t){case de.UP:n=this.getCellAbove(n);break;case de.DOWN:n=this.getCellBelow(n);break;case de.RIGHT:this.gridOptionsWrapper.isEnableRtl()?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case de.LEFT:this.gridOptionsWrapper.isEnableRtl()?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t);break}n?o=this.isCellGoodToFocusOn(n):o=!0}return n},e.prototype.isCellGoodToFocusOn=function(t){var i=t.column,n;switch(t.rowPinned){case k.PINNED_TOP:n=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case k.PINNED_BOTTOM:n=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:n=this.rowModel.getRow(t.rowIndex);break}if(!n)return!1;var o=i.isSuppressNavigable(n);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var i=this.columnModel.getDisplayedColBefore(t.column);return i?{rowIndex:t.rowIndex,column:i,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var i=this.columnModel.getDisplayedColAfter(t.column);return i?{rowIndex:t.rowIndex,column:i,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var i=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case k.PINNED_BOTTOM:return null;case k.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(k.PINNED_BOTTOM)?{rowIndex:0,rowPinned:k.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(k.PINNED_BOTTOM)?{rowIndex:0,rowPinned:k.PINNED_BOTTOM}:null}var o=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:i+1,rowPinned:n}},e.prototype.getNextStickyPosition=function(t,i){if(!(!this.gridOptionsWrapper.isGroupRowsSticky()||!t||!t.sticky)){var n=eJ(this.rowRenderer.getStickyTopRowCtrls()).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=i?-1:1,s=n.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),a=n[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var i=this.getRowBelow(t);return i?{rowIndex:i.rowIndex,column:t.column,rowPinned:i.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var i=t.rowPinned,n=t.rowIndex;if(i===k.PINNED_TOP){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=n}if(i===k.PINNED_BOTTOM){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=n}var a=this.paginationProxy.getPageLastRow();return a<=n},e.prototype.getRowAbove=function(t){var i=t.rowIndex,n=t.rowPinned,o=n?i===0:i===this.paginationProxy.getPageFirstRow();if(o)return n===k.PINNED_TOP?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(k.PINNED_TOP)?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender(k.PINNED_TOP)?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:i-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var i=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:t.column,rowPinned:i.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:k.PINNED_TOP}},e.prototype.getNextTabbedCell=function(t,i){return i?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var i=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColAfter(t.column);if(!s){s=i[0];var a=this.getRowBelow(t);if(Ue(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;n=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:n,column:s,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var i=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColBefore(t.column);if(!s){s=Ut(i);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(Ue(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;n=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:n,column:s,rowPinned:o}},jl([M("columnModel")],e.prototype,"columnModel",void 0),jl([M("rowModel")],e.prototype,"rowModel",void 0),jl([M("rowRenderer")],e.prototype,"rowRenderer",void 0),jl([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),jl([M("paginationProxy")],e.prototype,"paginationProxy",void 0),e=jl([Ie("cellNavigationService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nJ=function(r,e){return function(t,i){e(t,i,r)}},rJ=function(r){iJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var i=this.gridOptionsWrapper.getAlignedGrids();i&&i.forEach(function(n){if(n.api){var o=n.api.__getAlignedGridService();t(o)}})}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(i){i.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(i){i.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var i=this;this.onEvent(function(){var n=i.ctrlsService.getGridBodyCtrl();n.getScrollFeature().setHorizontalScrollPosition(t.left)})},e.prototype.getMasterColumns=function(t){var i=[];return t.columns?t.columns.forEach(function(n){i.push(n)}):t.column&&i.push(t.column),i},e.prototype.getColumnIds=function(t){var i=[];return t.columns?t.columns.forEach(function(n){i.push(n.getColId())}):t.column&&i.push(t.column.getColId()),i},e.prototype.onColumnEvent=function(t){var i=this;this.onEvent(function(){switch(t.type){case A.EVENT_COLUMN_MOVED:case A.EVENT_COLUMN_VISIBLE:case A.EVENT_COLUMN_PINNED:case A.EVENT_COLUMN_RESIZED:var n=t;i.processColumnEvent(n);break;case A.EVENT_COLUMN_GROUP_OPENED:var o=t;i.processGroupOpenedEvent(o);break;case A.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var i=t.columnGroup,n=null;if(i){var o=i.getGroupId();n=this.columnModel.getProvidedColumnGroup(o)}i&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+i.isExpanded()),this.columnModel.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var i=this,n,o=t.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(t);switch(t.type){case A.EVENT_COLUMN_MOVED:{var l=t,u=t.columnApi.getColumnState(),c=u.map(function(C){return{colId:C.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+l.toIndex)}break;case A.EVENT_COLUMN_VISIBLE:{var h=t,u=t.columnApi.getColumnState(),c=u.map(function(S){return{colId:S.colId,hide:S.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+h.visible)}break;case A.EVENT_COLUMN_PINNED:{var d=t,u=t.columnApi.getColumnState(),c=u.map(function(S){return{colId:S.colId,pinned:S.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+d.pinned)}break;case A.EVENT_COLUMN_RESIZED:var p=t,f={};a.forEach(function(C){i.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+C.getActualWidth()),f[C.getId()]={key:C.getColId(),newWidth:C.getActualWidth()}}),(n=p.flexColumns)===null||n===void 0||n.forEach(function(C){f[C.getId()]&&delete f[C.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged");break}var m=this.ctrlsService.getGridBodyCtrl(),g=m.isVerticalScrollShowing(),y=this.gridOptionsWrapper.getAlignedGrids();y&&y.forEach(function(C){C.api&&C.api.setAlwaysShowVerticalScroll(g)})}},Hc([M("columnModel")],e.prototype,"columnModel",void 0),Hc([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Hc([nJ(0,bn("loggerFactory"))],e.prototype,"setBeans",null),Hc([we],e.prototype,"init",null),e=Hc([Ie("alignedGridsService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var oJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ip=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},sJ=function(r,e){return function(t,i){e(t,i,r)}},aJ=function(r){oJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,A.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return Vt(this.selectedNodes,function(i,n){n&&t.push(n)}),t},e.prototype.getSelectedRows=function(){var t=[];return Vt(this.selectedNodes,function(i,n){n&&n.data&&t.push(n.data)}),t},e.prototype.removeGroupsFromSelection=function(){var t=this;Vt(this.selectedNodes,function(i,n){n&&n.group&&(t.selectedNodes[n.id]=void 0)})},e.prototype.updateGroupsFromChildrenSelections=function(t){if(!!this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===k.ROW_MODEL_TYPE_CLIENT_SIDE){var i=this.rowModel,n=i.getRootNode();t||(t=new Dw(!0,n),t.setInactive()),t.forEachChangedNodeDepthFirst(function(o){if(o!==n){var s=o.calculateSelectedFromChildren();o.selectThisNode(s===null?!1:s)}})}},e.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},e.prototype.clearOtherNodes=function(t){var i=this,n={},o=0;return Vt(this.selectedNodes,function(s,a){if(a&&a.id!==t.id){var l=i.selectedNodes[a.id];o+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),i.groupSelectsChildren&&a.parent&&(n[a.parent.id]=a.parent)}}),Vt(n,function(s,a){var l=a.calculateSelectedFromChildren();a.selectThisNode(l===null?!1:l)}),o},e.prototype.onRowSelected=function(t){var i=t.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes[i.id]=i:this.selectedNodes[i.id]=void 0)},e.prototype.syncInRowNode=function(t,i){this.syncInOldRowNode(t,i),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,i){var n=fe(i)&&t.id!==i.id;if(n&&i){var o=i.id,s=this.selectedNodes[o]==t;s&&(this.selectedNodes[i.id]=i)}},e.prototype.syncInNewRowNode=function(t){fe(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!==k.ROW_MODEL_TYPE_CLIENT_SIDE){console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model");return}var t=this.rowModel,i=t.getTopLevelNodes();if(i===null){console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`");return}var n=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())n.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(i),n},e.prototype.setRowModel=function(t){this.rowModel=t},e.prototype.isEmpty=function(){var t=0;return Vt(this.selectedNodes,function(i,n){n&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){t===void 0&&(t=!1);var i=function(a){return a.selectThisNode(!1)},n=this.rowModel.getType()===k.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!n){console.error("AG Grid: selecting just filtered only works with In Memory Row Model");return}var o=this.rowModel;o.forEachNodeAfterFilter(i)}else Vt(this.selectedNodes,function(a,l){l&&i(l)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var s={type:A.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(s)},e.prototype.selectAllRowNodes=function(t){if(t===void 0&&(t=!1),this.rowModel.getType()!==k.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var i=this.rowModel,n=function(s){return s.selectThisNode(!0)};t?i.forEachNodeAfterFilter(n):i.forEachNode(n),this.rowModel.getType()===k.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var o={type:A.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(o)},e.prototype.selectNode=function(t,i){t&&t.setSelectedParams({newValue:!0,clearSelection:!i})},e.prototype.deselectIndex=function(t){var i=this.rowModel.getRow(t);this.deselectNode(i)},e.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(t,i){var n=this.rowModel.getRow(t);this.selectNode(n,i)},Ip([M("rowModel")],e.prototype,"rowModel",void 0),Ip([sJ(0,bn("loggerFactory"))],e.prototype,"setBeans",null),Ip([we],e.prototype,"init",null),e=Ip([Ie("selectionService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Kv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},lJ=function(){function r(){}return r.prototype.sizeColumnsToFit=function(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},r.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},r.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},r.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},r.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},r.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},r.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},r.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},r.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},r.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},r.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},r.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(e,t){typeof e=="number"?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(e,t,"api")):this.columnModel.moveColumn(e,t,"api")},r.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},r.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},r.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},r.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},r.prototype.setColumnWidth=function(e,t,i,n){i===void 0&&(i=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,n)},r.prototype.setColumnWidths=function(e,t,i){t===void 0&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,i)},r.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getSecondaryPivotColumn=function(e,t){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(e,t)},r.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},r.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},r.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},r.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},r.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},r.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},r.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},r.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},r.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},r.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},r.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},r.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},r.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},r.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},r.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},r.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},r.prototype.setSecondaryColumns=function(e){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(e)},r.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},r.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Ze.removeAllReferences.bind(window,this,"Column API"),100)},r.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},r.prototype.columnGroupOpened=function(e,t){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},r.prototype.hideColumns=function(e,t){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(e,!t,"api")},r.prototype.hideColumn=function(e,t){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(e,!t,"api")},r.prototype.setState=function(e){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},r.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},r.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},r.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},r.prototype.removeAggregationColumn=function(e){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(e,"api")},r.prototype.removeAggregationColumns=function(e){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(e,"api")},r.prototype.addAggregationColumn=function(e){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(e,"api")},r.prototype.addAggregationColumns=function(e){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(e,"api")},r.prototype.setColumnAggFunction=function(e,t){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(e,t,"api")},r.prototype.getDisplayNameForCol=function(e){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},r.prototype.setColumnState=function(e){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:e,applyOrder:!0},"api")},r.prototype.getOriginalColumnGroup=function(e){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(e)},Kv([M("columnModel")],r.prototype,"columnModel",void 0),Kv([nn],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),r=Kv([Ie("columnApi")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cJ=function(r){uJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.initialised=!1,t}return e.prototype.init=function(){var t=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(A.EVENT_CELL_VALUE_CHANGED,function(i){return t.callColumnCellValueChangedHandler(i)},this.gridOptionsWrapper.useAsyncEvents())},e.prototype.getValue=function(t,i,n,o){if(n===void 0&&(n=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!i){var s=t.getColDef(),a=s.field,l=t.getId(),u=i.data,c,h=i.groupData&&i.groupData[l]!==void 0,d=!o&&i.aggData&&i.aggData[l]!==void 0;if(n&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,t,i):this.gridOptionsWrapper.isTreeData()&&d?c=i.aggData[l]:this.gridOptionsWrapper.isTreeData()&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,i):this.gridOptionsWrapper.isTreeData()&&a&&u?c=kf(u,a,t.isFieldContainsDots()):h?c=i.groupData[l]:d?c=i.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,i):a&&u&&(c=kf(u,a,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var p=c.substring(1);c=this.executeValueGetter(p,u,t,i)}if(c==null){var f=this.getOpenedGroup(i,t);if(f!=null)return f}return c}},e.prototype.getOpenedGroup=function(t,i){if(!!this.gridOptionsWrapper.isShowOpenedGroup()){var n=i.getColDef();if(!!n.showRowGroup)for(var o=i.getColDef().showRowGroup,s=t.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getId()))return s.key;s=s.parent}}},e.prototype.setValue=function(t,i,n,o){var s=this.columnModel.getPrimaryColumn(i);if(!t||!s)return!1;Ue(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.newValueHandler,c=a.valueSetter;if(Ue(l)&&Ue(u)&&Ue(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var h={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};h.newValue=n;var d;if(u&&fe(u)?d=u(h):fe(c)?d=this.expressionService.evaluate(c,h):d=this.setValueUsingField(t.data,l,n,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),h.newValue=this.getValue(s,t);var p={type:A.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:h.column,api:h.api,columnApi:h.columnApi,colDef:h.colDef,context:h.context,data:t.data,node:t,oldValue:h.oldValue,newValue:h.newValue,value:h.newValue,source:o};return this.eventService.dispatchEvent(p),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var i=t.colDef.onCellValueChanged;typeof i=="function"&&i({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,i,n,o){if(!i)return!1;var s=!1;if(!o)s=t[i]==n,s||(t[i]=n);else for(var a=i.split("."),l=t;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]==n,s||(l[u]=n)):l=l[u]}return!s},e.prototype.executeFilterValueGetter=function(t,i,n,o){var s={data:i,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)};return this.expressionService.evaluate(t,s)},e.prototype.executeValueGetter=function(t,i,n,o){var s=n.getId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l={data:i,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)},u=this.expressionService.evaluate(t,l);return this.valueCache.setValue(o,s,u),u},e.prototype.getValueCallback=function(t,i){var n=this.columnModel.getPrimaryColumn(i);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,i){var n=this.getValue(t,i),o=t.getColDef().keyCreator,s=n;if(o){var a={value:n,colDef:t.getColDef(),column:t,node:i,data:i.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&mt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),s},Wc([M("expressionService")],e.prototype,"expressionService",void 0),Wc([M("columnModel")],e.prototype,"columnModel",void 0),Wc([M("valueCache")],e.prototype,"valueCache",void 0),Wc([we],e.prototype,"init",null),e=Wc([Ie("valueService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var hJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},dJ=function(r,e){return function(t,i){e(t,i,r)}},pJ=function(r){hJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,i){if(typeof t=="function"){var n=t;return n(i)}else if(typeof t=="string"){var o=t;return this.evaluateExpression(o,i)}else console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,i){try{var n=this.createExpressionFunction(t),o=n(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",i),console.log("Exception = "+s),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var i=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},yR([dJ(0,bn("loggerFactory"))],e.prototype,"setBeans",null),e=yR([Ie("expressionService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gJ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mJ=function(r){fJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,i){var n=this.templateCache[t];if(n)return n;var o=this.waitingCallbacks[t],s=this;if(!o){o=[],this.waitingCallbacks[t]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,t)},a.open("GET",t),a.send()}return i&&o.push(i),null},e.prototype.handleHttpResult=function(t,i){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error "+t.status+" - "+i);return}this.templateCache[i]=t.response||t.responseText;for(var n=this.waitingCallbacks[i],o=0;o<n.length;o++){var s=n[o];s()}},e=gJ([Ie("templateService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var vJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_R=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yJ=function(r,e){return function(t,i){e(t,i,r)}},_J=function(r){vJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.isDebug()},e.prototype.create=function(t){return new P_(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},_R([yJ(0,bn("gridOptionsWrapper"))],e.prototype,"setBeans",null),e=_R([Ie("loggerFactory")],e),e}(me),P_=function(){function r(e,t){this.name=e,this.isLoggingFunc=t}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$l=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wJ=function(r){CJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,i,n){var o=this;this.view=t,this.eGridHostDiv=i,this.eGui=n,this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===Tn.HeaderCell||a===Tn.ToolPanel},getIconName:function(){return en.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new Mw(this.view)),this.addRtlSupport(),this.addManagedListener(this,A.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,A.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,i,n=this.focusService.findTabbableParent(this.getGui());return((i=(t=n)===null||t===void 0?void 0:t.getAttribute("row-id"))===null||i===void 0?void 0:i.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return et.isRegistered(Xe.RowGroupingModule)},e.prototype.showSideBar=function(){return et.isRegistered(Xe.SideBarModule)},e.prototype.showStatusBar=function(){return et.isRegistered(Xe.StatusBarModule)},e.prototype.showWatermark=function(){return et.isRegistered(Xe.EnterpriseCoreModule)},e.prototype.onGridSizeChanged=function(){var t={type:A.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var i=this.gridOptionsWrapper.getDocument(),n=this.view.getFocusableContainers(),o=n.findIndex(function(a){return a.contains(i.activeElement)}),s=o+(t?-1:1);return s<=0||s>=n.length?!1:this.focusService.focusInto(n[s])},e.prototype.focusInnerElement=function(t){var i=this.view.getFocusableContainers();if(t){if(i.length>1)return this.focusService.focusInto(Ut(i),!0);var n=Ut(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(n,!0))return!0}return this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},$l([M("focusService")],e.prototype,"focusService",void 0),$l([M("resizeObserverService")],e.prototype,"resizeObserverService",void 0),$l([M("columnModel")],e.prototype,"columnModel",void 0),$l([M("ctrlsService")],e.prototype,"ctrlsService",void 0),$l([M("mouseEventService")],e.prototype,"mouseEventService",void 0),$l([M("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},EJ=function(r){SJ(e,r);function e(t){var i=r.call(this,void 0)||this;return i.eGridDiv=t,i}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var i={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return t.addOrRemoveCssClass(ph.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o!=null?o:"",t.getGui().style.webkitUserSelect=o!=null?o:""},setCursor:function(o){t.getGui().style.cursor=o!=null?o:""}};this.ctrl=this.createManagedBean(new wJ);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(i,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)}})},e.prototype.insertGridIntoDom=function(){var t=this,i=this.getGui();this.eGridDiv.appendChild(i),this.addDestroyFunc(function(){t.eGridDiv.removeChild(i),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,i){var n=this.eRootWrapperBody.classList;n.toggle(Ai.AUTO_HEIGHT,i.autoHeight),n.toggle(Ai.NORMAL,i.normal),n.toggle(Ai.PRINT,i.print),this.addOrRemoveCssClass(Ai.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(Ai.NORMAL,i.normal),this.addOrRemoveCssClass(Ai.PRINT,i.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",n=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `+t+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+i+`
                </div>
                `+n+`
                <ag-pagination></ag-pagination>
                `+o+`
            </div>`;return s},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(i){return oc(i)})},Vc([M("loggerFactory")],e.prototype,"loggerFactory",void 0),Vc([pe("gridBody")],e.prototype,"gridBodyComp",void 0),Vc([pe("sideBar")],e.prototype,"sideBarComp",void 0),Vc([pe("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),Vc([we],e.prototype,"postConstruct",null),e}(Zg);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var xJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),CR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},RJ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Xv=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(RJ(arguments[e]));return r},bJ=function(r){xJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(i,n,o){var s=this.getNextSortDirection(i);this.setSortForColumn(i,s,n,o)},e.prototype.setSortForColumn=function(i,n,o,s){var a;n!==k.SORT_ASC&&n!==k.SORT_DESC&&(n=null);var l=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),u=[i];if(l&&i.getColDef().showRowGroup){var c=this.columnModel.getSourceColumnsForGroupColumn(i),h=(a=c)===null||a===void 0?void 0:a.filter(function(p){return p.getColDef().sortable});h&&(u=Xv([i],h))}u.forEach(function(p){return p.setSort(n,s)});var d=(o||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort();d||this.clearSortBarTheseColumns(u,s),this.updateSortIndex(i),this.dispatchSortChangedEvents(s)},e.prototype.updateSortIndex=function(i){var n=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(i.getId()),s=n&&o||i,a=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?Xv(l,[s]):l;u.forEach(function(c,h){return c.setSortIndex(h)})},e.prototype.onSortChanged=function(i){this.dispatchSortChangedEvents(i)},e.prototype.isSortActive=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),n=i.filter(function(o){return!!o.getSort()});return n&&n.length>0},e.prototype.dispatchSortChangedEvents=function(i){var n={type:A.EVENT_SORT_CHANGED,source:i};this.eventService.dispatchEvent(n)},e.prototype.clearSortBarTheseColumns=function(i,n){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){i.includes(o)||o.setSort(void 0,n)})},e.prototype.getNextSortDirection=function(i){var n;if(i.getColDef().sortingOrder?n=i.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?n=this.gridOptionsWrapper.getSortingOrder():n=t.DEFAULT_SORTING_ORDER,!Array.isArray(n)||n.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+n),null;var o=n.indexOf(i.getSort()),s=o<0,a=o==n.length-1,l;return s||a?l=n[0]:l=n[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getColumnsOrderedForSort=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),n={};return i.forEach(function(o,s){return n[o.getId()]=s}),i.sort(function(o,s){var a=o.getSortIndex(),l=s.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){var u=n[o.getId()],c=n[s.getId()];return u>c?1:-1}else return l==null?-1:1}),i},e.prototype.getIndexableColumnsOrdered=function(){var i=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(n){var o;if(n.getColDef().showRowGroup){if(n.getColDef().field&&n.getSort())return!0;var s=i.columnModel.getSourceColumnsForGroupColumn(n);return(o=s)===null||o===void 0?void 0:o.some(function(a){return!!a.getSort()})}return!!n.getSort()}):this.getColumnsWithSortingOrdered()},e.prototype.getColumnsWithSortingOrdered=function(){var i=this.getColumnsOrderedForSort();return i.filter(function(n){return!!n.getSort()})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(i){return{sort:i.getSort(),colId:i.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(i){return{sort:i.getSort(),column:i}})},e.prototype.canColumnDisplayMixedSort=function(i){var n=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),o=!!i.getColDef().showRowGroup;return n&&o},e.prototype.getDisplaySortForColumn=function(i){var n,o=this.columnModel.getSourceColumnsForGroupColumn(i);if(!this.canColumnDisplayMixedSort(i)||!(!((n=o)===null||n===void 0)&&n.length))return i.getSort();var s=!!i.getColDef().field,a=s?Xv([i],o):o,l=a[0].getSort(),u=a.every(function(c){return c.getSort()==l});return u?l:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(i){var n=this,o=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();if(!o)return this.getColumnsWithSortingOrdered().indexOf(i);var s=this.columnModel.getGroupDisplayColumnForGroup(i.getId());if(s)return i.getSort()?this.getDisplaySortIndexForColumn(s):null;var a=this.getIndexableColumnsOrdered().filter(function(l){return!n.columnModel.getGroupDisplayColumnForGroup(l.getId())});return a.indexOf(i)};var t;return e.DEFAULT_SORTING_ORDER=[k.SORT_ASC,k.SORT_DESC,null],CR([M("columnModel")],e.prototype,"columnModel",void 0),e=t=CR([Ie("sortController")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var MJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),TJ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},PJ=function(r){MJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var i={type:A.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:A.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=TJ([Ie("columnHoverService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var OJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},AJ=function(r){OJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){return t.gridBodyCtrl=i.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var i=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===i&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var i=this.executeLaterFuncs;this.executeLaterFuncs=[],!(t.length===0&&i.length===0)&&(window.setTimeout(function(){return t.forEach(function(n){return n()})},0),window.setTimeout(function(){return i.forEach(function(n){return n()})},300))},qv([M("ctrlsService")],e.prototype,"ctrlsService",void 0),qv([we],e.prototype,"postConstruct",null),e=qv([Ie("columnAnimationService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var DJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},IJ=function(r){DJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.prototype.createAutoGroupColumns=function(i,n){var o=this,s=[],a=this.gridOptionsWrapper.isTreeData(),l=this.gridOptionsWrapper.isGroupMultiAutoColumn();return a&&l&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),l=!1),l?n.forEach(function(u,c){s.push(o.createOneAutoGroupColumn(i,u,c))}):s.push(this.createOneAutoGroupColumn(i)),s},e.prototype.createOneAutoGroupColumn=function(i,n,o){var s=this.generateDefaultColDef(n),a;n?a=k.GROUP_AUTO_COLUMN_ID+"-"+n.getId():a=t.GROUP_AUTO_COLUMN_BUNDLE_ID;var l=this.gridOptionsWrapper.getAutoGroupColumnDef();if(Zn(s,l),s=this.columnFactory.mergeColDefs(s),s.colId=a,!this.gridOptionsWrapper.isTreeData()){var u=Ue(s.field)&&Ue(s.valueGetter)&&Ue(s.filterValueGetter);u&&(s.filter=!1)}o&&o>0&&(s.headerCheckboxSelection=!1);var c=i.find(function(d){return d.getId()==a});if(c)return c.setColDef(s,null),this.columnFactory.applyColumnState(c,s),c;var h=new St(s,null,a,!0);return this.context.createBean(h),h},e.prototype.generateDefaultColDef=function(i){var n=this.gridOptionsWrapper.getAutoGroupColumnDef(),o=this.gridOptionsWrapper.getLocaleTextFunc(),s={headerName:o("group","Group")},a=n&&(n.cellRenderer||n.cellRendererFramework||n.cellRendererSelector);if(a||(s.cellRenderer="agGroupCellRenderer"),i){var l=i.getColDef();Object.assign(s,{headerName:this.columnModel.getDisplayNameForColumn(i,"header"),headerValueGetter:l.headerValueGetter}),(l.cellRenderer||l.cellRendererFramework)&&Object.assign(s,{cellRendererParams:{innerRenderer:l.cellRenderer,innerRendererFramework:l.cellRendererFramework,innerRendererParams:l.cellRendererParams}}),s.showRowGroup=i.getColId()}else s.showRowGroup=!0;return s};var t;return e.GROUP_AUTO_COLUMN_BUNDLE_ID=k.GROUP_AUTO_COLUMN_ID,Zv([M("columnModel")],e.prototype,"columnModel",void 0),Zv([M("columnFactory")],e.prototype,"columnFactory",void 0),e=t=Zv([Ie("autoGroupColService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var LJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Jv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},FJ=function(r){LJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.centerRowContainerCon=i.centerRowContainerCtrl,t.addManagedListener(t.eventService,A.EVENT_BODY_HEIGHT_CHANGED,t.onBodyHeightChanged.bind(t)),t.addManagedListener(t.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,t.onScrollVisibilityChanged.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),i=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(i>0){var n=Math.floor(i/t);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},Jv([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Jv([we],e.prototype,"postConstruct",null),e=Jv([Ie("paginationAutoPageSizeService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},GJ=function(r){NJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,i,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[i]=n)},e.prototype.getValue=function(t,i){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[i]},wR([we],e.prototype,"init",null),e=wR([Ie("valueCache")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var HJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},WJ=function(r){HJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()===k.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,A.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==k.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,i){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),o=new Dw(n,this.clientSideRowModel.getRootNode());o.addParentNode(t.parent,[i]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}},Lp([M("rowModel")],e.prototype,"rowModel",void 0),Lp([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Lp([we],e.prototype,"init",null),e=Lp([Ie("changeDetectionService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var VJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kJ=function(r){VJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,i){var n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(i):null},e.prototype.adaptCellRendererFunction=function(t){var i=function(){function n(){}return n.prototype.refresh=function(o){return!1},n.prototype.getGui=function(){return this.eGui},n.prototype.init=function(o){var s=t(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=ji("<span>"+s+"</span>");return}if(s==null){this.eGui=ji("<span></span>");return}this.eGui=s},n}();return i},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},SR([M("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=SR([Ie("agComponentUtils")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},UJ=function(r){BJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},Qv([M("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Qv([we],e.prototype,"postConstruct",null),e=Qv([Ie("componentMetadataProvider")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ER=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ey=8,jJ=4,ty=4,iy=6,$J={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:jJ*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:ey*7,headerCellMinWidth:48,listItemHeight:ey*4,rowHeight:ey*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:ty*8,headerCellMinWidth:24,listItemHeight:ty*6,rowHeight:ty*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:iy*8,headerCellMinWidth:36,listItemHeight:iy*4,rowHeight:iy*7,chartMenuPanelWidth:240}},xR={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},kc={},YJ=function(r){zJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getSassVariable=function(t,i){var n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),o=$J[n][i],s=0;kc[t]||(kc[t]={});var a=kc[t][i];if(a!=null)return a;if(xR[i]){var l=xR[i],u=document.createElement("div");u.classList.add(t),u.style.position="absolute";var c=l.reduce(function(d,p){var f=document.createElement("div");return f.style.position="static",f.classList.add(p),d.appendChild(f),f},u);if(document.body){document.body.appendChild(u);var h=i.toLowerCase().indexOf("height")!==-1?"height":"width";s=parseInt(window.getComputedStyle(c)[h],10),document.body.removeChild(u)}}return kc[t][i]=s||o,kc[t][i]},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,i=this.eGridDiv,n=null,o=[];i;)if(n=t.exec(i.className),!n)i=i.parentElement||void 0;else{var s=i.className.match(t);s&&(o=s);break}if(!n)return{allThemes:o};var a=n[0],l=n[2]===void 0;if(l){var u=a.replace("ag-","ag-theme-");mt(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+a+" with "+u+".")},"using-old-theme")}return{theme:a,el:i,themeFamily:a.replace(/-dark$/,""),allThemes:o}},ER([M("eGridDiv")],e.prototype,"eGridDiv",void 0),e=ER([Ie("environment")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},XJ=function(r,e){return function(t,i){e(t,i,r)}},qJ=function(r){KJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,A.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=JT(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(!!this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight(),o=i!==this.scrollY||n!==this.uiBodyHeight;o&&(this.scrollY=i,this.uiBodyHeight=n,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,i=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+i+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(i)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var i=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:A.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getScrollFeature().getVScrollPosition();return i.bottom-i.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var i=this.modelHeight-this.getUiBodyHeight(),n=t/i,o=this.maxScrollY*n;return o},Fp([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Fp([XJ(0,bn("loggerFactory"))],e.prototype,"agWire",null),Fp([we],e.prototype,"postConstruct",null),e=Fp([Ie("rowContainerHeightService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ZJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),RR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},JJ=function(r){ZJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){var i=function(n){return n.childrenAfterGroup};this.recurseDown(t.childrenAfterGroup,i)}},e.prototype.recurseDown=function(t,i){var n=this;!t||t.forEach(function(o){if(!!o.group){o.hasChildren()&&n.recurseDown(i(o),i);var s;if(n.groupSelectsChildren){var a=(i(o)||[]).find(function(l){return l.selectable===!0});s=fe(a)}else s=n.isRowSelectableFunc?n.isRowSelectableFunc(o):!1;o.setRowSelectable(s)}})},RR([we],e.prototype,"init",null),e=RR([Ie("selectableService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var QJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cr=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eQ=function(r){QJ(e,r);function e(){var t=r.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return e.prototype.postConstruct=function(){var t=this,i=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Ti(i?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Ti(i?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Ti(i?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Ti(i?"first":"last",this.gridOptionsWrapper));var n=this.gridOptionsWrapper.isPagination(),o=n&&!this.gridOptionsWrapper.isSuppressPaginationPanel();if(!o){this.setDisplayed(!1);return}this.addManagedListener(this.eventService,A.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(s){var a=s.el,l=s.fn;t.addManagedListener(a,"click",l),t.addManagedListener(a,"keydown",function(u){(u.key===de.ENTER||u.key===de.SPACE)&&(u.preventDefault(),l())})}),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage(),n=t?i+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},e.prototype.formatNumber=function(t){var i=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(i){var n={value:t};return i(n)}var o=this.gridOptionsWrapper.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return rw(t,s,a)},e.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("page","Page"),n=t("to","to"),o=t("of","of"),s=t("firstPage","First Page"),a=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+c+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+c+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-to">'+n+`</span>
                    <span id="ag-`+c+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-of">'+o+`</span>
                    <span id="ag-`+c+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="`+s+`"></div>
                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="`+a+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+c+'-start-page">'+i+`</span>
                        <span id="ag-`+c+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+c+'-of-page">'+o+`</span>
                        <span id="ag-`+c+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="`+l+`"></div>
                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="`+u+`"></div>
                </span>
            </div>`},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=i&&t===n-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!i||o||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,i){fw(t,i),t.classList.toggle("ag-disabled",i),i?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0")},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;this.isZeroPagesToDisplay()?s=a=0:(s=i*t+1,a=s+i-1,n&&a>o&&(a=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return t&&i===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(n===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.innerHTML=this.formatNumber(i),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var a=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},cr([M("paginationProxy")],e.prototype,"paginationProxy",void 0),cr([M("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),cr([pe("btFirst")],e.prototype,"btFirst",void 0),cr([pe("btPrevious")],e.prototype,"btPrevious",void 0),cr([pe("btNext")],e.prototype,"btNext",void 0),cr([pe("btLast")],e.prototype,"btLast",void 0),cr([pe("lbRecordCount")],e.prototype,"lbRecordCount",void 0),cr([pe("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),cr([pe("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),cr([pe("lbCurrent")],e.prototype,"lbCurrent",void 0),cr([pe("lbTotal")],e.prototype,"lbTotal",void 0),cr([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var tQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yl=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},du;(function(r){r[r.Loading=0]="Loading",r[r.NoRows=1]="NoRows"})(du||(du={}));var iQ=function(r){tQ(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t.manuallyDisplayed=!1,t}return e.prototype.updateLayoutClasses=function(t,i){var n=this.eOverlayWrapper.classList;n.toggle(Ai.AUTO_HEIGHT,i.autoHeight),n.toggle(Ai.NORMAL,i.normal),n.toggle(Ai.PRINT,i.print)},e.prototype.postConstruct=function(){this.createManagedBean(new Mw(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,A.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",t===du.Loading),i.toggle("ag-overlay-no-rows-wrapper",t===du.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var t={},i=this.userComponentFactory.getLoadingOverlayCompDetails(t),n=i.newAgStackInstance();this.showOverlay(n,du.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var t={},i=this.userComponentFactory.getNoRowsOverlayCompDetails(t),n=i.newAgStackInstance();this.showOverlay(n,du.NoRows)}},e.prototype.showOverlay=function(t,i){var n=this;this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(o){n.inProgress=!1,n.eOverlayWrapper.appendChild(o.getGui()),n.activeOverlay=o,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),ir(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),i=this.gridOptionsWrapper.isSuppressNoRowsOverlay();t&&!i?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},e.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,Yl([M("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Yl([M("paginationProxy")],e.prototype,"paginationProxy",void 0),Yl([M("gridApi")],e.prototype,"gridApi",void 0),Yl([M("columnModel")],e.prototype,"columnModel",void 0),Yl([pe("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Yl([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Np=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},rQ=function(r){nQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,i;return this.pinnedRowModel.getPinnedTopRowCount()?i=k.PINNED_TOP:this.rowModel.getRowCount()?(i=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i=k.PINNED_BOTTOM),i===void 0?null:{rowIndex:t,rowPinned:i}},e.prototype.getLastRow=function(){var t,i=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(i=k.PINNED_BOTTOM,t=n-1):this.rowModel.getRowCount()?(i=null,t=this.paginationProxy.getPageLastRow()):o&&(i=k.PINNED_TOP,t=o-1),t===void 0?null:{rowIndex:t,rowPinned:i}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case k.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case k.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,i){return!t&&!i?!0:t&&!i||!t&&i?!1:t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned},e.prototype.before=function(t,i){switch(t.rowPinned){case k.PINNED_TOP:if(i.rowPinned!==k.PINNED_TOP)return!0;break;case k.PINNED_BOTTOM:if(i.rowPinned!==k.PINNED_BOTTOM)return!1;break;default:if(fe(i.rowPinned))return i.rowPinned!==k.PINNED_TOP;break}return t.rowIndex<i.rowIndex},e.prototype.rowMax=function(t){var i=this,n;return t.forEach(function(o){(n===void 0||i.before(n,o))&&(n=o)}),n},e.prototype.rowMin=function(t){var i=this,n;return t.forEach(function(o){(n===void 0||i.before(o,n))&&(n=o)}),n},Np([M("rowModel")],e.prototype,"rowModel",void 0),Np([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Np([M("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Np([Ie("rowPositionUtils")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var oQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sQ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},aQ=function(r){oQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createId=function(t){var i=t.rowIndex,n=t.rowPinned,o=t.column;return this.createIdFromValues(i,o,n)},e.prototype.createIdFromValues=function(t,i,n){return t+"."+(n==null?"null":n)+"."+i.getId()},e.prototype.equals=function(t,i){var n=t.column===i.column,o=t.rowPinned===i.rowPinned,s=t.rowIndex===i.rowIndex;return n&&o&&s},e=sQ([Ie("cellPositionUtils")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var lQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qc=function(){function r(e){this.cellValueChanges=e}return r}(),Gp=function(r){lQ(e,r);function e(t,i,n,o){var s=r.call(this,t)||this;return s.initialRange=i,s.finalRange=n,s.ranges=o,s}return e}(Qc),bR=function(){function r(e){this.actionStack=[],this.maxStackSize=e||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;!t||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ag=function(){return ag=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ag.apply(this,arguments)},io=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cQ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},hQ=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(cQ(arguments[e]));return r},dQ=function(r){uQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(i){var n={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,n),s=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,n),a=o||s||t.isPasting||t.isRangeInAction;if(!!a){var l=i.rowPinned,u=i.rowIndex,c=i.column,h=i.oldValue,d=i.value,p={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:d,oldValue:h};t.cellValueChanges.push(p)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(!!this.gridOptionsWrapper.isUndoRedoCellEditing()){var i=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();i<=0||(this.undoStack=new bR(i),this.redoStack=new bR(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,A.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,function(n){n.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(){if(!!this.undoStack){var t=this.undoStack.pop();!t||!t.cellValueChanges||(this.processAction(t,function(i){return i.oldValue}),t instanceof Gp?this.processRange(t.ranges||[t.initialRange]):this.processCell(t.cellValueChanges),this.redoStack.push(t))}},e.prototype.redo=function(){if(!!this.redoStack){var t=this.redoStack.pop();!t||!t.cellValueChanges||(this.processAction(t,function(i){return i.newValue}),t instanceof Gp?this.processRange(t.ranges||[t.finalRange]):this.processCell(t.cellValueChanges),this.undoStack.push(t))}},e.prototype.processAction=function(t,i){var n=this;t.cellValueChanges.forEach(function(o){var s,a=o.rowIndex,l=o.rowPinned,u=o.columnId,c={rowIndex:a,rowPinned:l},h=n.getRowNode(c);if(!!h.displayed){var d=i(o),p=typeof((s=d)===null||s===void 0?void 0:s.toString)=="function"?d.toString():d;h.setDataValue(u,p)}})},e.prototype.processRange=function(t){var i=this,n;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,s){if(!!o){var a=o.startRow,l=o.endRow;s===t.length-1&&(n={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},i.setLastFocusedCell(n));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};i.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var i=t[0],n=i.rowIndex,o=i.rowPinned,s={rowIndex:n,rowPinned:o},a=this.getRowNode(s),l={rowPinned:i.rowPinned,rowIndex:a.rowIndex,columnId:i.columnId};this.setLastFocusedCell(l,!0)},e.prototype.setLastFocusedCell=function(t,i){var n=t.rowIndex,o=t.columnId,s=t.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(!!l){a.ensureIndexVisible(n),a.ensureColumnVisible(l);var u={rowIndex:n,column:l,rowPinned:s};this.focusService.setFocusedCell(ag(ag({},u),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_ROW_EDITING_STARTED,function(i){t.activeRowEdit={rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,A.EVENT_ROW_EDITING_STOPPED,function(){var i=new Qc(t.cellValueChanges);t.pushActionsToUndoStack(i),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_CELL_EDITING_STARTED,function(i){t.activeCellEdit={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,A.EVENT_CELL_EDITING_STOPPED,function(i){t.activeCellEdit=null;var n=i.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(n){var o=new Qc(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,A.EVENT_PASTE_END,function(){var i=new Qc(t.cellValueChanges);t.pushActionsToUndoStack(i),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,A.EVENT_FILL_END,function(i){var n=new Gp(t.cellValueChanges,i.initialRange,i.finalRange);t.pushActionsToUndoStack(n),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var i;t.rangeService&&t.gridOptionsWrapper.isEnableRangeSelection()?i=new Gp(t.cellValueChanges,void 0,void 0,hQ(t.rangeService.getCellRanges())):i=new Qc(t.cellValueChanges),t.pushActionsToUndoStack(i),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case k.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case k.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},io([M("focusService")],e.prototype,"focusService",void 0),io([M("ctrlsService")],e.prototype,"ctrlsService",void 0),io([M("rowModel")],e.prototype,"rowModel",void 0),io([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),io([M("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),io([M("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),io([M("columnModel")],e.prototype,"columnModel",void 0),io([It("rangeService")],e.prototype,"rangeService",void 0),io([we],e.prototype,"init",null),e=io([Ie("undoRedoService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ny=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fQ=function(r){pQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.findHeader=function(t,i){var n,o,s;if(t.column instanceof gn?(o="getDisplayedGroup"+i,n=this.columnModel[o](t.column)):(s="getDisplayedCol"+i,n=this.columnModel[s](t.column)),n)return{column:n,headerRowIndex:t.headerRowIndex}},e.prototype.findColAtEdgeForHeaderRow=function(t,i){var n=this.columnModel.getAllDisplayedColumns(),o=n[i==="start"?0:n.length-1];if(!!o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(t);if(a==Mn.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:a==null?-1:t,column:o}}},ny([M("columnModel")],e.prototype,"columnModel",void 0),ny([M("ctrlsService")],e.prototype,"ctrlsService",void 0),e=ny([Ie("headerPositionUtils")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var gQ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mQ=function(){function r(){}return r.prototype.buildColumnDefs=function(e,t,i){var n=this,o=[],s={};return e.forEach(function(a){for(var l=n.createDefFromColumn(a,t,i),u=!0,c=l,h=a.getOriginalParent();h;){var d=null;if(h.isPadding()){h=h.getOriginalParent();continue}var p=s[h.getGroupId()];if(p){p.children.push(c),u=!1;break}d=n.createDefFromGroup(h),d&&(d.children=[c],s[d.groupId]=d,c=d,h=h.getOriginalParent())}u&&o.push(c)}),o},r.prototype.createDefFromGroup=function(e){var t=Vf(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},r.prototype.createDefFromColumn=function(e,t,i){var n=Vf(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n},r=gQ([Ie("columnDefFactory")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ry=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vQ=function(){function r(){}return r.prototype.getInitialRowClasses=function(e){var t=[];return fe(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),u_(t,this.processClassesFromGridOptions(e.rowNode)),u_(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned===k.PINNED_LEFT&&t.push("ag-cell-last-left-pinned"),e.pinned===k.PINNED_RIGHT&&t.push("ag-cell-first-right-pinned")),t},r.prototype.processClassesFromGridOptions=function(e){var t=[],i=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},n=this.gridOptionsWrapper.getRowClass();if(n){if(typeof n=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(n)}var o=this.gridOptionsWrapper.getRowClassFunc();if(o){var s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);i(a)}return t},r.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(i){t.push(i)},function(i){}),t},r.prototype.processRowClassRules=function(e,t,i){var n={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),n,t,i)},r.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},ry([M("stylingService")],r.prototype,"stylingService",void 0),ry([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),r=ry([Ie("rowCssClassCalculator")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Hp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yQ=function(){function r(){}return r.prototype.doFullSort=function(e,t){var i=function(o,s){return{currentPos:s,rowNode:o}},n=e.map(i);return n.sort(this.compareRowNodes.bind(this,t)),n.map(function(o){return o.rowNode})},r.prototype.compareRowNodes=function(e,t,i){for(var n=t.rowNode,o=i.rowNode,s=0,a=e.length;s<a;s++){var l=e[s],u=l.sort===k.SORT_DESC,c=this.getValue(n,l.column),h=this.getValue(o,l.column),d=void 0,p=this.getComparator(l,n);p?d=p(c,h,n,o,u):d=Ze.defaultComparator(c,h,this.gridOptionsWrapper.isAccentedSort());var f=!isNaN(d);if(f&&d!==0)return l.sort===k.SORT_ASC?d:d*-1}return t.currentPos-i.currentPos},r.prototype.getComparator=function(e,t){var i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!!i.getColDef().showRowGroup){var o=!t.group&&i.getColDef().field;if(!!o){var s=this.columnModel.getPrimaryColumn(o);if(!!s)return s.getColDef().comparator}}},r.prototype.getValue=function(e,t){var i,n,o=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();if(!o)return this.valueService.getValue(t,e,!1,!1);var s=e.rowGroupColumn===t;if(s){var a=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=t.getColDef().keyCreator;if(l)return e.key;var u=(i=e.allLeafChildren)===null||i===void 0?void 0:i[0];return u?this.valueService.getValue(t,u,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return c?(n=e.groupData)===null||n===void 0?void 0:n[c.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)},Hp([M("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),Hp([M("valueService")],r.prototype,"valueService",void 0),Hp([M("columnModel")],r.prototype,"columnModel",void 0),r=Hp([Ie("rowNodeSorter")],r),r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _Q=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),CQ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wQ=function(r){_Q(e,r);function e(){var i=r!==null&&r.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollCtrl!=null&&this.gridHeaderCtrl!=null,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(n){return n(i)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollCtrl=function(i){this.fakeHScrollCtrl=i,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(i){this.stickyTopCenterRowContainerCtrl=i,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(i){this.stickyTopLeftRowContainerCtrl=i,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(i){this.stickyTopRightRowContainerCtrl=i,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},e.prototype.registerHeaderContainer=function(i,n){switch(n){case k.PINNED_LEFT:this.leftHeaderRowContainerCtrl=i;break;case k.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},e.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},e.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case k.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case k.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=CQ([Ie(t.NAME)],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),EQ=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xQ=function(r){SQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var i=this.registry[t];if(i!=null)return new i},e=EQ([Ie("ctrlsFactory")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var RQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bQ=function(r){RQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,i,n,o){this.view=t,this.eViewport=n,this.eContainer=o,this.eGui=i,this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this));var s=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,s),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,s),this.addManagedListener(this.eventService,A.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.onScrollVisibilityChanged(),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",nw()||ua())},e.prototype.addActiveListenerToggles=function(){var t=this,i=["mouseenter","mousedown","touchstart"],n=["mouseleave","touchend"];i.forEach(function(o){return t.addManagedListener(t.eGui,o,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),n.forEach(function(o){return t.addManagedListener(t.eGui,o,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=tP(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles(),this.refreshCompBottom()))},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(!!this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.view.setBottom(t)}},e.prototype.onScrollVisibilityChanged=function(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,function(i){i.direction==="horizontal"&&t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL_END,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&t,o=this.gridOptionsWrapper.getScrollbarWidth();n&&(i+=o),this.view.setRightSpacerFixedWidth(i),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",i<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&t;a&&(s+=o),this.view.setLeftSpacerFixedWidth(s),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",s<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,s=o===0&&i?15:o,a=n?0:s;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",i),this.view.setHeight(a),this.view.setViewportHeight(a),this.view.setContainerHeight(a),this.view.addOrRemoveCssClass("ag-hidden",!t)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},Wp([M("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Wp([M("columnModel")],e.prototype,"columnModel",void 0),Wp([M("ctrlsService")],e.prototype,"ctrlsService",void 0),Wp([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var MQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bc=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},TQ=function(r){MQ(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,i={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},setHeight:function(o){return Ka(t.getGui(),o)},setBottom:function(o){return t.getGui().style.bottom=o+"px"},setContainerHeight:function(o){return Ka(t.eContainer,o)},setViewportHeight:function(o){return Ka(t.eViewport,o)},setRightSpacerFixedWidth:function(o){return Mo(t.eRightSpacer,o)},setLeftSpacerFixedWidth:function(o){return Mo(t.eLeftSpacer,o)},includeLeftSpacerScrollerCss:function(o,s){return t.eLeftSpacer.classList.toggle(o,s)},includeRightSpacerScrollerCss:function(o,s){return t.eRightSpacer.classList.toggle(o,s)}},n=this.createManagedBean(new bQ);n.setComp(i,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Pw(function(o){return t.eContainer.style.width=o+"px"}))},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Bc([pe("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Bc([pe("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Bc([pe("eViewport")],e.prototype,"eViewport",void 0),Bc([pe("eContainer")],e.prototype,"eContainer",void 0),Bc([we],e.prototype,"postConstruct",null),e}(ct);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var PQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oy=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},OQ=function(r){PQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_PRINT,i=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:A.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:A.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},oy([M("columnModel")],e.prototype,"columnModel",void 0),oy([we],e.prototype,"postConstruct",null),e=oy([Ie("pinnedWidthService")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},DQ=function(r){AQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()==k.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var i=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var n=function(){i.clientSideRowModel&&i.clientSideRowModel.onRowGroupOpened(),i.events.forEach(function(o){return i.eventService.dispatchEvent(o)}),i.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(n)),this.dispatchExpandedDebounced()},Vp([M("animationFrameService")],e.prototype,"animationFrameService",void 0),Vp([M("rowModel")],e.prototype,"rowModel",void 0),Vp([we],e.prototype,"postConstruct",null),e=Vp([Ie("rowNodeEventThrottle")],e),e}(me);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var IQ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},MR=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(IQ(arguments[e]));return r},LQ=function(){function r(e,t,i){if(!t){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=t,new FQ().create(e,t,function(n){var o=new EJ(e);n.createBean(o)},void 0,i)}return r.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},r}(),FQ=function(){function r(){}return r.prototype.create=function(e,t,i,n,o){var s=this,a=!!t.debug,l=this.getRegisteredModules(o),u=this.createBeansList(t.rowModelType,l),c=this.createProvidedBeans(e,t,o);if(!!u){var h={providedBeanInstances:c,beanClasses:u,debug:a},d=new P_("AG Grid",function(){return t.debug}),p=new P_("Context",function(){return h.debug}),f=new h$(h,p),m=f.getBean("beans");this.registerModuleUserComponents(m,l),this.registerStackComponents(m,l),this.registerControllers(m,l),i(f),m.ctrlsService.whenReady(function(){s.setColumnsAndData(m),s.dispatchGridReadyEvent(m);var g=et.isRegistered(Xe.EnterpriseCoreModule);d.log("initialised successfully, enterprise = "+g)}),n&&n(f)}},r.prototype.registerControllers=function(e,t){t.forEach(function(i){i.controllers&&i.controllers.forEach(function(n){return e.ctrlsFactory.register(n)})})},r.prototype.registerStackComponents=function(e,t){var i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)},r.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,i=et.getRegisteredModules(),n=[],o={};function s(a,l){function u(c){o[c.moduleName]||(o[c.moduleName]=!0,n.push(c),et.register(c,a))}u(l),l.dependantModules&&l.dependantModules.forEach(s.bind(null,a))}return t&&t.forEach(s.bind(null,!0)),i&&i.forEach(s.bind(null,!et.isPackageBased())),n},r.prototype.registerModuleUserComponents=function(e,t){var i=this.extractModuleEntity(t,function(n){return n.userComponents?n.userComponents:[]});i.forEach(function(n){e.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})},r.prototype.createProvidedBeans=function(e,t,i){var n=i?i.frameworkOverrides:null;Ue(n)&&(n=new tO);var o={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Wh},{componentName:"AgRadioButton",componentClass:sZ},{componentName:"AgToggleButton",componentClass:lZ},{componentName:"AgInputTextField",componentClass:JP},{componentName:"AgInputTextArea",componentClass:hZ},{componentName:"AgInputNumberField",componentClass:pZ},{componentName:"AgInputRange",componentClass:gZ},{componentName:"AgSelect",componentClass:HP},{componentName:"AgSlider",componentClass:vZ},{componentName:"AgAngleSelect",componentClass:_Z},{componentName:"AgColorPicker",componentClass:MZ},{componentName:"AgGridBody",componentClass:hX},{componentName:"AgHeaderRoot",componentClass:Sq},{componentName:"AgSortIndicator",componentClass:Rw},{componentName:"AgPagination",componentClass:eQ},{componentName:"AgOverlayWrapper",componentClass:iQ},{componentName:"AgGroupComponent",componentClass:PZ},{componentName:"AgPanel",componentClass:QP},{componentName:"AgDialog",componentClass:eO},{componentName:"AgRowContainer",componentClass:MX},{componentName:"AgFakeHorizontalScroll",componentClass:TQ}],i=this.extractModuleEntity(e,function(n){return n.agStackComponents?n.agStackComponents:[]});return t=t.concat(i),t},r.prototype.createBeansList=function(e,t){var i=this.getRowModelClass(e,t);if(!!i){var n=[i,XP,rQ,aQ,fQ,FJ,UX,EY,kJ,UJ,Oq,VY,qJ,xq,qq,BY,g7,la,Re,KZ,aJ,zY,u7,vq,iZ,jq,pJ,O$,mJ,rJ,vX,GJ,cJ,_J,d7,Gq,bq,en,lJ,ph,gX,YJ,tJ,Kq,rZ,pX,bJ,PJ,AJ,JJ,IJ,WJ,Dq,dQ,y7,mQ,vQ,eZ,yQ,wQ,OQ,DQ,xQ],o=this.extractModuleEntity(t,function(a){return a.beans?a.beans:[]});n.push.apply(n,MR(o));var s=[];return n.forEach(function(a){s.indexOf(a)<0&&s.push(a)}),s}},r.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],MR(e.map(t)))},r.prototype.setColumnsAndData=function(e){var t=e.gridOptionsWrapper.getColumnDefs();e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},r.prototype.dispatchGridReadyEvent=function(e){var t={type:A.EVENT_GRID_READY};e.eventService.dispatchEvent(t)},r.prototype.getRowModelClass=function(e,t){e||(e=k.ROW_MODEL_TYPE_CLIENT_SIDE);var i={};t.forEach(function(o){Vt(o.rowModels,function(s,a){i[s]=a})});var n=i[e];if(fe(n))return n;et.isPackageBased()?[k.ROW_MODEL_TYPE_VIEWPORT,k.ROW_MODEL_TYPE_SERVER_SIDE].includes(e)?console.error('AG Grid: Row Model "'+e+`" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/`):console.error("AG Grid: could not find row model for rowModelType "+e):e===k.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+Xe.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===k.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+Xe.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===k.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+Xe.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===k.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+Xe.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+e)},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NQ=function(){function r(){}return r.prototype.wrap=function(e,t,i,n){var o=this;i===void 0&&(i=[]);var s=this.createWrapper(e,n);return t.forEach(function(a){o.createMethod(s,a,!0)}),i.forEach(function(a){o.createMethod(s,a,!1)}),s},r.prototype.unwrap=function(e){return e},r.prototype.createMethod=function(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))},r.prototype.createMethodProxy=function(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},r}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var TR;(function(r){r.InsideBase="insideBase",r.InsideEnd="insideEnd",r.Center="center",r.OutsideEnd="outsideEnd"})(TR||(TR={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v28.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var sc=typeof global>"u"?{}:global;sc.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;sc.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;sc.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;sc.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;sc.Node=typeof Node>"u"?{}:Node;sc.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var GQ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},HQ=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(GQ(arguments[e]));return r},WQ=function(){function r(e,t,i,n,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=t,this.eventService=i,this.columnModel=n,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return r.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},r.prototype.getCopyOfNodesMap=function(){return Ze.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(e){return this.allNodesMap[e]},r.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}var i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,r.TOP_LEVEL)}):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)},r.prototype.updateRowData=function(e,t){var i={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n),t&&Ze.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),i},r.prototype.updateSelection=function(e){var t=e.length>0;if(t&&e.forEach(function(n){n.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),t){var i={type:A.EVENT_SELECTION_CHANGED};this.eventService.dispatchEvent(i)}},r.prototype.executeAdd=function(e,t){var i=this,n=e.add,o=e.addIndex;if(!Ze.missingOrEmpty(n)){var s=n.map(function(d){return i.createNode(d,i.rootNode,r.TOP_LEVEL)}),a=typeof o=="number"&&o>=0,l,u;if(a){var c=this.rootNode.allLeafChildren,h=o===0?0:c.reduce(function(d,p,f){var m,g=p.rowIndex,y=(m=c[d])===null||m===void 0?void 0:m.rowIndex,C=g!=null&&y!=null&&g<o&&g>y;return C?f:d},0)+1;l=c.slice(0,h),u=c.slice(h,c.length)}else l=this.rootNode.allLeafChildren,u=[];this.rootNode.allLeafChildren=HQ(l,s,u),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=s}},r.prototype.executeRemove=function(e,t,i){var n=this,o=e.remove;if(!Ze.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=n.lookupRowNode(a);!l||(l.isSelected()&&i.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete n.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(e,t,i){var n=this,o=e.update;Ze.missingOrEmpty(o)||o.forEach(function(s){var a=n.lookupRowNode(s);!a||(a.updateData(s),!a.selectable&&a.isSelected()&&i.push(a),n.setMasterForRow(a,s,r.TOP_LEVEL,!1),t.update.push(a))})},r.prototype.lookupRowNode=function(e){var t=this.gridOptionsWrapper.getRowIdFunc(),i;if(t){var n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return console.error("AG Grid: could not find row id="+n+", data item was not found for this id"),null}else if(i=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!i)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null},r.prototype.createNode=function(e,t,i){var n=new pt(this.beans);return n.group=!1,this.setMasterForRow(n,e,i,!0),t&&!this.suppressParentsInRowNodes&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("AG Grid: duplicate node id '"+n.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},r.prototype.setMasterForRow=function(e,t,i,n){if(this.doingTreeData)e.setMaster(!1),n&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),n){var o=this.columnModel.getRowGroupColumns(),s=o?o.length:0,a=i+s;e.expanded=e.master?this.isExpanded(a):!1}},r.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return t===-1?!0:e<t},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),VQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dn=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},so;(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"})(so||(so={}));var kQ=function(r){VQ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=Ze.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t}return e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:Dt.EVERYTHING}),i=!this.gridOptionsWrapper.isSuppressAnimationFrame(),n=this.refreshModel.bind(this,{step:Dt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Dt.PIVOT})),this.addManagedListener(this.eventService,A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var o=this.refreshModel.bind(this,{step:Dt.MAP,keepRenderedRows:!0,animate:i});this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new pt(this.beans),this.nodeManager=new WQ(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,i,n,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(i),c=Math.max(l,n),h=Math.min(u,o),d=c;d<=h;d++){var p=this.getRow(d);if(p.rowHeightEstimated){var f=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(f.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.gridOptionsWrapper.getDefaultRowHeight(),i=0,n=new Set,o=this.gridOptionsWrapper.getDomLayout()===k.DOM_LAYOUT_NORMAL,s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&n.add(a.id),a.rowHeight==null){var l=this.gridOptionsWrapper.getRowHeightForNode(a,o,t);a.setRowHeight(l.height,l.estimated)}a.setRowTop(i),a.setRowIndex(s),i+=a.rowHeight}return n},e.prototype.clearRowTopAndRowIndex=function(t,i){var n=t.isActive(),o=function(a){a&&a.id!=null&&!i.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=n&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,i,n){var o=this;n===void 0&&(n=0);var s=this.getRowIndexAtPixel(i),a=this.getRow(s),l=!this.gridOptionsWrapper.isSuppressAnimationFrame();return a===t[0]?!1:(t.forEach(function(u){Ze.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){Ze.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+n,0)+c)}),this.refreshModel({step:Dt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,i){var n=i!=null?this.getRowIndexAtPixel(i):null,o=n!=null?this.getRow(n):null;if(!o||!t||o===t||i==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(i,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,i){if(!i){var n=this.getRowIndexAtPixel(t);if(i=this.getRow(n||0),!i)return ns.Below}var o=i.rowTop,s=i.rowHeight;return t-o<s/2?ns.Above:ns.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var i=this.rootNode.childrenAfterAggFilter;return i?i.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var i=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(i)return t;var n=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex},e.prototype.getRowBounds=function(t){if(Ze.missing(this.rowsToDisplay))return null;var i=this.rowsToDisplay[t];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Dt.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var i=this.gridOptionsWrapper.isAnimateRows(),n=t.columns.length===0||t.columns.some(function(s){return s.isPrimary()}),o=n?Dt.FILTER:Dt.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:i})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Dt.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return k.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Dt.PIVOT}):this.refreshModel({step:Dt.AGGREGATE})},e.prototype.createChangePath=function(t){var i=Ze.missingOrEmpty(t),n=new Dw(!1,this.rootNode);return(i||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||t.rowNodeTransactions==null)return!1;var i=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),n=i==null||i.length==0;return n},e.prototype.refreshModel=function(t){if(!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var i=this.createChangePath(t.rowNodeTransactions);switch(t.step){case Dt.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case Dt.FILTER:this.doFilter(i);case Dt.PIVOT:this.doPivot(i);case Dt.AGGREGATE:this.doAggregate(i);case Dt.FILTER_AGGREGATES:this.doFilterAggregates(i);case Dt.SORT:this.doSort(t.rowNodeTransactions,i);case Dt.MAP:this.doRowsToDisplay()}var n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n);var o={type:A.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(o)}},e.prototype.isEmpty=function(){var t=Ze.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Ze.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return Ze.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,i){var n=!i,o=!1,s,a=[],l=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(u){var c=n&&!o;n||(u===i||u===t)&&(n=!0);var h=u.group&&l;if(!h){var d=n&&!o,p=u.isParentOfNode(s);(d||p)&&a.push(u)}c&&(u===i||u===t)&&(o=!0,u===i?s=i:s=t)}),a},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var i=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=Ze.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((i+n)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?i=l+1:u.rowTop>t&&(n=l-1);var c=s===i&&a===n;if(c)return l;s=i,a=n}},e.prototype.isRowInPixel=function(t,i){var n=t.rowTop,o=t.rowTop+t.rowHeight,s=n<=i&&o>i;return s},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(i,n){return t(i,n)})},e.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,so.Normal,0)},e.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,t,so.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,so.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,so.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(t,i,n,o){if(!t)return o;for(var s=0;s<t.length;s++){var a=t[s];if(i(a,o++),a.hasChildren()){var l=null;switch(n){case so.Normal:l=a.childrenAfterGroup;break;case so.AfterFilter:l=a.childrenAfterAggFilter;break;case so.AfterFilterAndSort:l=a.childrenAfterSort;break;case so.PivotNodes:l=a.leafGroup?null:a.childrenAfterSort;break}l&&(o=this.recursivelyWalkNodesAndCallback(l,i,n,o))}}return o},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var i=this.gridOptionsWrapper.isTreeData(),n=this.columnModel.isPivotActive(),o=function(l){!l||l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(i){var h=Ze.exists(u.childrenAfterGroup);h&&c();return}if(n){var d=!u.leafGroup;d&&c();return}var p=u.group;p&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Dt.MAP});var s=t?"expandAll":"collapseAll",a={type:A.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},e.prototype.doSort=function(t,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:i})},e.prototype.doRowGrouping=function(t,i,n,o,s){this.groupStage?(i?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:i,rowNodeOrder:n,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:s}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(o)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},e.prototype.restoreGroupState=function(t){!t||Ze.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(i,n){typeof t[n]=="boolean"&&(i.expanded=t[n])})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return Ze.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(i,n){return t[n]=i.expanded}),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var i=typeof t=="string"&&t.indexOf(pt.ID_PREFIX_ROW_GROUP)==0;if(i){var n=void 0;return this.forEachNode(function(o){o.id===t&&(n=o)}),n}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var i=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var n={type:A.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:Dt.EVERYTHING,groupState:i,newData:!0})},e.prototype.batchUpdateRowData=function(t,i){var n=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){n.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:i})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var i=[],n=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=t.nodeManager.updateRowData(a.rowDataTransaction,void 0);n.push(l),a.callback&&i.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(n,void 0,o),i.length>0&&window.setTimeout(function(){i.forEach(function(a){return a()})},0),n.length>0){var s={type:A.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,i){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,i),o=typeof t.addIndex=="number";return this.commonUpdateRowData([n],i,o),n},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!t){var i={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var n=0;n<this.rootNode.allLeafChildren.length;n++){var o=this.rootNode.allLeafChildren[n];i[o.id]=n}return i}},e.prototype.commonUpdateRowData=function(t,i,n){var o=!this.gridOptionsWrapper.isSuppressAnimationFrame();n&&(i=this.createRowNodeOrder()),this.refreshModel({step:Dt.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var s={type:A.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Dt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=!1;this.forEachNode(function(i){i.setRowHeight(i.rowHeight,!0);var n=i.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t=!0}),t&&this.onRowHeightChanged()},Dn([M("columnModel")],e.prototype,"columnModel",void 0),Dn([M("selectionService")],e.prototype,"selectionService",void 0),Dn([M("filterManager")],e.prototype,"filterManager",void 0),Dn([M("valueCache")],e.prototype,"valueCache",void 0),Dn([M("beans")],e.prototype,"beans",void 0),Dn([M("filterStage")],e.prototype,"filterStage",void 0),Dn([M("sortStage")],e.prototype,"sortStage",void 0),Dn([M("flattenStage")],e.prototype,"flattenStage",void 0),Dn([It("groupStage")],e.prototype,"groupStage",void 0),Dn([It("aggregationStage")],e.prototype,"aggregationStage",void 0),Dn([It("pivotStage")],e.prototype,"pivotStage",void 0),Dn([It("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),Dn([we],e.prototype,"init",null),e=Dn([Ie("rowModel")],e),e}(me),BQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),PR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},UQ=function(r){BQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var i=t.changedPath;this.filterService.filter(i)},PR([M("filterService")],e.prototype,"filterService",void 0),e=PR([Ie("filterStage")],e),e}(me),zQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jQ=function(r){zQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var i=this,n=this.sortController.getSortOptions(),o=Ze.exists(n)&&n.length>0,s=o&&Ze.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),a=n.some(function(l){return!!i.columnModel.getGroupDisplayColumnForGroup(l.column.getId())});this.sortService.sort(n,o,s,t.rowNodeTransactions,t.changedPath,a)},kp([M("sortService")],e.prototype,"sortService",void 0),kp([M("sortController")],e.prototype,"sortController",void 0),kp([M("columnModel")],e.prototype,"columnModel",void 0),e=kp([Ie("sortStage")],e),e}(me),$Q=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sy=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},YQ=function(r){$Q(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var i=t.rowNode,n=[],o={value:0},s=this.columnModel.isPivotMode(),a=s&&i.leafGroup,l=a?[i]:i.childrenAfterSort;this.recursivelyAddToRowsToDisplay(l,n,o,s,0);var u=n.length>0,c=!a&&u&&this.gridOptionsWrapper.isGroupIncludeTotalFooter();return c&&(this.ensureFooterNodeExists(i),this.addRowNodeToRowsToDisplay(i.sibling,n,o,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(t,i,n,o,s){if(!Ze.missingOrEmpty(t))for(var a=this.gridOptionsWrapper.isGroupHideOpenParents(),l=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),u=!l&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<t.length;c++){var h=t[c],d=h.hasChildren(),p=o&&!d,f=l&&d&&h.childrenAfterGroup.length===1,m=u&&d&&h.leafGroup&&h.childrenAfterGroup.length===1,g=o&&h.leafGroup,y=a&&h.expanded&&!h.master&&!g,C=!p&&!y&&!f&&!m;if(C&&this.addRowNodeToRowsToDisplay(h,i,n,s),!(o&&h.leafGroup)){if(d){var w=f||m;if(h.expanded||w){var S=w?s:s+1;this.recursivelyAddToRowsToDisplay(h.childrenAfterSort,i,n,o,S),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(h),this.addRowNodeToRowsToDisplay(h.sibling,i,n,s))}}else if(h.master&&h.expanded){var b=this.createDetailNode(h);this.addRowNodeToRowsToDisplay(b,i,n,s)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,i,n,o){var s=this.gridOptionsWrapper.isGroupMultiAutoColumn();i.push(t),t.setUiLevel(s?0:o)},e.prototype.ensureFooterNodeExists=function(t){if(!Ze.exists(t.sibling)){var i=new pt(this.beans);Object.keys(t).forEach(function(n){i[n]=t[n]}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,Ze.exists(i.id)&&(i.id="rowGroupFooter_"+i.id),i.sibling=t,t.sibling=i}},e.prototype.createDetailNode=function(t){if(Ze.exists(t.detailNode))return t.detailNode;var i=new pt(this.beans);return i.detail=!0,i.selectable=!1,i.parent=t,Ze.exists(t.id)&&(i.id="detail_"+t.id),i.data=t.data,i.level=t.level+1,t.detailNode=i,i},sy([M("columnModel")],e.prototype,"columnModel",void 0),sy([M("beans")],e.prototype,"beans",void 0),e=sy([Ie("flattenStage")],e),e}(me),KQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},XQ=function(r){KQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(t,i,n,o,s,a){var l=this,u=this.gridOptionsWrapper.isGroupMaintainOrder(),c=this.columnModel.getAllGridColumns().some(function(f){return f.isRowGroupActive()}),h={};n&&o&&(h=this.calculateDirtyNodes(o));var d=this.columnModel.isPivotMode(),p=function(f){l.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);var m=d&&f.leafGroup,g=u&&c&&!f.leafGroup&&!a;if(!i||g||m){var y=f.childrenAfterAggFilter.slice(0);if(u&&f.childrenAfterSort){var C=f.childrenAfterSort.reduce(function(S,b,T){return S[b.id]=T,S},{});y.sort(function(S,b){return(C[S.id]||0)-(C[b.id]||0)})}f.childrenAfterSort=y}else n?f.childrenAfterSort=l.doDeltaSort(f,h,s,t):f.childrenAfterSort=l.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,t);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),l.updateChildIndexes(f),l.postSortFunc){var w={nodes:f.childrenAfterSort};l.postSortFunc(w)}};s&&s.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(s)},e.prototype.calculateDirtyNodes=function(t){var i={},n=function(o){o&&o.forEach(function(s){return i[s.id]=!0})};return t&&t.forEach(function(o){n(o.add),n(o.update),n(o.remove)}),i},e.prototype.doDeltaSort=function(t,i,n,o){var s=this,a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(f){i[f.id]||!n.canSkip(f)?c.push(f):u[f.id]=!0});var h=l.filter(function(f){return u[f.id]}),d=function(f,m){return{currentPos:m,rowNode:f}},p=c.map(d).sort(function(f,m){return s.rowNodeSorter.compareRowNodes(o,f,m)});return this.mergeSortedArrays(o,p,h.map(d)).map(function(f){var m=f.rowNode;return m})},e.prototype.mergeSortedArrays=function(t,i,n){for(var o=[],s=0,a=0;s<i.length&&a<n.length;){var l=this.rowNodeSorter.compareRowNodes(t,i[s],n[a]);l<0?o.push(i[s++]):o.push(n[a++])}for(;s<i.length;)o.push(i[s++]);for(;a<n.length;)o.push(n[a++]);return o},e.prototype.updateChildIndexes=function(t){if(!Ze.missing(t.childrenAfterSort))for(var i=t.childrenAfterSort,n=0;n<i.length;n++){var o=i[n],s=n===0,a=n===t.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(n)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var i=this;if(!!this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData()){var n="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return Ze.doOnce(function(){return console.warn(n)},"sortService.hideOpenParentsWithTreeData"),!1}var o=function(s){i.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(function(a){a.hasChildren()&&o(a)})};t&&t.executeFromRootNode(function(s){return o(s)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,i){var n=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||Ze.missing(t)||t.forEach(function(o){var s=n.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=n.columnModel.getPrimaryColumn(u),h=c===o.rowGroupColumn;if(!h)if(i)o.setGroupValue(a.getId(),void 0);else{var d=o.getFirstChildOfFirstChild(c);d&&o.setGroupValue(a.getId(),d.key)}})})},Bp([M("columnModel")],e.prototype,"columnModel",void 0),Bp([M("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Bp([we],e.prototype,"init",null),e=Bp([Ie("sortService")],e),e}(me),qQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),OR=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ZQ=function(r){qQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(t){var i=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(i,t)},e.prototype.filterNodes=function(t,i){var n=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(h){var d=h.childrenAfterFilter&&h.childrenAfterFilter.length>0,p=h.data&&n.filterManager.doesRowPassFilter({rowNode:h});return d||p}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var h=0;h<u.childrenAfterGroup.length;h++){var d=u.childrenAfterGroup[h],p=c||n.filterManager.doesRowPassFilter({rowNode:d});d.childrenAfterGroup?s(u.childrenAfterGroup[h],p):o(d,p)}o(u,c)},a=function(u){return s(u,!1)};i.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};i.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},OR([M("filterManager")],e.prototype,"filterManager",void 0),e=OR([Ie("filterService")],e),e}(me),JQ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xa=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QQ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},eee=function(r){JQ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.rowModel.getType()===k.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},e.prototype.setRowData=function(t){var i=this.createTransactionForRowData(t);if(!!i){var n=QQ(i,2),o=n[0],s=n[1],a=this.clientSideRowModel.updateRowData(o,s);a&&this.rowRenderer.refreshFullWidthRows(a.update)}},e.prototype.createTransactionForRowData=function(t){if(Ze.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var i=this.gridOptionsWrapper.getRowIdFunc();if(i==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var n={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder(),a=s?void 0:{};return Ze.exists(t)&&t.forEach(function(l,u){var c=i({data:l,level:0}),h=o[c];if(a&&(a[c]=u),h){var d=h.data!==l;d&&n.update.push(l),o[c]=void 0}else n.add.push(l)}),Ze.iterateObject(o,function(l,u){u&&n.remove.push(u.data)}),[n,a]},xa([M("rowModel")],e.prototype,"rowModel",void 0),xa([M("rowRenderer")],e.prototype,"rowRenderer",void 0),xa([M("columnApi")],e.prototype,"columnApi",void 0),xa([M("gridApi")],e.prototype,"gridApi",void 0),xa([M("filterManager")],e.prototype,"filterManager",void 0),xa([we],e.prototype,"postConstruct",null),e=xa([Ie("immutableService")],e),e}(me),tee={moduleName:Xe.ClientSideRowModelModule,beans:[UQ,jQ,YQ,XQ,ZQ,eee],rowModels:{clientSide:kQ}},iee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ay=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},AR=function(r){iee(e,r);function e(t,i,n){var o=r.call(this,t)||this;return o.parentCache=i,o.params=n,o.startRow=t*n.blockSize,o.endRow=o.startRow+n.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,i,n){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),Ze.exists(i)?t.setDataAndId(i,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,i=this.createLoadParams();if(Ze.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(i)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()};return t},e.prototype.forEachNode=function(t,i,n){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<n&&t(s,i.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,i){i===void 0&&(i=!1),i||(this.lastAccessed=this.params.lastAccessedSequence.next());var n=t-this.startRow;return this.rowNodes[n]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var i=this.startRow+t,n=new pt(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(i),n.setRowTop(this.params.rowHeight*i),this.rowNodes.push(n)}},e.prototype.processServerResult=function(t){var i=this;this.rowNodes.forEach(function(o,s){var a=t.rowData?t.rowData[s]:void 0;i.setDataAndId(o,a,i.startRow+s)});var n=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,n)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},ay([M("beans")],e.prototype,"beans",void 0),ay([we],e.prototype,"postConstruct",null),ay([nn],e.prototype,"destroyRowNodes",null),e}(T_),nee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Up=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ree=function(r,e){return function(t,i){e(t,i,r)}},oee=function(r){nee(e,r);function e(t){var i=r.call(this)||this;return i.lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=t.initialRowCount,i.params=t,i}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,i){i===void 0&&(i=!1);var n=Math.floor(t/this.params.blockSize),o=this.blocks[n];if(!o){if(i)return;o=this.createBlock(n)}return o.getRow(t)},e.prototype.createBlock=function(t){var i=this.createBean(new AR(t,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(i){return i.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(i){return t.destroyBlock(i)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,i){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+i),this.checkRowCount(t,i),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var i=this,n=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};n.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach(function(u,c){var h=u.getState()===AR.STATE_WAITING_TO_LOAD&&c>=l,d=s?c>=a:!1;if(h||d){if(i.isBlockCurrentlyDisplayed(u)||i.isBlockFocused(u))return;i.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;var n=t.getStartRow(),o=t.getEndRow(),s=i.rowIndex>=n&&i.rowIndex<o;return s},e.prototype.isBlockCurrentlyDisplayed=function(t){var i=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)},e.prototype.removeBlockFromCache=function(t){!t||this.destroyBlock(t)},e.prototype.checkRowCount=function(t,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(t.getId()+1)*this.params.blockSize,o=n+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,i){this.rowCount=t,Ze.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var i=this,n=new Uu;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,n,i.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(n,o){return n.getId()-o.getId()},i=Ze.getAllValuesInObject(this.blocks).sort(t);return i},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:A.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,i=[];this.getBlocksInOrder().forEach(function(n){var o=n.getId()*t.params.blockSize;o>=t.rowCount&&i.push(n)}),i.length>0&&i.forEach(function(n){return t.destroyBlock(n)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(i){return t.removeBlockFromCache(i)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,i){var n=this,o=[],s=-1,a=!1,l=new Uu;Ze.missing(t)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(h){if(!u){if(a&&s+1!==h.getId()){u=!0;return}s=h.getId(),h.forEachNode(function(d){var p=d===t||d===i;(a||p)&&o.push(d),p&&(a=!a)},l,n.rowCount)}});var c=u||a;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,Up([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Up([M("focusService")],e.prototype,"focusService",void 0),Up([ree(0,bn("loggerFactory"))],e.prototype,"setBeans",null),Up([nn],e.prototype,"destroyAllBlocks",null),e}(me),see=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ms=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},aee=function(r){see(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,i,n,o){return!1},e.prototype.init=function(){var t=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsWrapper.getInitialGroupOrderComparator()!=null){var t="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";Ze.doOnce(function(){return console.warn(t)},"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,A.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Ze.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return k.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,i):[]},e.prototype.reset=function(){if(!!this.datasource){var t=this.gridOptionsWrapper.getRowIdFunc(),i=t!=null;i||this.selectionService.reset(),this.resetCache();var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)}},e.prototype.createModelUpdatedEvent=function(){return{type:A.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Uu},this.infiniteCache=this.createBean(new oee(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,i){return t>0?t:i},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(!!this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var i;return this.forEachNode(function(n){n.id===t&&(i=n)}),i},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var i=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return i>n?n:i}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var i=this.getRowNode(t.id);return!!i},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,i){this.infiniteCache&&this.infiniteCache.setRowCount(t,i)},Ms([M("filterManager")],e.prototype,"filterManager",void 0),Ms([M("sortController")],e.prototype,"sortController",void 0),Ms([M("selectionService")],e.prototype,"selectionService",void 0),Ms([M("rowRenderer")],e.prototype,"rowRenderer",void 0),Ms([M("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Ms([we],e.prototype,"init",null),Ms([nn],e.prototype,"destroyDatasource",null),e=Ms([Ie("rowModel")],e),e}(me),lee={moduleName:Xe.InfiniteRowModelModule,rowModels:{infinite:aee}},uee=function(){function r(){}return r.prototype.setBeans=function(e){this.beans=e},r.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?e+"."+t:e},r.prototype.getData=function(e){var t=this.createSerializingSession(e),i=this.beans.gridSerializer.serialize(t,e);return i},r}(),cee=function(){function r(e){this.groupColumns=[];var t=e.columnModel,i=e.valueService,n=e.gridOptionsWrapper,o=e.processCellCallback,s=e.processHeaderCallback,a=e.processGroupHeaderCallback,l=e.processRowGroupCallback;this.columnModel=t,this.valueService=i,this.gridOptionsWrapper=n,this.processCellCallback=o,this.processHeaderCallback=s,this.processGroupHeaderCallback=a,this.processRowGroupCallback=l}return r.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t!=null?t:""},r.prototype.extractRowCellValue=function(e,t,i,n,o){var s=this.gridOptionsWrapper.isGroupHideOpenParents(),a=!s&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:i,rowNode:o,column:e,value:a,processCellCallback:this.processCellCallback,type:n});return l!=null?l:""},r.prototype.shouldRenderGroupSummaryCell=function(e,t,i){var n,o=e&&e.group;if(!o)return!1;var s=this.groupColumns.indexOf(t);if(s!==-1&&((n=e.groupData)===null||n===void 0?void 0:n[t.getId()]))return!0;var a=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode());return i===0&&a},r.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},r.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},r.prototype.processCell=function(e){var t=e.accumulatedRowIndex,i=e.rowNode,n=e.column,o=e.value,s=e.processCellCallback,a=e.type;return s?s({accumulatedRowIndex:t,column:n,node:i,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:a}):o!=null?o:""},r}(),hee=function(){function r(){}return r.download=function(e,t){var i=document.defaultView||window;if(!i){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var n=document.createElement("a"),o=i.URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(function(){i.URL.revokeObjectURL(o)},0)},r}(),dee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),DR=`\r
`,pee=function(r){dee(e,r);function e(t){var i=r.call(this,t)||this;i.isFirstLine=!0,i.result="";var n=t.suppressQuotes,o=t.columnSeparator;return i.suppressQuotes=n,i.columnSeparator=o,i}return e.prototype.addCustomContent=function(t){var i=this;!t||(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,DR),this.result+=t):t.forEach(function(n){i.beginNewLine(),n.forEach(function(o,s){s!==0&&(i.result+=i.columnSeparator),i.result+=i.putInQuotes(o.data.value||""),o.mergeAcross&&i.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,i,n,o){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var i=1;i<=t;i++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,i){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,i,i,k.EXPORT_TYPE_CSV,n))},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var i;typeof t=="string"?i=t:typeof t.toString=="function"?i=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i="");var n=i.replace(/"/g,'""');return'"'+n+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=DR),this.isFirstLine=!1},e}(cee),fee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kl=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gee=function(r){fee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.getMergedParams=function(t){var i=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},i,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var i=this.getMergedParams(t),n=this.getData(i),o=new Blob(["\uFEFF",n],{type:"text/plain"});return hee.download(this.getFileName(i.fileName),o),n},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,i){i===void 0&&(i=!1);var n=i?Object.assign({},t):this.getMergedParams(t);return this.getData(n)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var i=this,n=i.columnModel,o=i.valueService,s=i.gridOptionsWrapper,a=t,l=a.processCellCallback,u=a.processHeaderCallback,c=a.processGroupHeaderCallback,h=a.processRowGroupCallback,d=a.suppressQuotes,p=a.columnSeparator;return new pee({columnModel:n,valueService:o,gridOptionsWrapper:s,processCellCallback:l||void 0,processHeaderCallback:u||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:h||void 0,suppressQuotes:d||!1,columnSeparator:p||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Kl([M("columnModel")],e.prototype,"columnModel",void 0),Kl([M("valueService")],e.prototype,"valueService",void 0),Kl([M("gridSerializer")],e.prototype,"gridSerializer",void 0),Kl([M("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Kl([we],e.prototype,"postConstruct",null),e=Kl([Ie("csvCreator")],e),e}(uee),mee=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},r(e,t)};return function(e,t){r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ra=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},IR;(function(r){r[r.HEADER_GROUPING=0]="HEADER_GROUPING",r[r.HEADER=1]="HEADER",r[r.BODY=2]="BODY"})(IR||(IR={}));var vee=function(r){mee(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.serialize=function(t,i){i===void 0&&(i={});var n=this.getColumnsToExport(i.allColumns,i.columnKeys),o=Ze.compose(this.prepareSession(n),this.prependContent(i),this.exportColumnGroups(i,n),this.exportHeaders(i,n),this.processPinnedTopRows(i,n),this.processRows(i,n),this.processPinnedBottomRows(i,n),this.appendContent(i));return o(t).parse()},e.prototype.processRow=function(t,i,n,o){var s=i.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsWrapper,l=a.getContext(),u=a.getApi(),c=a.getColumnApi(),h=a.isGroupRemoveSingleChildren(),d=a.isGroupRemoveLowestSingleChildren(),p=i.rowPositions!=null,f=p||!!i.onlySelected,m=a.isGroupHideOpenParents()&&!f,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,y=i.skipGroups||i.skipRowGroups,C=d&&o.leafGroup,w=o.allChildrenCount===1&&(h||C);if(y&&i.skipGroups&&Ze.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!g&&(i.skipRowGroups||w||m)||i.onlySelected&&!o.isSelected()||i.skipPinnedTop&&o.rowPinned==="top"||i.skipPinnedBottom&&o.rowPinned==="bottom")){var S=o.level===-1;if(!(S&&!o.leafGroup&&(!o.footer||!p))){var b=s({node:o,api:u,columnApi:c,context:l});if(!b){var T=t.onNewBodyRow();if(n.forEach(function(R,P){T.onColumn(R,P,o)}),i.getCustomContentBelowRow){var F=i.getCustomContentBelowRow({node:o,api:u,columnApi:c,context:l});F&&t.addCustomContent(F)}}}}},e.prototype.appendContent=function(t){return function(i){var n=t.customFooter||t.appendContent;return n&&(t.customFooter&&Ze.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),i.addCustomContent(n)),i}},e.prototype.prependContent=function(t){return function(i){var n=t.customHeader||t.prependContent;return n&&(t.customHeader&&Ze.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),i.addCustomContent(n)),i}},e.prototype.prepareSession=function(t){return function(i){return i.prepare(t),i}},e.prototype.exportColumnGroups=function(t,i){var n=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&Ze.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var s=new YT,a=n.displayedGroupCreator.createDisplayedGroups(i,n.columnModel.getGridBalancedTree(),s,null);n.recursivelyAddHeaderGroups(a,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,i){return function(n){if(!t.skipHeader&&!t.skipColumnHeaders){var o=n.onNewHeaderRow();i.forEach(function(s,a){o.onColumn(s,a,void 0)})}else t.skipHeader&&Ze.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return n}},e.prototype.processPinnedTopRows=function(t,i){var n=this;return function(o){var s=n.processRow.bind(n,o,t,i);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return n.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):n.pinnedRowModel.forEachPinnedTopRow(s),o}},e.prototype.processRows=function(t,i){var n=this;return function(o){var s=n.rowModel,a=s.getType(),l=a===k.ROW_MODEL_TYPE_CLIENT_SIDE,u=a===k.ROW_MODEL_TYPE_SERVER_SIDE,c=!l&&t.onlySelected,h=n.processRow.bind(n,o,t,i),d=t.exportedRows,p=d===void 0?"filteredAndSorted":d;if(t.rowPositions)t.rowPositions.filter(function(m){return m.rowPinned==null}).sort(function(m,g){return m.rowIndex-g.rowIndex}).map(function(m){return s.getRow(m.rowIndex)}).forEach(h);else if(n.columnModel.isPivotMode())l?s.forEachPivotNode(h):s.forEachNode(h);else if(t.onlySelectedAllPages||c){var f=n.selectionService.getSelectedNodes();f.forEach(h)}else p==="all"?s.forEachNode(h):l||u?s.forEachNodeAfterFilterAndSort(h):s.forEachNode(h);return o}},e.prototype.processPinnedBottomRows=function(t,i){var n=this;return function(o){var s=n.processRow.bind(n,o,t,i);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return n.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):n.pinnedRowModel.forEachPinnedBottomRow(s),o}},e.prototype.getColumnsToExport=function(t,i){t===void 0&&(t=!1);var n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);if(t&&!n){var o=this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([k.GROUP_AUTO_COLUMN_ID]):[];return o.concat(this.columnModel.getAllPrimaryColumns()||[])}return this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,i,n){var o=[];t.forEach(function(s){var a=s;!a.getChildren||a.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof gn&&this.doAddHeaderHeader(i,t,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,i,n)},e.prototype.doAddHeaderHeader=function(t,i,n){var o=this,s=t.onNewHeaderGroupingRow(),a=0;i.forEach(function(l){var u=l,c;n?c=n({columnGroup:u,api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()}):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var h=u.getLeafColumns().reduce(function(d,p,f,m){var g=Ze.last(d),y=p.getColumnGroupShow()==="open";return y?(!g||g[1]!=null)&&(g=[f],d.push(g)):g&&g[1]==null&&(g[1]=f-1),f===m.length-1&&g&&g[1]==null&&(g[1]=f),d},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,h)})},Ra([M("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Ra([M("columnModel")],e.prototype,"columnModel",void 0),Ra([M("rowModel")],e.prototype,"rowModel",void 0),Ra([M("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ra([M("selectionService")],e.prototype,"selectionService",void 0),Ra([M("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),e=Ra([Ie("gridSerializer")],e),e}(me),yee={moduleName:Xe.CsvExportModule,beans:[gee,vee]},_ee=[tee,lee,yee];et.registerModules(_ee);class Vh{static getComponentDefinition(e,t){let i;return typeof e=="string"?i=this.searchForComponentInstance(t,e):i={extends:HR(Object.assign({},e))},i||console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),i.extends?(i.extends.setup&&(i.setup=i.extends.setup),i.extends.props=this.addParamsToProps(i.extends.props)):i.props=this.addParamsToProps(i.props),i}static addParamsToProps(e){return!e||Array.isArray(e)&&e.indexOf("params")===-1?e=["params",...e||[]]:typeof e=="object"&&!e.params&&(e.params={type:Object}),e}static createAndMountComponent(e,t,i,n){const o=Vh.getComponentDefinition(e,i);if(!o)return;const{vNode:s,destroy:a,el:l}=this.mount(o,{params:Object.freeze(t)},i,n||{});return{componentInstance:s.component.proxy,element:l,destroy:a}}static mount(e,t,i,n){let o=Wt(e,t);o.appContext=i.$.appContext,o.appContext.provides=Object.assign(Object.assign(Object.assign({},n),o.appContext.provides?o.appContext.provides:{}),i.$parent.$options.provide?i.$parent.$options.provide:{});let s=document.createElement("div");return E0(o,s),{vNode:o,destroy:()=>{s&&E0(null,s),s=null,o=null},el:s}}static searchForComponentInstance(e,t,i=10,n=!1){let o=null,s=e.$parent,a=0;for(;!o&&s&&s.$options&&++a<i;){const l=s;o=l.$options&&l.$options.components?l.$options.components[t]:null,s=s.$parent}if(!o){const l=e.$.appContext.components;l&&l[t]&&(o=l[t])}return!o&&!n?(console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),null):o}}class fh extends NQ{constructor(e,t){super(),this.parent=e,fh.provides||(fh.provides=t)}createWrapper(e){const t=this;class i extends Cee{init(s){super.init(s)}hasMethod(s){return n.getFrameworkComponentInstance()[s]!=null}callMethod(s,a){const l=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[s].apply(l,a)}addMethod(s,a){n[s]=a}overrideProcessing(s){return t.parent.autoParamsRefresh&&s==="refresh"}processMethod(s,a){return s==="refresh"&&(this.getFrameworkComponentInstance().params=a[0]),this.hasMethod(s)?this.callMethod(s,a):s==="refresh"}createComponent(s){return t.createComponent(e,s)}}const n=new i;return n}createComponent(e,t){return Vh.createAndMountComponent(e,t,this.parent,fh.provides)}createMethodProxy(e,t,i){return function(){return e.overrideProcessing(t)?e.processMethod(t,arguments):e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}destroy(){this.parent=null}}class Cee{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){const{componentInstance:t,element:i,destroy:n}=this.createComponent(e);this.componentInstance=t,this.unmount=n,this.element=i.firstElementChild}}const wee=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),See=r=>`on${r.charAt(0).toUpperCase()}${r.substring(1,r.length)}`,Eee=()=>{const r={};Kr.PUBLIC_EVENTS.map(i=>See(wee(i))).forEach(i=>r[i]=void 0);const t={};return Kr.ALL_PROPERTIES.filter(i=>i!="gridOptions").forEach(i=>{r[i]={},t[i]={handler(n,o){this.processChanges(i,n,o)},deep:i!=="popupParent"&&i!=="context"}}),[r,t]};class ka{static hasChildColumns(e){return e&&e.default&&e.default().length>0}static mapChildColumnDefs(e){return e.default().map(t=>ka.toColDef(t))}static toColDef(e){const t=ka.createColDefFromGridColumn(e);return e.children&&e.children.length>0&&(t.children=ka.getChildColDefs(e.children)),t}static getChildColDefs(e){return e.map(t=>ka.createColDefFromGridColumn(t))}static createColDefFromGridColumn(e){const t={};return Object.assign(t,e.props),delete t.children,h_.BOOLEAN_PROPERTIES.forEach(i=>{const n=t;n[i]===""&&(n[i]=!0)}),t}}class xee extends tO{constructor(e){super(),this.parent=e}frameworkComponent(e,t){let i=Vh.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!i&&t&&t[e]){const n=t[e];i=Vh.searchForComponentInstance(this.parent,n,10,!0)?n:null}return i}isFrameworkComponent(e){return typeof e=="object"}}const Ree=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],LR="onUpdate:modelValue",bee="update:modelValue",[Mee,Tee]=Eee(),Jg=HR({render(){return FR("div")},props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},Mee),data(){return{gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},watch:Object.assign({modelValue:{handler(r,e){this.processChanges("rowData",r,e)},deep:!0}},Tee),methods:{globalEventListener(r,e){this.isDestroyed||(r==="gridReady"&&(this.gridReadyFired=!0),this.updateModelIfUsed(r))},processChanges(r,e,t){if(this.gridCreated){if(this.skipChange(r,e,t))return;const i={};i[r]={currentValue:r==="rowData"?Object.isFrozen(e)?e:um(cm(e)):e,previousValue:t},Kr.processOnChange(i,this.gridOptions,this.gridOptions.api,this.gridOptions.columnApi)}},checkForBindingConflicts(){const r=this;(r.rowData||this.gridOptions.rowData)&&r.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const r=[];return this.gridOptions.api.forEachNode(e=>{r.push(e.data)}),r},updateModelIfUsed(r){this.gridReadyFired&&this.$attrs[LR]&&Ree.indexOf(r)!==-1&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const r=this,e=r.modelValue;return e||(r.rowData?r.rowData:r.gridOptions.rowData)},getProvides(){let r=vD(),e={};for(;r;)r&&r.provides&&(e=Object.assign(Object.assign({},e),r.provides)),r=r.parent;return e},skipChange(r,e,t){if(this.gridReadyFired&&r==="rowData"&&this.$attrs[LR]){if(e===t)return!0;if(e&&t){const i=e,n=t;if(i.length===n.length){for(let o=0;o<i.length;o++)if(i[o]!==n[o])return!1;return!0}}}return!1},debounce(r,e){let t;return()=>{const i=function(){r()};window.clearTimeout(t),t=window.setTimeout(i,e)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(bee,Object.freeze(this.getRowData()))},20);const r=this.getProvides(),e=new fh(this,r),t=um(Kr.copyAttributesToGridOptions(cm(this.gridOptions),this));this.checkForBindingConflicts();const i=this.getRowDataBasedOnBindings();t.rowData=i&&(Object.isFrozen(i)?i:um(cm(i))),ka.hasChildColumns(this.$slots)&&(t.columnDefs=ka.mapChildColumnDefs(this.$slots));const n={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new xee(this),providedBeanInstances:{frameworkComponentWrapper:e},modules:this.modules};new LQ(this.$el,t,n),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}}),Pee={class:"d-flex gap-2"},Oee=L("i",{class:"fa-solid fa-search cursor-pointer"},null,-1),Aee=[Oee],Dee={__name:"Attribute",props:["params"],setup(r){function e(t){const i=Qp.find(function(o){return A_==="geoserver"?o.properties.uuid===t.uuid:o.attributes.uuid===t.uuid});function n(){return A_==="geoserver"?(Hu.value=i.properties,console.log(i.geometry),new Mh({featureProjection:Pt.getView().getProjection()}).readGeometry(i.geometry)):(Hu.value=i.attributes,console.log(i),new uM().readGeometry(i.geometry))}wf.getSource().clear(),wf.getSource().addFeature(new yr(n())),Pt.getView().fit(n(),Pt.getSize())}return(t,i)=>(Le(),Be("div",Pee,[L("span",{onClick:i[0]||(i[0]=n=>e(r.params.data))},Aee)]))}};let Is,O_,Qp=[],A_="";const Iee={resizable:!0};function Lee(r){Is=r.api,O_=r.columnApi,Nee(),Is.hideOverlay()}function Fee(r){Is.setQuickFilter(r.target.value)}function Nee(){const r=[];O_.getColumns().forEach(e=>{r.push(e.getId())}),O_.autoSizeColumns(r,!1)}function Gee(r){const e=[8353313775117298e-9,-344572537384124e-8,15542331711382687e-9,3.3845737448304594e6],t="0",i="EPSG:3857".split(/:(?=\d+$)/).pop();return r+"/"+t+"/query/?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent('{"xmin":'+e[0]+',"ymin":'+e[1]+',"xmax":'+e[2]+',"ymax":'+e[3]+',"spatialReference":{"wkid":'+i+"}}")+"&geometryType=esriGeometryEnvelope&inSR="+i+"&outFields=*&outSR="+i}async function Hee(r){A_=r.serverType,Is.showLoadingOverlay();const e=[];Qp=[];const t=Is.getColumnDefs();if(t.length=0,t.push({field:"Action",width:90,cellRenderer:Dee}),r.serverType==="geoserver"){const i=gM(r.url,r.name_layer),n=await xu.get(i),{features:o}=n.data;o.map(a=>{Qp.push(a),e.push(Object.assign(a.properties,{uuid:crypto.randomUUID()}))}),Object.keys(o[0].properties).forEach(a=>t.push({field:a}))}else{const i=Gee(r.url),n=await xu.get(i),{features:o}=n.data;o.map(a=>{Qp.push(a),e.push(Object.assign(a.attributes,{uuid:crypto.randomUUID()}))}),Object.keys(o[0].attributes).forEach(a=>t.push({field:a}))}Is.setColumnDefs(t),Is.setRowData(e),Is.hideOverlay()}const Wee={style:{height:"13%"},class:"d-flex align-items-center justify-content-between mx-2"},Vee={class:"d-flex gap-2"},kee=L("option",{disabled:"",value:{}},"Choose Available WFS",-1),Bee=["value"],Uee={class:"input-group input-group-sm"},zee=L("span",{class:"input-group-text"},[L("i",{class:"fa-solid fa-magnifying-glass"})],-1),jee={__name:"AttributeTable",setup(r){const e=ci(!1),t=ci({});return D_(t,(i,n)=>{Hee(i)}),(i,n)=>(Le(),Be(Er,null,[L("div",Wee,[L("div",Vee,[vt(L("select",{class:"form-select form-select-sm","onUpdate:modelValue":n[0]||(n[0]=o=>t.value=o)},[kee,(Le(!0),Be(Er,null,lg(z(kg).assetkukar,o=>(Le(),Be("option",{key:o.id,value:o},bi(o.name),9,Bee))),128))],512),[[yD,t.value]]),L("div",Uee,[zee,L("input",{type:"text",class:"form-control",placeholder:"Keyword",onInput:n[1]||(n[1]=o=>z(Fee)(o))},null,32)])]),L("div",{class:"close-btn cursor-pointer",onMouseover:n[2]||(n[2]=o=>e.value=!0),onMouseleave:n[3]||(n[3]=o=>e.value=!1),onClick:n[4]||(n[4]=()=>z(VC)())},[L("i",{class:Li(["fa-circle-xmark fa-lg",e.value?"fa-solid":"fa-regular"])},null,2)],32)]),Wt(z(Jg),{class:"ag-theme-alpine",style:{height:"87%"},onGridReady:z(Lee),cacheQuickFilter:!0,pagination:!0,autoGroupColumnDef:{minWidth:170},paginationPageSize:"10",defaultColDef:z(Iee),rowSelection:"single",animateRows:"true"},null,8,["onGridReady","defaultColDef"])],64))}},$ee={class:"d-flex gap-2"},Yee=L("i",{class:"fa-solid fa-droplet cursor-pointer"},null,-1),Kee=[Yee],Xee=L("i",{class:"fa-solid fa-pen-to-square cursor-pointer"},null,-1),qee=[Xee],Zee=L("i",{class:"fa-solid fa-trash cursor-pointer"},null,-1),Jee=[Zee],Qee={__name:"Layer",props:["params"],setup(r){async function e(t){const{id:i}=t;oh.fire({title:"Are you sure?",text:"Layers could't be able to revert!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0d6efd",cancelButtonColor:"#dc3545",confirmButtonText:"Yes, delete it!"}).then(async n=>{if(n.isConfirmed)try{await vn.delete(`/layers/${i}/`),Wn&&Wn.showLoadingOverlay();const o=await em();Qg(o),Wn&&Wn.hideOverlay(),xo.fire({icon:"success",title:"Layer Deleted!"})}catch(o){console.error(o),xo.fire({icon:"error",title:"Failed to Remove Layer!"})}})}return(t,i)=>(Le(),Be("div",$ee,[L("span",{onClick:i[0]||(i[0]=n=>z(d6)(r.params.data))},Kee),L("span",{onClick:i[1]||(i[1]=n=>z(h6)(r.params.data))},qee),L("span",{onClick:i[2]||(i[2]=n=>e(r.params.data))},Jee)]))}};let Wn;const{role:ete}=JSON.parse(sa(sessionStorage.getItem("userData"))),tte=Pn({value:[{headerName:"Layer Name",field:"name",flex:1},{headerName:"Layer Service",field:"name_layer",flex:1},{headerName:"URL Service",field:"url",flex:1},{headerName:"Year",field:"year"},{field:"Options",width:90,cellRenderer:Qee,hide:ete!=="admin"}]}),Qg=r=>Wn.setRowData(r),ite={resizable:!0};async function em(){const r=await vn.get(`/layers/?project=${qr()}`),{results:e}=r.data;return e}async function nte(r){try{Wn=r.api;const e=await em();Qg(e)}catch(e){console.log(e)}}const ml=r=>(Rr("data-v-f01e1d5f"),r=r(),br(),r),rte={class:"modal fade",id:"add-layer-modal","data-bs-backdrop":"static","data-bs-keyboard":"false"},ote={class:"modal-dialog modal-dialog-centered"},ste={class:"modal-content"},ate={class:"modal-header"},lte=ml(()=>L("h1",{class:"modal-title fs-5"},"Create New Layer",-1)),ute=["onSubmit"],cte={class:"modal-body"},hte={class:"mb-2"},dte=ml(()=>L("label",{class:"form-label"},"Layer Name",-1)),pte={class:"mb-2"},fte=ml(()=>L("label",{class:"form-label"},"Layer Name Service",-1)),gte=ml(()=>L("div",{class:"mb-2"},[L("label",{class:"form-label"},"Project"),L("select",{class:"form-select form-select-sm"},[L("option",{selected:""},"assetkukar")])],-1)),mte={class:"mb-2"},vte=ml(()=>L("label",{class:"form-label"},"URL Link",-1)),yte={class:"mb-2"},_te=ml(()=>L("label",{class:"form-label"},"Year",-1)),Cte={class:"modal-footer"},wte=ml(()=>L("button",{type:"submit",class:"btn btn-primary btn-sm"},"Add Layer",-1)),Ste={__name:"CreateLayer",setup(r){const e=Pn({name:"",name_service:"",projectId:qr(),url:"",year:new Date().getFullYear()});async function t(){const i=sessionStorage.getItem("id"),n=sessionStorage.getItem("organization");try{await vn.post("/layers/",{name:e.name,project:e.projectId,url:e.url,name_layer:e.name_service,year:e.year,user:i,organization:n}),Wn&&Wn.showLoadingOverlay();const o=await em();Qg(o),Wn&&Wn.hideOverlay(),xo.fire({icon:"success",title:"Layer Added!"}),wc()}catch(o){console.error(o),xo.fire({icon:"error",title:"Layer Not Added!",text:"Please insert correct data"})}}return(i,n)=>(Le(),Be("div",rte,[L("div",ote,[L("div",ste,[L("div",ate,[lte,L("button",{type:"button",class:"btn-close",onClick:n[0]||(n[0]=(...o)=>z(wc)&&z(wc)(...o))})]),L("form",{onSubmit:L_(t,["prevent"])},[L("div",cte,[L("div",hte,[dte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":n[1]||(n[1]=o=>e.name=o)},null,512),[[wn,e.name]])]),L("div",pte,[fte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":n[2]||(n[2]=o=>e.name_service=o)},null,512),[[wn,e.name_service]])]),gte,L("div",mte,[vte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":n[3]||(n[3]=o=>e.url=o)},null,512),[[wn,e.url]])]),L("div",yte,[_te,vt(L("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":n[4]||(n[4]=o=>e.year=o)},null,512),[[wn,e.year]])])]),L("div",Cte,[L("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:n[5]||(n[5]=(...o)=>z(wc)&&z(wc)(...o))},"Close"),wte])],40,ute)])])]))}},Ete=kn(Ste,[["__scopeId","data-v-f01e1d5f"]]);const vl=r=>(Rr("data-v-78199f67"),r=r(),br(),r),xte={class:"modal fade",id:"update-layer-modal","data-bs-backdrop":"static","data-bs-keyboard":"false"},Rte={class:"modal-dialog modal-dialog-centered"},bte={class:"modal-content"},Mte={class:"modal-header"},Tte=vl(()=>L("h1",{class:"modal-title fs-5"},"Update New Layer",-1)),Pte=["onSubmit"],Ote={class:"modal-body"},Ate={class:"mb-2"},Dte=vl(()=>L("label",{class:"form-label"},"Layer Name",-1)),Ite={class:"mb-2"},Lte=vl(()=>L("label",{class:"form-label"},"Layer Name Service",-1)),Fte=vl(()=>L("div",{class:"mb-2"},[L("label",{class:"form-label"},"Project"),L("select",{class:"form-select form-select-sm"},[L("option",{selected:""},"assetkukar")])],-1)),Nte={class:"mb-2"},Gte=vl(()=>L("label",{class:"form-label"},"URL Link",-1)),Hte={class:"mb-2"},Wte=vl(()=>L("label",{class:"form-label"},"Year",-1)),Vte={class:"modal-footer"},kte=vl(()=>L("button",{type:"submit",class:"btn btn-primary btn-sm"},"Update Layer",-1)),Bte={__name:"UpdateLayer",setup(r){async function e(){const t=sessionStorage.getItem("id"),i=sessionStorage.getItem("organization");try{await vn.put(`/layers/${ei.id}/`,{name:ei.name,project:ei.projectId,url:ei.url,name_layer:ei.name_service,year:ei.year,user:t,organization:i}),Wn&&Wn.showLoadingOverlay();const n=await em();Qg(n),Wn&&Wn.hideOverlay(),xo.fire({icon:"success",title:"Layer Updated!"}),Sc()}catch(n){console.error(n),xo.fire({icon:"error",title:"Layer Not Updated!",text:"Please insert correct data"})}}return(t,i)=>(Le(),Be("div",xte,[L("div",Rte,[L("div",bte,[L("div",Mte,[Tte,L("button",{type:"button",class:"btn-close",onClick:i[0]||(i[0]=(...n)=>z(Sc)&&z(Sc)(...n))})]),L("form",{onSubmit:L_(e,["prevent"])},[L("div",Ote,[L("div",Ate,[Dte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":i[1]||(i[1]=n=>z(ei).name=n)},null,512),[[wn,z(ei).name]])]),L("div",Ite,[Lte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":i[2]||(i[2]=n=>z(ei).name_service=n)},null,512),[[wn,z(ei).name_service]])]),Fte,L("div",Nte,[Gte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":i[3]||(i[3]=n=>z(ei).url=n)},null,512),[[wn,z(ei).url]])]),L("div",Hte,[Wte,vt(L("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":i[4]||(i[4]=n=>z(ei).year=n)},null,512),[[wn,z(ei).year]])])]),L("div",Vte,[L("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:i[5]||(i[5]=(...n)=>z(Sc)&&z(Sc)(...n))},"Cancel"),kte])],40,Pte)])])]))}},Ute=kn(Bte,[["__scopeId","data-v-78199f67"]]);const iO=r=>(Rr("data-v-7d5444af"),r=r(),br(),r),zte={class:"modal fade",id:"style-layer-modal","data-bs-backdrop":"static","data-bs-keyboard":"false"},jte={class:"modal-dialog modal-dialog-centered"},$te={class:"modal-content"},Yte={class:"modal-header"},Kte=iO(()=>L("h1",{class:"modal-title fs-5"},"Styling Layer",-1)),Xte=_D('<div class="modal-body" data-v-7d5444af><div class="mb-2" data-v-7d5444af><label class="form-label" data-v-7d5444af>Color</label><div class="d-flex gap-2 align-items-center" data-v-7d5444af><input type="text" class="form-control form-control-sm" data-v-7d5444af><input type="color" id="colorInput" value="#563d7c" title="Choose your color" data-v-7d5444af></div></div><div class="mb-2" data-v-7d5444af><label class="form-label" data-v-7d5444af>Stroke</label><input type="number" class="form-control form-control-sm" data-v-7d5444af></div><div class="mb-2" data-v-7d5444af><label class="form-label" data-v-7d5444af>Type</label><select class="form-select form-select-sm" data-v-7d5444af><option selected data-v-7d5444af>Select Type</option><option value="1" data-v-7d5444af>Line</option><option value="2" data-v-7d5444af>Polygon</option></select></div><div class="mb-2" data-v-7d5444af><label class="form-label" data-v-7d5444af>Model</label><select class="form-select form-select-sm" data-v-7d5444af><option selected data-v-7d5444af>Select Model</option><option value="1" data-v-7d5444af>Solid</option><option value="2" data-v-7d5444af>Dashed</option><option value="2" data-v-7d5444af>Dot</option><option value="2" data-v-7d5444af>Line Dot</option><option value="2" data-v-7d5444af>Railroad</option><option value="2" data-v-7d5444af>Labeled</option><option value="2" data-v-7d5444af>Net</option><option value="2" data-v-7d5444af>Transparent</option></select></div></div>',1),qte={class:"modal-footer"},Zte=iO(()=>L("button",{type:"submit",class:"btn btn-primary btn-sm"},"Save Style",-1)),Jte={__name:"SetStyleLayer",setup(r){return(e,t)=>(Le(),Be("div",zte,[L("div",jte,[L("div",$te,[L("div",Yte,[Kte,L("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=(...i)=>z(pp)&&z(pp)(...i))})]),L("form",{onSubmit:t[2]||(t[2]=L_(()=>{},["prevent"]))},[Xte,L("div",qte,[L("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:t[1]||(t[1]=(...i)=>z(pp)&&z(pp)(...i))},"Close"),Zte])],32)])])]))}},Qte=kn(Jte,[["__scopeId","data-v-7d5444af"]]),eie={style:{height:"13%"},class:"d-flex align-items-center justify-content-between mx-2"},tie=L("div",null,null,-1),iie=L("ul",{id:"pagination-layers",style:{height:"12%"}},null,-1),nie={__name:"LayerTable",setup(r){const e=ci(!1),{role:t}=JSON.parse(sa(sessionStorage.getItem("userData")));return(i,n)=>(Le(),Be(Er,null,[L("div",eie,[tie,L("div",{class:"close-btn cursor-pointer",onMouseover:n[0]||(n[0]=o=>e.value=!0),onMouseleave:n[1]||(n[1]=o=>e.value=!1),onClick:n[2]||(n[2]=()=>z(VC)())},[L("i",{class:Li(["fa-circle-xmark fa-xl",e.value?"fa-solid":"fa-regular"])},null,2)],32)]),z(t)==="admin"?(Le(),Ur(Ete,{key:0})):Ci("",!0),z(t)==="admin"?(Le(),Ur(Ute,{key:1})):Ci("",!0),z(t)==="admin"?(Le(),Ur(Qte,{key:2})):Ci("",!0),Wt(z(Jg),{class:"ag-theme-alpine",style:{height:"75%"},onGridReady:z(nte),columnDefs:z(tte).value,defaultColDef:z(ite),rowSelection:"single",animateRows:"true"},null,8,["onGridReady","columnDefs","defaultColDef"]),iie],64))}};let ll,kh=1;const pu=ci(""),rie=Pn({value:[{headerName:"Image Name",field:"base_name",flex:1},{headerName:"Shooting Time",field:"shooting_time",flex:1},{headerName:"Latitude",field:"lat"},{headerName:"Longitude",field:"lon"},{headerName:"Year",field:"year"}]}),oie={resizable:!0},Iw=r=>ll.setRowData(r);function sie(){const r=ll.getSelectedRows(),{id:e}=r[0];Gu(e,!1)}async function nO(r=!1){r&&oO();try{ll.showLoadingOverlay();const e=await vn.get(`/panoramas/?p=${kh}&page_size=10&search=${pu.value}&project=${qr()}`),{count:t,results:i}=e.data;Iw(i),ll.hideOverlay(),r&&Lw(t)}catch(e){console.log(e)}}async function rO(r=!1){r&&oO();try{ll.showLoadingOverlay();const e=await vn.get(`/panoramas/?p=${kh}&page_size=10&project=${qr()}`),{count:t,results:i}=e.data;Iw(i),ll.hideOverlay(),r&&Lw(t)}catch(e){console.log(e)}}async function aie(r){try{ll=r.api;const e=await vn.get(`/panoramas/?p=${kh}&page_size=10&project=${qr()}`),{count:t,results:i}=e.data;Iw(i),Lw(t)}catch(e){console.log(e)}}function lie(r,e){const t=`<span class="ag-paging-description panorama-description" role="status">
    <span id="ag-25-start-page">Page</span>
    <span id="ag-25-start-page-number" ref="lbCurrent" class="ag-paging-number">${r}</span>
    <span id="ag-25-of-page">of</span>
    <span id="ag-25-of-page-number" ref="lbTotal" class="ag-paging-number">${e}</span>
  </span>`;$(t).insertAfter("#pagination-panorama .prev-panorama")}function Lw(r){let e=Math.ceil(r/10);$("#pagination-panorama").twbsPagination({totalPages:e,visiblePages:0,onPageClick:function(t,i){kh=i,pu?nO():rO(),lie(kh,e)},first:'<span class="ag-icon ag-icon-first"></span>',last:'<span class="ag-icon ag-icon-last"></span>',next:'<span class="ag-icon ag-icon-next"></span>',prev:'<span class="ag-icon ag-icon-previous"></span>',paginationClass:"ag-theme-alpine ag-paging-panel mb-0 me-4 border-top-0",nextClass:"ag-paging-button next-panorama",prevClass:"ag-paging-button prev-panorama",lastClass:"ag-paging-button",firstClass:"ag-paging-button",pageClass:"",activeClass:"",disabledClass:"ag-disabled",anchorClass:!1})}function oO(){$("#pagination-panorama").twbsPagination("destroy")}const sO=r=>(Rr("data-v-d0ffe9ca"),r=r(),br(),r),uie={style:{height:"13%"},class:"d-flex align-items-center justify-content-between mx-2"},cie={class:"input-group input-group-sm",style:{width:"20%"}},hie=sO(()=>L("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),die=[hie],pie=sO(()=>L("ul",{id:"pagination-panorama",style:{height:"12%"}},null,-1)),fie={__name:"PanoramaTable",setup(r){const e=ci(!1);return(t,i)=>{const n=I_("tippy");return Le(),Be(Er,null,[L("div",uie,[L("div",cie,[vt(L("input",{type:"text",class:"form-control",placeholder:"Kata kunci","onUpdate:modelValue":i[0]||(i[0]=o=>eh(pu)?pu.value=o:null)},null,512),[[wn,z(pu)]]),vt((Le(),Be("span",{class:"input-group-text",onClick:i[1]||(i[1]=o=>z(pu)?z(nO)(!0):z(rO)(!0))},die)),[[n,{content:"Cari"}]])]),L("div",{class:"close-btn cursor-pointer",onMouseover:i[2]||(i[2]=o=>e.value=!0),onMouseleave:i[3]||(i[3]=o=>e.value=!1),onClick:i[4]||(i[4]=()=>z(VC)())},[L("i",{class:Li(["fa-circle-xmark fa-xl",e.value?"fa-solid":"fa-regular"])},null,2)],32)]),Wt(z(Jg),{class:"ag-theme-alpine",style:{height:"75%"},suppressPaginationPanel:!1,onSelectionChanged:z(sie),onGridReady:z(aie),pagination:!1,columnDefs:z(rie).value,defaultColDef:z(oie),rowSelection:"single",animateRows:"true"},null,8,["onSelectionChanged","onGridReady","columnDefs","defaultColDef"]),pie],64)}}},gie=kn(fie,[["__scopeId","data-v-d0ffe9ca"]]),mie={class:"d-flex gap-2"},vie=L("i",{class:"fa-solid fa-circle-info cursor-pointer"},null,-1),yie=[vie],_ie=L("i",{class:"fa-solid fa-trash cursor-pointer"},null,-1),Cie=[_ie],wie={__name:"Account",setup(r){async function e(t){const{id:i}=t;oh.fire({title:"Are you sure?",text:"This account could't be able to restore!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0d6efd",cancelButtonColor:"#dc3545",confirmButtonText:"Yes, delete it!"}).then(async n=>{if(n.isConfirmed)try{await vn.delete(`/auth/users/${i}/`),fu&&fu.showLoadingOverlay();const o=await lO();aO(o),fu&&fu.hideOverlay(),xo.fire({icon:"success",title:"Account Deleted!"})}catch(o){console.error(o),xo.fire({icon:"error",title:"Failed to Remove Account!"})}})}return(t,i)=>(Le(),Be("div",mie,[L("span",{onClick:i[0]||(i[0]=()=>z(p6)(t.params.data))},yie),L("span",{onClick:i[1]||(i[1]=()=>e(t.params.data))},Cie)]))}};let fu;const{role:Sie}=JSON.parse(sa(sessionStorage.getItem("userData"))),Eie=[{headerName:"Email",field:"email",flex:1},{headerName:"Username",field:"username",flex:1},{headerName:"Role",field:"role",flex:1},{headerName:"Status",cellRenderer:r=>r.data.is_active?"Active":"Non Active"},{field:"Options",width:90,cellRenderer:wie,hide:Sie!=="admin"}],aO=r=>fu.setRowData(r),xie={resizable:!0};async function lO(){const r=await vn.get("/auth/users/"),e=[];for(const t of r.data){let i=await Rie(t);i!==void 0&&e.push(i)}return e}async function Rie(r){const{organization:e}=JSON.parse(sa(sessionStorage.getItem("userData"))),t=await vn.get("/organization_users/",{params:{user:r.id,organization:e}}),{results:i}=t.data;if(i.length&&e===i[0].organization&&r.id===i[0].user)return r}async function bie(r){try{fu=r.api;const e=await lO();aO(e)}catch(e){console.log(e)}}const Mie={class:"modal fade",id:"acc2-info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Tie={class:"modal-dialog modal-dialog-centered"},Pie={class:"modal-content"},Oie=L("div",{class:"modal-header"},[L("h1",{class:"modal-title fs-5"},"Account Information"),L("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Aie={class:"modal-body"},Die={class:"list-group"},Iie={class:"list-group-item d-flex justify-content-between align-items-start"},Lie={class:"ms-2 me-auto"},Fie=L("div",{class:"fw-bold"},"User ID",-1),Nie={class:"list-group-item d-flex justify-content-between align-items-start"},Gie={class:"ms-2 me-auto"},Hie=L("div",{class:"fw-bold"},"Email",-1),Wie={class:"list-group-item d-flex justify-content-between align-items-start"},Vie={class:"ms-2 me-auto"},kie=L("div",{class:"fw-bold"},"Username",-1),Bie={class:"list-group-item d-flex justify-content-between align-items-start"},Uie={class:"ms-2 me-auto"},zie=L("div",{class:"fw-bold"},"Role",-1),jie={__name:"Info",setup(r){return(e,t)=>(Le(),Be("div",Mie,[L("div",Tie,[L("div",Pie,[Oie,L("div",Aie,[L("ol",Die,[L("li",Iie,[L("div",Lie,[Fie,Ls(" "+bi(z(Bs).id),1)])]),L("li",Nie,[L("div",Gie,[Hie,Ls(" "+bi(z(Bs).email),1)])]),L("li",Wie,[L("div",Vie,[kie,Ls(" "+bi(z(Bs).username),1)])]),L("li",Bie,[L("div",Uie,[zie,Ls(" "+bi(z(Bs).role),1)])])])])])])]))}},$ie={style:{height:"13%"},class:"d-flex align-items-center justify-content-between mx-2"},Yie=L("div",null,null,-1),Kie={__name:"AccountTable",setup(r){const e=ci(!1),{role:t}=JSON.parse(sa(sessionStorage.getItem("userData")));return(i,n)=>(Le(),Be(Er,null,[L("div",$ie,[Yie,L("div",{class:"close-btn cursor-pointer",onMouseover:n[0]||(n[0]=o=>e.value=!0),onMouseleave:n[1]||(n[1]=o=>e.value=!1),onClick:n[2]||(n[2]=(...o)=>z(cx)&&z(cx)(...o))},[L("i",{class:Li(["fa-circle-xmark fa-xl",e.value?"fa-solid":"fa-regular"])},null,2)],32)]),z(t)==="admin"?(Le(),Ur(jie,{key:0})):Ci("",!0),Wt(z(Jg),{class:"ag-theme-alpine",style:{height:"87%"},onGridReady:z(bie),pagination:!0,columnDefs:z(Eie),defaultColDef:z(xie),rowSelection:"single",animateRows:"true"},null,8,["onGridReady","columnDefs","defaultColDef"])],64))}},Xie={key:0,style:{height:"100%"}},qie={key:1,style:{height:"100%"}},Zie={key:2,style:{height:"100%"}},Jie={key:3,style:{height:"100%"}},Qie={__name:"PaneTable",setup(r){return(e,t)=>(Le(),Be(Er,null,[z(ts)?(Le(),Be("div",Xie,[Wt(jee)])):Ci("",!0),z(Ks)?(Le(),Be("div",qie,[Wt(nie)])):Ci("",!0),z(Xs)?(Le(),Be("div",Zie,[Wt(gie)])):Ci("",!0),z(qs)?(Le(),Be("div",Jie,[Wt(Kie)])):Ci("",!0)],64))}},gu=Pn({x:0,y:0});function ene(r){interact(r).draggable({ignoreFrom:"input, textarea",inertia:!0,restrict:{restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}},listeners:{move(e){gu.x+=e.dx,gu.y+=e.dy,e.target.style.transform=`translate(${gu.x}px, ${gu.y}px)`}}})}const ac=r=>(Rr("data-v-4fb81e0d"),r=r(),br(),r),tne={class:"card-body"},ine={class:"mb-3 row"},nne=ac(()=>L("label",{class:"col-sm-6 col-form-label"},"Drift Along track axis",-1)),rne={class:"col-sm-6"},one={class:"mb-3 row"},sne=ac(()=>L("label",{class:"col-sm-6 col-form-label"},"Drift by side track axis",-1)),ane={class:"col-sm-6"},lne={class:"mb-3 row"},une=ac(()=>L("label",{class:"col-sm-6 col-form-label"},"Height from ground",-1)),cne={class:"col-sm-6"},hne={class:"mb-3 row"},dne=ac(()=>L("label",{class:"col-sm-6 col-form-label"},"Roll angle",-1)),pne={class:"col-sm-6"},fne={class:"mb-3 row"},gne=ac(()=>L("label",{class:"col-sm-6 col-form-label"},"Pitch angle",-1)),mne={class:"col-sm-6"},vne={class:"mb-3 row"},yne=ac(()=>L("label",{class:"col-sm-6 col-form-label"},"Track angle",-1)),_ne={class:"col-sm-6"},Cne={__name:"CorrectionPopup",setup(r){async function e(){const{id:i}=di,{id:n,yField:o,xField:s,hField:a,rollField:l,pitchField:u,trackField:c,noteField:h}=Nt;try{await cM.put("/api/correct/",{base_id:i,drift_x:s,drift_y:o,height:a,roll:l,pitch:u,track:c,X_API_KEY:"Kemang_28_secret",id:n}),xo.fire({icon:"success",title:"Correction Value has been saved!"})}catch(d){console.error(d),xo.fire({icon:"error",title:"Correction Value not saved!"})}}function t(){const{yField:i,xField:n,hField:o,rollField:s,pitchField:a,trackField:l}=Ts;Nt.yField=i,Nt.xField=n,Nt.hField=o,Nt.rollField=s,Nt.pitchField=a,Nt.trackField=l,Ln()}return GR(()=>{ene("#correction-panorama")}),(i,n)=>(Le(),Ur(To,{name:"custom-classes","enter-active-class":"animate__animated animate__zoomIn animate__faster","leave-active-class":"animate__animated animate__zoomOut animate__faster"},{default:dn(()=>[z(er).showCorrection?(Le(),Be("div",{key:0,class:"card",id:"correction-panorama",style:NR(`transform: translate(${z(gu).x}px, ${z(gu).y}px)`)},[L("div",tne,[L("form",null,[L("div",ine,[nne,L("div",rne,[vt(L("input",{type:"number",onChange:n[0]||(n[0]=(...o)=>z(Ln)&&z(Ln)(...o)),"onUpdate:modelValue":n[1]||(n[1]=o=>z(Nt).yField=o),placeholder:"0.00",step:".2",class:"form-control form-control-sm"},null,544),[[wn,z(Nt).yField]])])]),L("div",one,[sne,L("div",ane,[vt(L("input",{type:"number",onChange:n[2]||(n[2]=(...o)=>z(Ln)&&z(Ln)(...o)),"onUpdate:modelValue":n[3]||(n[3]=o=>z(Nt).xField=o),placeholder:"0.00",step:".2",class:"form-control form-control-sm"},null,544),[[wn,z(Nt).xField]])])]),L("div",lne,[une,L("div",cne,[vt(L("input",{type:"number",onChange:n[4]||(n[4]=(...o)=>z(Ln)&&z(Ln)(...o)),"onUpdate:modelValue":n[5]||(n[5]=o=>z(Nt).hField=o),placeholder:"0.00",step:".2",class:"form-control form-control-sm"},null,544),[[wn,z(Nt).hField]])])]),L("div",hne,[dne,L("div",pne,[vt(L("input",{type:"number",onChange:n[6]||(n[6]=(...o)=>z(Ln)&&z(Ln)(...o)),"onUpdate:modelValue":n[7]||(n[7]=o=>z(Nt).rollField=o),placeholder:"0.00",step:".2",class:"form-control form-control-sm"},null,544),[[wn,z(Nt).rollField]])])]),L("div",fne,[gne,L("div",mne,[vt(L("input",{type:"number",onChange:n[8]||(n[8]=(...o)=>z(Ln)&&z(Ln)(...o)),"onUpdate:modelValue":n[9]||(n[9]=o=>z(Nt).pitchField=o),placeholder:"0.00",step:".2",class:"form-control form-control-sm"},null,544),[[wn,z(Nt).pitchField]])])]),L("div",vne,[yne,L("div",_ne,[vt(L("input",{type:"number",onChange:n[10]||(n[10]=(...o)=>z(Ln)&&z(Ln)(...o)),"onUpdate:modelValue":n[11]||(n[11]=o=>z(Nt).trackField=o),placeholder:"0.00",step:".2",class:"form-control form-control-sm"},null,544),[[wn,z(Nt).trackField]])])]),L("div",{class:"d-flex justify-content-between"},[L("button",{type:"button",class:"btn btn-primary btn-sm mt-1",onClick:e},"Keep"),L("button",{type:"button",class:"btn btn-danger btn-sm mt-1",onClick:t},"Discard")])])])],4)):Ci("",!0)]),_:1}))}},wne=kn(Cne,[["__scopeId","data-v-4fb81e0d"]]);const Sne={style:{height:"100vh"}},Rne={__name:"MapViewer",setup(r){function e(){qr()!=="7d2e4643-ec20-484a-92a2-1ed63e24d34c"?alert("project id not valid"):Iy()!=="2023"&&alert("year of project not valid")}function t(){setTimeout(()=>{J4(),I4(),fj(qr(),Iy())},qh),e()}return(i,n)=>(Le(),Be("div",Sne,[Wt(z(R0),{horizontal:"",onReady:t,class:"default-theme",onResize:z(q4),"dbl-click-splitter":!1},{default:dn(()=>[Wt(z(_d),{size:z(fn).top},{default:dn(()=>[Wt(z(R0),{vertical:"",onResize:z(X4),"dbl-click-splitter":!1},{default:dn(()=>[Wt(z(_d),{class:"card",size:z(fn).map},{default:dn(()=>[Wt(t8)]),_:1},8,["size"]),Wt(z(_d),{class:"card",size:z(fn).pano},{default:dn(()=>[Wt(X8)]),_:1},8,["size"])]),_:1},8,["onResize"])]),_:1},8,["size"]),Wt(z(_d),{class:"card",size:z(fn).bottom,"max-size":"50"},{default:dn(()=>[Wt(Qie)]),_:1},8,["size"])]),_:1},8,["onResize"]),Wt(wne)]))}};export{Rne as default};
